{"version":3,"file":"clappr.plainhtml5.min.js","sources":["../node_modules/@clappr/core/dist/clappr-core.esm.js","../node_modules/@clappr/plugins/dist/clappr-plugins.esm.js","../src/base_bundle.js"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n/**\n * Array.prototype.find\n *\n * Original source : https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * See also : https://tc39.github.io/ecma262/#sec-array.prototype.find\n */\nif (!Array.prototype.find) {\n  // eslint-disable-next-line\n  Object.defineProperty(Array.prototype, 'find', {\n    // Note: ES6 arrow function syntax is not used on purpose to avoid this to be undefined\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) throw new TypeError('\"this\" is null or not defined');\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n      if (typeof predicate !== 'function') throw new TypeError('predicate must be a function'); // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n      var thisArg = arguments[1]; // 5. Let k be 0.\n\n      var k = 0; // 6. Repeat, while k < len\n\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) return kValue; // e. Increase k by 1.\n\n        k++;\n      } // 7. Return undefined.\n\n\n      return undefined;\n    }\n  });\n} // polyfills for smart TVs\n\n\nif (!Object.entries) {\n  Object.entries = function (obj) {\n    var ownProps = Object.keys(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n\n    while (i--) {\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    }\n\n    return resArray;\n  };\n}\n\nif (!Object.values) {\n  Object.values = function (obj) {\n    var ownProps = Object.keys(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n\n    while (i--) {\n      resArray[i] = obj[ownProps[i]];\n    }\n\n    return resArray;\n  };\n}\n/**\n * Object.assign\n * This polyfill doesn't support symbol properties, since ES5 doesn't have symbols anyway\n *\n * Original source : https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    // length of function is 2.\n    value: function assign(target, varArgs) {\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n} // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n\n\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      } // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n\n      var thisArg = arguments[1]; // 5. Let k be 0.\n\n      var k = 0; // 6. Repeat, while k < len\n\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return k.\n        var kValue = o[k];\n\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return k;\n        } // e. Increase k by 1.\n\n\n        k++;\n      } // 7. Return -1.\n\n\n      return -1;\n    },\n    configurable: true,\n    writable: true\n  });\n}\n\n// https://github.com/mathiasbynens/small\nvar mp4 = 'data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=';\nvar Media = {\n  mp4: mp4\n};\n\n/* Zepto v1.2.0 - zepto ajax callbacks deferred event ie selector - zeptojs.com/license */\nvar Zepto = function () {\n  var undefined$1,\n      key,\n      $,\n      classList,\n      emptyArray = [],\n      concat = emptyArray.concat,\n      filter = emptyArray.filter,\n      slice = emptyArray.slice,\n      document = window.document,\n      elementDisplay = {},\n      classCache = {},\n      cssNumber = {\n    'column-count': 1,\n    'columns': 1,\n    'font-weight': 1,\n    'line-height': 1,\n    'opacity': 1,\n    'z-index': 1,\n    'zoom': 1\n  },\n      fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n      singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n      tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n      rootNodeRE = /^(?:body|html)$/i,\n      capitalRE = /([A-Z])/g,\n      // special attributes that should be get/set via method calls\n  methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n      adjacencyOperators = ['after', 'prepend', 'before', 'append'],\n      table = document.createElement('table'),\n      tableRow = document.createElement('tr'),\n      containers = {\n    'tr': document.createElement('tbody'),\n    'tbody': table,\n    'thead': table,\n    'tfoot': table,\n    'td': tableRow,\n    'th': tableRow,\n    '*': document.createElement('div')\n  },\n      readyRE = /complete|loaded|interactive/,\n      simpleSelectorRE = /^[\\w-]*$/,\n      class2type = {},\n      toString = class2type.toString,\n      zepto = {},\n      camelize,\n      uniq,\n      tempParent = document.createElement('div'),\n      propMap = {\n    'tabindex': 'tabIndex',\n    'readonly': 'readOnly',\n    'for': 'htmlFor',\n    'class': 'className',\n    'maxlength': 'maxLength',\n    'cellspacing': 'cellSpacing',\n    'cellpadding': 'cellPadding',\n    'rowspan': 'rowSpan',\n    'colspan': 'colSpan',\n    'usemap': 'useMap',\n    'frameborder': 'frameBorder',\n    'contenteditable': 'contentEditable'\n  },\n      isArray = Array.isArray || function (object) {\n    return object instanceof Array;\n  };\n\n  zepto.matches = function (element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false;\n    var matchesSelector = element.matches || element.webkitMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.matchesSelector;\n    if (matchesSelector) return matchesSelector.call(element, selector); // fall back to performing a selector:\n\n    var match,\n        parent = element.parentNode,\n        temp = !parent;\n    if (temp) (parent = tempParent).appendChild(element);\n    match = ~zepto.qsa(parent, selector).indexOf(element);\n    temp && tempParent.removeChild(element);\n    return match;\n  };\n\n  function type(obj) {\n    return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n  }\n\n  function isFunction(value) {\n    return type(value) == \"function\";\n  }\n\n  function isWindow(obj) {\n    return obj != null && obj == obj.window;\n  }\n\n  function isDocument(obj) {\n    return obj != null && obj.nodeType == obj.DOCUMENT_NODE;\n  }\n\n  function isObject(obj) {\n    return type(obj) == \"object\";\n  }\n\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype;\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n        type = $.type(obj);\n    return 'function' != type && !isWindow(obj) && ('array' == type || length === 0 || typeof length == 'number' && length > 0 && length - 1 in obj);\n  }\n\n  function compact(array) {\n    return filter.call(array, function (item) {\n      return item != null;\n    });\n  }\n\n  function flatten(array) {\n    return array.length > 0 ? $.fn.concat.apply([], array) : array;\n  }\n\n  camelize = function (str) {\n    return str.replace(/-+(.)?/g, function (match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n  };\n\n  function dasherize(str) {\n    return str.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();\n  }\n\n  uniq = function (array) {\n    return filter.call(array, function (item, idx) {\n      return array.indexOf(item) == idx;\n    });\n  };\n\n  function classRE(name) {\n    return name in classCache ? classCache[name] : classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)');\n  }\n\n  function maybeAddPx(name, value) {\n    return typeof value == \"number\" && !cssNumber[dasherize(name)] ? value + \"px\" : value;\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display;\n\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName);\n      document.body.appendChild(element);\n      display = getComputedStyle(element, '').getPropertyValue(\"display\");\n      element.parentNode.removeChild(element);\n      display == \"none\" && (display = \"block\");\n      elementDisplay[nodeName] = display;\n    }\n\n    return elementDisplay[nodeName];\n  }\n\n  function children(element) {\n    return 'children' in element ? slice.call(element.children) : $.map(element.childNodes, function (node) {\n      if (node.nodeType == 1) return node;\n    });\n  }\n\n  function Z(dom, selector) {\n    var i,\n        len = dom ? dom.length : 0;\n\n    for (i = 0; i < len; i++) this[i] = dom[i];\n\n    this.length = len;\n    this.selector = selector || '';\n  } // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n\n\n  zepto.fragment = function (html, name, properties) {\n    var dom, nodes, container; // A special case optimization for a single tag\n\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1));\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\");\n      if (name === undefined$1) name = fragmentRE.test(html) && RegExp.$1;\n      if (!(name in containers)) name = '*';\n      container = containers[name];\n      container.innerHTML = '' + html;\n      dom = $.each(slice.call(container.childNodes), function () {\n        container.removeChild(this);\n      });\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom);\n      $.each(properties, function (key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value);else nodes.attr(key, value);\n      });\n    }\n\n    return dom;\n  }; // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n\n\n  zepto.Z = function (dom, selector) {\n    return new Z(dom, selector);\n  }; // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n\n\n  zepto.isZ = function (object) {\n    return object instanceof zepto.Z;\n  }; // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n\n\n  zepto.init = function (selector, context) {\n    var dom; // If nothing given, return an empty Zepto collection\n\n    if (!selector) return zepto.Z(); // Optimize for string selectors\n    else if (typeof selector == 'string') {\n        selector = selector.trim(); // If it's a html fragment, create nodes from it\n        // Note: In both Chrome 21 and Firefox 15, DOM error 12\n        // is thrown if the fragment doesn't begin with <\n\n        if (selector[0] == '<' && fragmentRE.test(selector)) dom = zepto.fragment(selector, RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n        // nodes from there\n        else if (context !== undefined$1) return $(context).find(selector); // If it's a CSS selector, use it to select nodes.\n          else dom = zepto.qsa(document, selector);\n      } // If a function is given, call it when the DOM is ready\n      else if (isFunction(selector)) return $(document).ready(selector); // If a Zepto collection is given, just return it\n        else if (zepto.isZ(selector)) return selector;else {\n            // normalize array if an array of nodes is given\n            if (isArray(selector)) dom = compact(selector); // Wrap DOM nodes.\n            else if (isObject(selector)) dom = [selector], selector = null; // If it's a html fragment, create nodes from it\n              else if (fragmentRE.test(selector)) dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n                // nodes from there\n                else if (context !== undefined$1) return $(context).find(selector); // And last but no least, if it's a CSS selector, use it to select nodes.\n                  else dom = zepto.qsa(document, selector);\n          } // create a new Zepto collection from the nodes found\n\n    return zepto.Z(dom, selector);\n  }; // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n\n\n  $ = function (selector, context) {\n    return zepto.init(selector, context);\n  };\n\n  function extend(target, source, deep) {\n    for (key in source) if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) target[key] = {};\n      if (isArray(source[key]) && !isArray(target[key])) target[key] = [];\n      extend(target[key], source[key], deep);\n    } else if (source[key] !== undefined$1) target[key] = source[key];\n  } // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n\n\n  $.extend = function (target) {\n    var deep,\n        args = slice.call(arguments, 1);\n\n    if (typeof target == 'boolean') {\n      deep = target;\n      target = args.shift();\n    }\n\n    args.forEach(function (arg) {\n      extend(target, arg, deep);\n    });\n    return target;\n  }; // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n\n\n  zepto.qsa = function (element, selector) {\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector,\n        // Ensure that a 1 char tag name still gets checked\n    isSimple = simpleSelectorRE.test(nameOnly);\n    return element.getElementById && isSimple && maybeID ? // Safari DocumentFragment doesn't have getElementById\n    (found = element.getElementById(nameOnly)) ? [found] : [] : element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11 ? [] : slice.call(isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n    maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n    element.getElementsByTagName(selector) : // Or a tag\n    element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n    );\n  };\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector);\n  }\n\n  $.contains = document.documentElement.contains ? function (parent, node) {\n    return parent !== node && parent.contains(node);\n  } : function (parent, node) {\n    while (node && (node = node.parentNode)) if (node === parent) return true;\n\n    return false;\n  };\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg;\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value);\n  } // access className property while respecting SVGAnimatedString\n\n\n  function className(node, value) {\n    var klass = node.className || '',\n        svg = klass && klass.baseVal !== undefined$1;\n    if (value === undefined$1) return svg ? klass.baseVal : klass;\n    svg ? klass.baseVal = value : node.className = value;\n  } // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n\n\n  function deserializeValue(value) {\n    try {\n      return value ? value == \"true\" || (value == \"false\" ? false : value == \"null\" ? null : +value + \"\" == value ? +value : /^[\\[\\{]/.test(value) ? $.parseJSON(value) : value) : value;\n    } catch (e) {\n      return value;\n    }\n  }\n\n  $.type = type;\n  $.isFunction = isFunction;\n  $.isWindow = isWindow;\n  $.isArray = isArray;\n  $.isPlainObject = isPlainObject;\n\n  $.isEmptyObject = function (obj) {\n    var name;\n\n    for (name in obj) return false;\n\n    return true;\n  };\n\n  $.isNumeric = function (val) {\n    var num = Number(val),\n        type = typeof val;\n    return val != null && type != 'boolean' && (type != 'string' || val.length) && !isNaN(num) && isFinite(num) || false;\n  };\n\n  $.inArray = function (elem, array, i) {\n    return emptyArray.indexOf.call(array, elem, i);\n  };\n\n  $.camelCase = camelize;\n\n  $.trim = function (str) {\n    return str == null ? \"\" : String.prototype.trim.call(str);\n  }; // plugin compatibility\n\n\n  $.uuid = 0;\n  $.support = {};\n  $.expr = {};\n\n  $.noop = function () {};\n\n  $.map = function (elements, callback) {\n    var value,\n        values = [],\n        i,\n        key;\n    if (likeArray(elements)) for (i = 0; i < elements.length; i++) {\n      value = callback(elements[i], i);\n      if (value != null) values.push(value);\n    } else for (key in elements) {\n      value = callback(elements[key], key);\n      if (value != null) values.push(value);\n    }\n    return flatten(values);\n  };\n\n  $.each = function (elements, callback) {\n    var i, key;\n\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++) if (callback.call(elements[i], i, elements[i]) === false) return elements;\n    } else {\n      for (key in elements) if (callback.call(elements[key], key, elements[key]) === false) return elements;\n    }\n\n    return elements;\n  };\n\n  $.grep = function (elements, callback) {\n    return filter.call(elements, callback);\n  };\n\n  if (window.JSON) $.parseJSON = JSON.parse; // Populate the class2type map\n\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function (i, name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n  }); // Define methods that will be available on all\n  // Zepto collections\n\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function () {\n      var i,\n          value,\n          args = [];\n\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i];\n        args[i] = zepto.isZ(value) ? value.toArray() : value;\n      }\n\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args);\n    },\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function (fn) {\n      return $($.map(this, function (el, i) {\n        return fn.call(el, i, el);\n      }));\n    },\n    slice: function () {\n      return $(slice.apply(this, arguments));\n    },\n    ready: function (callback) {\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($);else document.addEventListener('DOMContentLoaded', function () {\n        callback($);\n      }, false);\n      return this;\n    },\n    get: function (idx) {\n      return idx === undefined$1 ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length];\n    },\n    toArray: function () {\n      return this.get();\n    },\n    size: function () {\n      return this.length;\n    },\n    remove: function () {\n      return this.each(function () {\n        if (this.parentNode != null) this.parentNode.removeChild(this);\n      });\n    },\n    each: function (callback) {\n      emptyArray.every.call(this, function (el, idx) {\n        return callback.call(el, idx, el) !== false;\n      });\n      return this;\n    },\n    filter: function (selector) {\n      if (isFunction(selector)) return this.not(this.not(selector));\n      return $(filter.call(this, function (element) {\n        return zepto.matches(element, selector);\n      }));\n    },\n    add: function (selector, context) {\n      return $(uniq(this.concat($(selector, context))));\n    },\n    is: function (selector) {\n      return this.length > 0 && zepto.matches(this[0], selector);\n    },\n    not: function (selector) {\n      var nodes = [];\n      if (isFunction(selector) && selector.call !== undefined$1) this.each(function (idx) {\n        if (!selector.call(this, idx)) nodes.push(this);\n      });else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) : likeArray(selector) && isFunction(selector.item) ? slice.call(selector) : $(selector);\n        this.forEach(function (el) {\n          if (excludes.indexOf(el) < 0) nodes.push(el);\n        });\n      }\n      return $(nodes);\n    },\n    has: function (selector) {\n      return this.filter(function () {\n        return isObject(selector) ? $.contains(this, selector) : $(this).find(selector).size();\n      });\n    },\n    eq: function (idx) {\n      return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1);\n    },\n    first: function () {\n      var el = this[0];\n      return el && !isObject(el) ? el : $(el);\n    },\n    last: function () {\n      var el = this[this.length - 1];\n      return el && !isObject(el) ? el : $(el);\n    },\n    find: function (selector) {\n      var result,\n          $this = this;\n      if (!selector) result = $();else if (typeof selector == 'object') result = $(selector).filter(function () {\n        var node = this;\n        return emptyArray.some.call($this, function (parent) {\n          return $.contains(parent, node);\n        });\n      });else if (this.length == 1) result = $(zepto.qsa(this[0], selector));else result = this.map(function () {\n        return zepto.qsa(this, selector);\n      });\n      return result;\n    },\n    closest: function (selector, context) {\n      var nodes = [],\n          collection = typeof selector == 'object' && $(selector);\n      this.each(function (_, node) {\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector))) node = node !== context && !isDocument(node) && node.parentNode;\n\n        if (node && nodes.indexOf(node) < 0) nodes.push(node);\n      });\n      return $(nodes);\n    },\n    parents: function (selector) {\n      var ancestors = [],\n          nodes = this;\n\n      while (nodes.length > 0) nodes = $.map(nodes, function (node) {\n        if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n          ancestors.push(node);\n          return node;\n        }\n      });\n\n      return filtered(ancestors, selector);\n    },\n    parent: function (selector) {\n      return filtered(uniq(this.pluck('parentNode')), selector);\n    },\n    children: function (selector) {\n      return filtered(this.map(function () {\n        return children(this);\n      }), selector);\n    },\n    contents: function () {\n      return this.map(function () {\n        return this.contentDocument || slice.call(this.childNodes);\n      });\n    },\n    siblings: function (selector) {\n      return filtered(this.map(function (i, el) {\n        return filter.call(children(el.parentNode), function (child) {\n          return child !== el;\n        });\n      }), selector);\n    },\n    empty: function () {\n      return this.each(function () {\n        this.innerHTML = '';\n      });\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function (property) {\n      return $.map(this, function (el) {\n        return el[property];\n      });\n    },\n    show: function () {\n      return this.each(function () {\n        this.style.display == \"none\" && (this.style.display = '');\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\") this.style.display = defaultDisplay(this.nodeName);\n      });\n    },\n    replaceWith: function (newContent) {\n      return this.before(newContent).remove();\n    },\n    wrap: function (structure) {\n      var func = isFunction(structure);\n      if (this[0] && !func) var dom = $(structure).get(0),\n          clone = dom.parentNode || this.length > 1;\n      return this.each(function (index) {\n        $(this).wrapAll(func ? structure.call(this, index) : clone ? dom.cloneNode(true) : dom);\n      });\n    },\n    wrapAll: function (structure) {\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure));\n        var children; // drill down to the inmost element\n\n        while ((children = structure.children()).length) structure = children.first();\n\n        $(structure).append(this);\n      }\n\n      return this;\n    },\n    wrapInner: function (structure) {\n      var func = isFunction(structure);\n      return this.each(function (index) {\n        var self = $(this),\n            contents = self.contents(),\n            dom = func ? structure.call(this, index) : structure;\n        contents.length ? contents.wrapAll(dom) : self.append(dom);\n      });\n    },\n    unwrap: function () {\n      this.parent().each(function () {\n        $(this).replaceWith($(this).children());\n      });\n      return this;\n    },\n    clone: function () {\n      return this.map(function () {\n        return this.cloneNode(true);\n      });\n    },\n    hide: function () {\n      return this.css(\"display\", \"none\");\n    },\n    toggle: function (setting) {\n      return this.each(function () {\n        var el = $(this);\n        (setting === undefined$1 ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide();\n      });\n    },\n    prev: function (selector) {\n      return $(this.pluck('previousElementSibling')).filter(selector || '*');\n    },\n    next: function (selector) {\n      return $(this.pluck('nextElementSibling')).filter(selector || '*');\n    },\n    html: function (html) {\n      return 0 in arguments ? this.each(function (idx) {\n        var originHtml = this.innerHTML;\n        $(this).empty().append(funcArg(this, html, idx, originHtml));\n      }) : 0 in this ? this[0].innerHTML : null;\n    },\n    text: function (text) {\n      return 0 in arguments ? this.each(function (idx) {\n        var newText = funcArg(this, text, idx, this.textContent);\n        this.textContent = newText == null ? '' : '' + newText;\n      }) : 0 in this ? this.pluck('textContent').join(\"\") : null;\n    },\n    attr: function (name, value) {\n      var result;\n      return typeof name == 'string' && !(1 in arguments) ? 0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined$1 : this.each(function (idx) {\n        if (this.nodeType !== 1) return;\n        if (isObject(name)) for (key in name) setAttribute(this, key, name[key]);else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)));\n      });\n    },\n    removeAttr: function (name) {\n      return this.each(function () {\n        this.nodeType === 1 && name.split(' ').forEach(function (attribute) {\n          setAttribute(this, attribute);\n        }, this);\n      });\n    },\n    prop: function (name, value) {\n      name = propMap[name] || name;\n      return 1 in arguments ? this.each(function (idx) {\n        this[name] = funcArg(this, value, idx, this[name]);\n      }) : this[0] && this[0][name];\n    },\n    removeProp: function (name) {\n      name = propMap[name] || name;\n      return this.each(function () {\n        delete this[name];\n      });\n    },\n    data: function (name, value) {\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase();\n      var data = 1 in arguments ? this.attr(attrName, value) : this.attr(attrName);\n      return data !== null ? deserializeValue(data) : undefined$1;\n    },\n    val: function (value) {\n      if (0 in arguments) {\n        if (value == null) value = \"\";\n        return this.each(function (idx) {\n          this.value = funcArg(this, value, idx, this.value);\n        });\n      } else {\n        return this[0] && (this[0].multiple ? $(this[0]).find('option').filter(function () {\n          return this.selected;\n        }).pluck('value') : this[0].value);\n      }\n    },\n    offset: function (coordinates) {\n      if (coordinates) return this.each(function (index) {\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n          top: coords.top - parentOffset.top,\n          left: coords.left - parentOffset.left\n        };\n        if ($this.css('position') == 'static') props['position'] = 'relative';\n        $this.css(props);\n      });\n      if (!this.length) return null;\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0])) return {\n        top: 0,\n        left: 0\n      };\n      var obj = this[0].getBoundingClientRect();\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      };\n    },\n    css: function (property, value) {\n      if (arguments.length < 2) {\n        var element = this[0];\n\n        if (typeof property == 'string') {\n          if (!element) return;\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property);\n        } else if (isArray(property)) {\n          if (!element) return;\n          var props = {};\n          var computedStyle = getComputedStyle(element, '');\n          $.each(property, function (_, prop) {\n            props[prop] = element.style[camelize(prop)] || computedStyle.getPropertyValue(prop);\n          });\n          return props;\n        }\n      }\n\n      var css = '';\n\n      if (type(property) == 'string') {\n        if (!value && value !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(property));\n        });else css = dasherize(property) + \":\" + maybeAddPx(property, value);\n      } else {\n        for (key in property) if (!property[key] && property[key] !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(key));\n        });else css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';';\n      }\n\n      return this.each(function () {\n        this.style.cssText += ';' + css;\n      });\n    },\n    index: function (element) {\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0]);\n    },\n    hasClass: function (name) {\n      if (!name) return false;\n      return emptyArray.some.call(this, function (el) {\n        return this.test(className(el));\n      }, classRE(name));\n    },\n    addClass: function (name) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        classList = [];\n        var cls = className(this),\n            newName = funcArg(this, name, idx, cls);\n        newName.split(/\\s+/g).forEach(function (klass) {\n          if (!$(this).hasClass(klass)) classList.push(klass);\n        }, this);\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"));\n      });\n    },\n    removeClass: function (name) {\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        if (name === undefined$1) return className(this, '');\n        classList = className(this);\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function (klass) {\n          classList = classList.replace(classRE(klass), \" \");\n        });\n        className(this, classList.trim());\n      });\n    },\n    toggleClass: function (name, when) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        var $this = $(this),\n            names = funcArg(this, name, idx, className(this));\n        names.split(/\\s+/g).forEach(function (klass) {\n          (when === undefined$1 ? !$this.hasClass(klass) : when) ? $this.addClass(klass) : $this.removeClass(klass);\n        });\n      });\n    },\n    scrollTop: function (value) {\n      if (!this.length) return;\n      var hasScrollTop = 'scrollTop' in this[0];\n      if (value === undefined$1) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset;\n      return this.each(hasScrollTop ? function () {\n        this.scrollTop = value;\n      } : function () {\n        this.scrollTo(this.scrollX, value);\n      });\n    },\n    scrollLeft: function (value) {\n      if (!this.length) return;\n      var hasScrollLeft = 'scrollLeft' in this[0];\n      if (value === undefined$1) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset;\n      return this.each(hasScrollLeft ? function () {\n        this.scrollLeft = value;\n      } : function () {\n        this.scrollTo(value, this.scrollY);\n      });\n    },\n    position: function () {\n      if (!this.length) return;\n      var elem = this[0],\n          // Get *real* offsetParent\n      offsetParent = this.offsetParent(),\n          // Get correct offsets\n      offset = this.offset(),\n          parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? {\n        top: 0,\n        left: 0\n      } : offsetParent.offset(); // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n\n      offset.top -= parseFloat($(elem).css('margin-top')) || 0;\n      offset.left -= parseFloat($(elem).css('margin-left')) || 0; // Add offsetParent borders\n\n      parentOffset.top += parseFloat($(offsetParent[0]).css('border-top-width')) || 0;\n      parentOffset.left += parseFloat($(offsetParent[0]).css('border-left-width')) || 0; // Subtract the two offsets\n\n      return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left\n      };\n    },\n    offsetParent: function () {\n      return this.map(function () {\n        var parent = this.offsetParent || document.body;\n\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\") parent = parent.offsetParent;\n\n        return parent;\n      });\n    }\n  }; // for now\n\n  $.fn.detach = $.fn.remove // Generate the `width` and `height` functions\n  ;\n  ['width', 'height'].forEach(function (dimension) {\n    var dimensionProperty = dimension.replace(/./, function (m) {\n      return m[0].toUpperCase();\n    });\n\n    $.fn[dimension] = function (value) {\n      var offset,\n          el = this[0];\n      if (value === undefined$1) return isWindow(el) ? el['inner' + dimensionProperty] : isDocument(el) ? el.documentElement['scroll' + dimensionProperty] : (offset = this.offset()) && offset[dimension];else return this.each(function (idx) {\n        el = $(this);\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()));\n      });\n    };\n  });\n\n  function traverseNode(node, fun) {\n    fun(node);\n\n    for (var i = 0, len = node.childNodes.length; i < len; i++) traverseNode(node.childNodes[i], fun);\n  } // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n\n\n  adjacencyOperators.forEach(function (operator, operatorIndex) {\n    var inside = operatorIndex % 2; //=> prepend, append\n\n    $.fn[operator] = function () {\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType,\n          nodes = $.map(arguments, function (arg) {\n        var arr = [];\n        argType = type(arg);\n\n        if (argType == \"array\") {\n          arg.forEach(function (el) {\n            if (el.nodeType !== undefined$1) return arr.push(el);else if ($.zepto.isZ(el)) return arr = arr.concat(el.get());\n            arr = arr.concat(zepto.fragment(el));\n          });\n          return arr;\n        }\n\n        return argType == \"object\" || arg == null ? arg : zepto.fragment(arg);\n      }),\n          parent,\n          copyByClone = this.length > 1;\n      if (nodes.length < 1) return this;\n      return this.each(function (_, target) {\n        parent = inside ? target : target.parentNode; // convert all methods to a \"before\" operation\n\n        target = operatorIndex == 0 ? target.nextSibling : operatorIndex == 1 ? target.firstChild : operatorIndex == 2 ? target : null;\n        var parentInDocument = $.contains(document.documentElement, parent);\n        nodes.forEach(function (node) {\n          if (copyByClone) node = node.cloneNode(true);else if (!parent) return $(node).remove();\n          parent.insertBefore(node, target);\n          if (parentInDocument) traverseNode(node, function (el) {\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' && (!el.type || el.type === 'text/javascript') && !el.src) {\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window;\n              target['eval'].call(target, el.innerHTML);\n            }\n          });\n        });\n      });\n    }; // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n\n\n    $.fn[inside ? operator + 'To' : 'insert' + (operatorIndex ? 'Before' : 'After')] = function (html) {\n      $(html)[operator](this);\n      return this;\n    };\n  });\n  zepto.Z.prototype = Z.prototype = $.fn; // Export internal API functions in the `$.zepto` namespace\n\n  zepto.uniq = uniq;\n  zepto.deserializeValue = deserializeValue;\n  $.zepto = zepto;\n  return $;\n}();\n\nwindow.Zepto = Zepto;\nwindow.$ === undefined && (window.$ = Zepto);\n\n(function ($) {\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a');\n  originAnchor.href = window.location.href; // trigger a custom event and return false if it was cancelled\n\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName);\n    $(context).trigger(event, data);\n    return !event.isDefaultPrevented();\n  } // trigger an Ajax \"global\" event\n\n\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data);\n  } // Number of active Ajax requests\n\n\n  $.active = 0;\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n  }\n\n  function ajaxStop(settings) {\n    if (settings.global && ! --$.active) triggerGlobal(settings, null, 'ajaxStop');\n  } // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n\n\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context;\n    if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n  }\n\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context,\n        status = 'success';\n    settings.success.call(context, data, status, xhr);\n    if (deferred) deferred.resolveWith(context, [data, status, xhr]);\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n    ajaxComplete(status, xhr, settings);\n  } // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\n\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context;\n    settings.error.call(context, xhr, type, error);\n    if (deferred) deferred.rejectWith(context, [xhr, type, error]);\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type]);\n    ajaxComplete(type, xhr, settings);\n  } // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\n\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context;\n    settings.complete.call(context, xhr, status);\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n    ajaxStop(settings);\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data;\n    var context = settings.context;\n    return settings.dataFilter.call(context, data, type);\n  } // Empty function, used as default callback\n\n\n  function empty() {}\n\n  $.ajaxJSONP = function (options, deferred) {\n    if (!('type' in options)) return $.ajax(options);\n\n    var _callbackName = options.jsonpCallback,\n        callbackName = ($.isFunction(_callbackName) ? _callbackName() : _callbackName) || 'Zepto' + jsonpID++,\n        script = document.createElement('script'),\n        originalCallback = window[callbackName],\n        responseData,\n        abort = function (errorType) {\n      $(script).triggerHandler('error', errorType || 'abort');\n    },\n        xhr = {\n      abort: abort\n    },\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    $(script).on('load error', function (e, errorType) {\n      clearTimeout(abortTimeout);\n      $(script).off().remove();\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred);\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred);\n      }\n\n      window[callbackName] = originalCallback;\n      if (responseData && $.isFunction(originalCallback)) originalCallback(responseData[0]);\n      originalCallback = responseData = undefined;\n    });\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort');\n      return xhr;\n    }\n\n    window[callbackName] = function () {\n      responseData = arguments;\n    };\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName);\n    document.head.appendChild(script);\n    if (options.timeout > 0) abortTimeout = setTimeout(function () {\n      abort('timeout');\n    }, options.timeout);\n    return xhr;\n  };\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest();\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json: jsonType,\n      xml: 'application/xml, text/xml',\n      html: htmlType,\n      text: 'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  };\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0];\n    return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url;\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n  } // serialize payload and append it to the URL for GET requests\n\n\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\") options.data = $.param(options.data, options.traditional);\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType)) options.url = appendQuery(options.url, options.data), options.data = undefined;\n  }\n\n  $.ajax = function (options) {\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor,\n        hashIndex;\n\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key];\n\n    ajaxStart(settings);\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a');\n      urlAnchor.href = settings.url; // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n\n      urlAnchor.href = urlAnchor.href;\n      settings.crossDomain = originAnchor.protocol + '//' + originAnchor.host !== urlAnchor.protocol + '//' + urlAnchor.host;\n    }\n\n    if (!settings.url) settings.url = window.location.toString();\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex);\n    serializeData(settings);\n    var dataType = settings.dataType,\n        hasPlaceholder = /\\?.+=\\?/.test(settings.url);\n    if (hasPlaceholder) dataType = 'jsonp';\n    if (settings.cache === false || (!options || options.cache !== true) && ('script' == dataType || 'jsonp' == dataType)) settings.url = appendQuery(settings.url, '_=' + Date.now());\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder) settings.url = appendQuery(settings.url, settings.jsonp ? settings.jsonp + '=?' : settings.jsonp === false ? '' : 'callback=?');\n      return $.ajaxJSONP(settings, deferred);\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = {},\n        setHeader = function (name, value) {\n      headers[name.toLowerCase()] = [name, value];\n    },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest');\n    setHeader('Accept', mime || '*/*');\n\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n      xhr.overrideMimeType && xhr.overrideMimeType(mime);\n    }\n\n    if (settings.contentType || settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET') setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name]);\n    xhr.setRequestHeader = setHeader;\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty;\n        clearTimeout(abortTimeout);\n        var result,\n            error = false;\n\n        if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob') result = xhr.response;else {\n            result = xhr.responseText;\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings);\n              if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result);\n            } catch (e) {\n              error = e;\n            }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred);\n          }\n          ajaxSuccess(result, xhr, settings, deferred);\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred);\n        }\n      }\n    };\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort();\n      ajaxError(null, 'abort', xhr, settings, deferred);\n      return xhr;\n    }\n\n    var async = 'async' in settings ? settings.async : true;\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password);\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name];\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name]);\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n      xhr.onreadystatechange = empty;\n      xhr.abort();\n      ajaxError(null, 'timeout', xhr, settings, deferred);\n    }, settings.timeout); // avoid sending empty string (#319)\n\n    xhr.send(settings.data ? settings.data : null);\n    return xhr;\n  }; // handle optional data/success arguments\n\n\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined;\n    if (!$.isFunction(success)) dataType = success, success = undefined;\n    return {\n      url: url,\n      data: data,\n      success: success,\n      dataType: dataType\n    };\n  }\n\n  $.get = function ()\n  /* url, data, success, dataType */\n  {\n    return $.ajax(parseArguments.apply(null, arguments));\n  };\n\n  $.post = function ()\n  /* url, data, success, dataType */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.type = 'POST';\n    return $.ajax(options);\n  };\n\n  $.getJSON = function ()\n  /* url, data, success */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.dataType = 'json';\n    return $.ajax(options);\n  };\n\n  $.fn.load = function (url, data, success) {\n    if (!this.length) return this;\n    var self = this,\n        parts = url.split(/\\s/),\n        selector,\n        options = parseArguments(url, data, success),\n        callback = options.success;\n    if (parts.length > 1) options.url = parts[0], selector = parts[1];\n\n    options.success = function (response) {\n      self.html(selector ? $('<div>').html(response.replace(rscript, \"\")).find(selector) : response);\n      callback && callback.apply(self, arguments);\n    };\n\n    $.ajax(options);\n    return this;\n  };\n\n  var escape = encodeURIComponent;\n\n  function serialize(params, obj, traditional, scope) {\n    var type,\n        array = $.isArray(obj),\n        hash = $.isPlainObject(obj);\n    $.each(obj, function (key, value) {\n      type = $.type(value);\n      if (scope) key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'; // handle data in serializeArray() format\n\n      if (!scope && array) params.add(value.name, value.value); // recurse into nested objects\n      else if (type == \"array\" || !traditional && type == \"object\") serialize(params, value, traditional, key);else params.add(key, value);\n    });\n  }\n\n  $.param = function (obj, traditional) {\n    var params = [];\n\n    params.add = function (key, value) {\n      if ($.isFunction(value)) value = value();\n      if (value == null) value = \"\";\n      this.push(escape(key) + '=' + escape(value));\n    };\n\n    serialize(params, obj, traditional);\n    return params.join('&').replace(/%20/g, '+');\n  };\n})(Zepto);\n\n(function ($) {\n  // Create a collection of callbacks to be fired in a sequence, with configurable behaviour\n  // Option flags:\n  //   - once: Callbacks fired at most one time.\n  //   - memory: Remember the most recent context and arguments\n  //   - stopOnFalse: Cease iterating over callback list\n  //   - unique: Permit adding at most one instance of the same callback\n  $.Callbacks = function (options) {\n    options = $.extend({}, options);\n\n    var memory,\n        // Last fire value (for non-forgettable lists)\n    fired,\n        // Flag to know if list was already fired\n    firing,\n        // Flag to know if list is currently firing\n    firingStart,\n        // First callback to fire (used internally by add and fireWith)\n    firingLength,\n        // End of the loop when firing\n    firingIndex,\n        // Index of currently firing callback (modified by remove if needed)\n    list = [],\n        // Actual callback list\n    stack = !options.once && [],\n        // Stack of fire calls for repeatable lists\n    fire = function (data) {\n      memory = options.memory && data;\n      fired = true;\n      firingIndex = firingStart || 0;\n      firingStart = 0;\n      firingLength = list.length;\n      firing = true;\n\n      for (; list && firingIndex < firingLength; ++firingIndex) {\n        if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n\n      firing = false;\n\n      if (list) {\n        if (stack) stack.length && fire(stack.shift());else if (memory) list.length = 0;else Callbacks.disable();\n      }\n    },\n        Callbacks = {\n      add: function () {\n        if (list) {\n          var start = list.length,\n              add = function (args) {\n            $.each(args, function (_, arg) {\n              if (typeof arg === \"function\") {\n                if (!options.unique || !Callbacks.has(arg)) list.push(arg);\n              } else if (arg && arg.length && typeof arg !== 'string') add(arg);\n            });\n          };\n\n          add(arguments);\n          if (firing) firingLength = list.length;else if (memory) {\n            firingStart = start;\n            fire(memory);\n          }\n        }\n\n        return this;\n      },\n      remove: function () {\n        if (list) {\n          $.each(arguments, function (_, arg) {\n            var index;\n\n            while ((index = $.inArray(arg, list, index)) > -1) {\n              list.splice(index, 1); // Handle firing indexes\n\n              if (firing) {\n                if (index <= firingLength) --firingLength;\n                if (index <= firingIndex) --firingIndex;\n              }\n            }\n          });\n        }\n\n        return this;\n      },\n      has: function (fn) {\n        return !!(list && (fn ? $.inArray(fn, list) > -1 : list.length));\n      },\n      empty: function () {\n        firingLength = list.length = 0;\n        return this;\n      },\n      disable: function () {\n        list = stack = memory = undefined;\n        return this;\n      },\n      disabled: function () {\n        return !list;\n      },\n      lock: function () {\n        stack = undefined;\n        if (!memory) Callbacks.disable();\n        return this;\n      },\n      locked: function () {\n        return !stack;\n      },\n      fireWith: function (context, args) {\n        if (list && (!fired || stack)) {\n          args = args || [];\n          args = [context, args.slice ? args.slice() : args];\n          if (firing) stack.push(args);else fire(args);\n        }\n\n        return this;\n      },\n      fire: function () {\n        return Callbacks.fireWith(this, arguments);\n      },\n      fired: function () {\n        return !!fired;\n      }\n    };\n\n    return Callbacks;\n  };\n})(Zepto);\n\n(function ($) {\n  var slice = Array.prototype.slice;\n\n  function Deferred(func) {\n    var tuples = [// action, add listener, listener list, final state\n    [\"resolve\", \"done\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"resolved\"], [\"reject\", \"fail\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"rejected\"], [\"notify\", \"progress\", $.Callbacks({\n      memory: 1\n    })]],\n        state = \"pending\",\n        promise = {\n      state: function () {\n        return state;\n      },\n      always: function () {\n        deferred.done(arguments).fail(arguments);\n        return this;\n      },\n      then: function ()\n      /* fnDone [, fnFailed [, fnProgress]] */\n      {\n        var fns = arguments;\n        return Deferred(function (defer) {\n          $.each(tuples, function (i, tuple) {\n            var fn = $.isFunction(fns[i]) && fns[i];\n            deferred[tuple[1]](function () {\n              var returned = fn && fn.apply(this, arguments);\n\n              if (returned && $.isFunction(returned.promise)) {\n                returned.promise().done(defer.resolve).fail(defer.reject).progress(defer.notify);\n              } else {\n                var context = this === promise ? defer.promise() : this,\n                    values = fn ? [returned] : arguments;\n                defer[tuple[0] + \"With\"](context, values);\n              }\n            });\n          });\n          fns = null;\n        }).promise();\n      },\n      promise: function (obj) {\n        return obj != null ? $.extend(obj, promise) : promise;\n      }\n    },\n        deferred = {};\n    $.each(tuples, function (i, tuple) {\n      var list = tuple[2],\n          stateString = tuple[3];\n      promise[tuple[1]] = list.add;\n\n      if (stateString) {\n        list.add(function () {\n          state = stateString;\n        }, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n      }\n\n      deferred[tuple[0]] = function () {\n        deferred[tuple[0] + \"With\"](this === deferred ? promise : this, arguments);\n        return this;\n      };\n\n      deferred[tuple[0] + \"With\"] = list.fireWith;\n    });\n    promise.promise(deferred);\n    if (func) func.call(deferred, deferred);\n    return deferred;\n  }\n\n  $.when = function (sub) {\n    var resolveValues = slice.call(arguments),\n        len = resolveValues.length,\n        i = 0,\n        remain = len !== 1 || sub && $.isFunction(sub.promise) ? len : 0,\n        deferred = remain === 1 ? sub : Deferred(),\n        progressValues,\n        progressContexts,\n        resolveContexts,\n        updateFn = function (i, ctx, val) {\n      return function (value) {\n        ctx[i] = this;\n        val[i] = arguments.length > 1 ? slice.call(arguments) : value;\n\n        if (val === progressValues) {\n          deferred.notifyWith(ctx, val);\n        } else if (! --remain) {\n          deferred.resolveWith(ctx, val);\n        }\n      };\n    };\n\n    if (len > 1) {\n      progressValues = new Array(len);\n      progressContexts = new Array(len);\n      resolveContexts = new Array(len);\n\n      for (; i < len; ++i) {\n        if (resolveValues[i] && $.isFunction(resolveValues[i].promise)) {\n          resolveValues[i].promise().done(updateFn(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFn(i, progressContexts, progressValues));\n        } else {\n          --remain;\n        }\n      }\n    }\n\n    if (!remain) deferred.resolveWith(resolveContexts, resolveValues);\n    return deferred.promise();\n  };\n\n  $.Deferred = Deferred;\n})(Zepto);\n\n(function ($) {\n  var _zid = 1,\n      undefined$1,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function (obj) {\n    return typeof obj == 'string';\n  },\n      handlers = {},\n      specialEvents = {},\n      focusinSupported = 'onfocusin' in window,\n      focus = {\n    focus: 'focusin',\n    blur: 'focusout'\n  },\n      hover = {\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  };\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents';\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++);\n  }\n\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event);\n    if (event.ns) var matcher = matcherFor(event.ns);\n    return (handlers[zid(element)] || []).filter(function (handler) {\n      return handler && (!event.e || handler.e == event.e) && (!event.ns || matcher.test(handler.ns)) && (!fn || zid(handler.fn) === zid(fn)) && (!selector || handler.sel == selector);\n    });\n  }\n\n  function parse(event) {\n    var parts = ('' + event).split('.');\n    return {\n      e: parts[0],\n      ns: parts.slice(1).sort().join(' ')\n    };\n  }\n\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)');\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del && !focusinSupported && handler.e in focus || !!captureSetting;\n  }\n\n  function realEvent(type) {\n    return hover[type] || focusinSupported && focus[type] || type;\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture) {\n    var id = zid(element),\n        set = handlers[id] || (handlers[id] = []);\n    events.split(/\\s/).forEach(function (event) {\n      if (event == 'ready') return $(document).ready(fn);\n      var handler = parse(event);\n      handler.fn = fn;\n      handler.sel = selector; // emulate mouseenter, mouseleave\n\n      if (handler.e in hover) fn = function (e) {\n        var related = e.relatedTarget;\n        if (!related || related !== this && !$.contains(this, related)) return handler.fn.apply(this, arguments);\n      };\n      handler.del = delegator;\n      var callback = delegator || fn;\n\n      handler.proxy = function (e) {\n        e = compatible(e);\n        if (e.isImmediatePropagationStopped()) return;\n        e.data = data;\n        var result = callback.apply(element, e._args == undefined$1 ? [e] : [e].concat(e._args));\n        if (result === false) e.preventDefault(), e.stopPropagation();\n        return result;\n      };\n\n      handler.i = set.length;\n      set.push(handler);\n      if ('addEventListener' in element) element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n    });\n  }\n\n  function remove(element, events, fn, selector, capture) {\n    var id = zid(element);\n    (events || '').split(/\\s/).forEach(function (event) {\n      findHandlers(element, event, fn, selector).forEach(function (handler) {\n        delete handlers[id][handler.i];\n        if ('removeEventListener' in element) element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n      });\n    });\n  }\n\n  $.event = {\n    add: add,\n    remove: remove\n  };\n\n  $.proxy = function (fn, context) {\n    var args = 2 in arguments && slice.call(arguments, 2);\n\n    if (isFunction(fn)) {\n      var proxyFn = function () {\n        return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments);\n      };\n\n      proxyFn._zid = zid(fn);\n      return proxyFn;\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn);\n        return $.proxy.apply(null, args);\n      } else {\n        return $.proxy(fn[context], fn);\n      }\n    } else {\n      throw new TypeError(\"expected function\");\n    }\n  };\n\n  $.fn.bind = function (event, data, callback) {\n    return this.on(event, data, callback);\n  };\n\n  $.fn.unbind = function (event, callback) {\n    return this.off(event, callback);\n  };\n\n  $.fn.one = function (event, selector, data, callback) {\n    return this.on(event, selector, data, callback, 1);\n  };\n\n  var returnTrue = function () {\n    return true;\n  },\n      returnFalse = function () {\n    return false;\n  },\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n    preventDefault: 'isDefaultPrevented',\n    stopImmediatePropagation: 'isImmediatePropagationStopped',\n    stopPropagation: 'isPropagationStopped'\n  };\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event);\n      $.each(eventMethods, function (name, predicate) {\n        var sourceMethod = source[name];\n\n        event[name] = function () {\n          this[predicate] = returnTrue;\n          return sourceMethod && sourceMethod.apply(source, arguments);\n        };\n\n        event[predicate] = returnFalse;\n      });\n      event.timeStamp || (event.timeStamp = Date.now());\n      if (source.defaultPrevented !== undefined$1 ? source.defaultPrevented : 'returnValue' in source ? source.returnValue === false : source.getPreventDefault && source.getPreventDefault()) event.isDefaultPrevented = returnTrue;\n    }\n\n    return event;\n  }\n\n  function createProxy(event) {\n    var key,\n        proxy = {\n      originalEvent: event\n    };\n\n    for (key in event) if (!ignoreProperties.test(key) && event[key] !== undefined$1) proxy[key] = event[key];\n\n    return compatible(proxy, event);\n  }\n\n  $.fn.delegate = function (selector, event, callback) {\n    return this.on(event, selector, callback);\n  };\n\n  $.fn.undelegate = function (selector, event, callback) {\n    return this.off(event, selector, callback);\n  };\n\n  $.fn.live = function (event, callback) {\n    $(document.body).delegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.die = function (event, callback) {\n    $(document.body).undelegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.on = function (event, selector, data, callback, one) {\n    var autoRemove,\n        delegator,\n        $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.on(type, selector, data, fn, one);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = data, data = selector, selector = undefined$1;\n    if (callback === undefined$1 || data === false) callback = data, data = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function (_, element) {\n      if (one) autoRemove = function (e) {\n        remove(element, e.type, callback);\n        return callback.apply(this, arguments);\n      };\n      if (selector) delegator = function (e) {\n        var evt,\n            match = $(e.target).closest(selector, element).get(0);\n\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {\n            currentTarget: match,\n            liveFired: element\n          });\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)));\n        }\n      };\n      add(element, event, callback, data, selector, delegator || autoRemove);\n    });\n  };\n\n  $.fn.off = function (event, selector, callback) {\n    var $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.off(type, selector, fn);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = selector, selector = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function () {\n      remove(this, event, callback, selector);\n    });\n  };\n\n  $.fn.trigger = function (event, args) {\n    event = isString(event) || $.isPlainObject(event) ? $.Event(event) : compatible(event);\n    event._args = args;\n    return this.each(function () {\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type](); // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event);else $(this).triggerHandler(event, args);\n    });\n  }; // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n\n\n  $.fn.triggerHandler = function (event, args) {\n    var e, result;\n    this.each(function (i, element) {\n      e = createProxy(isString(event) ? $.Event(event) : event);\n      e._args = args;\n      e.target = element;\n      $.each(findHandlers(element, event.type || event), function (i, handler) {\n        result = handler.proxy(e);\n        if (e.isImmediatePropagationStopped()) return false;\n      });\n    });\n    return result;\n  } // shortcut methods for `.bind(event, fn)` for each event type\n  ;\n\n  ('focusin focusout focus blur load resize scroll unload click dblclick ' + 'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' + 'change select keydown keypress keyup error').split(' ').forEach(function (event) {\n    $.fn[event] = function (callback) {\n      return 0 in arguments ? this.bind(event, callback) : this.trigger(event);\n    };\n  });\n\n  $.Event = function (type, props) {\n    if (!isString(type)) props = type, type = props.type;\n    var event = document.createEvent(specialEvents[type] || 'Events'),\n        bubbles = true;\n    if (props) for (var name in props) name == 'bubbles' ? bubbles = !!props[name] : event[name] = props[name];\n    event.initEvent(type, bubbles, true);\n    return compatible(event);\n  };\n})(Zepto);\n\n(function () {\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined);\n  } catch (e) {\n    var nativeGetComputedStyle = getComputedStyle;\n\n    window.getComputedStyle = function (element, pseudoElement) {\n      try {\n        return nativeGetComputedStyle(element, pseudoElement);\n      } catch (e) {\n        return null;\n      }\n    };\n  }\n})();\n\n(function ($) {\n  var zepto = $.zepto,\n      oldQsa = zepto.qsa,\n      oldMatches = zepto.matches;\n\n  function visible(elem) {\n    elem = $(elem);\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\";\n  } // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n\n\n  var filters = $.expr[':'] = {\n    visible: function () {\n      if (visible(this)) return this;\n    },\n    hidden: function () {\n      if (!visible(this)) return this;\n    },\n    selected: function () {\n      if (this.selected) return this;\n    },\n    checked: function () {\n      if (this.checked) return this;\n    },\n    parent: function () {\n      return this.parentNode;\n    },\n    first: function (idx) {\n      if (idx === 0) return this;\n    },\n    last: function (idx, nodes) {\n      if (idx === nodes.length - 1) return this;\n    },\n    eq: function (idx, _, value) {\n      if (idx === value) return this;\n    },\n    contains: function (idx, _, text) {\n      if ($(this).text().indexOf(text) > -1) return this;\n    },\n    has: function (idx, _, sel) {\n      if (zepto.qsa(this, sel).length) return this;\n    }\n  };\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n      childRe = /^\\s*>/,\n      classTag = 'Zepto' + +new Date();\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]');\n    var filter,\n        arg,\n        match = filterRe.exec(sel);\n\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3];\n      sel = match[1];\n\n      if (arg) {\n        var num = Number(arg);\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '');else arg = num;\n      }\n    }\n\n    return fn(sel, filter, arg);\n  }\n\n  zepto.qsa = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      try {\n        var taggedParent;\n        if (!sel && filter) sel = '*';else if (childRe.test(sel)) // support \"> *\" child queries by tagging the parent node with a\n          // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.' + classTag + ' ' + sel;\n        var nodes = oldQsa(node, sel);\n      } catch (e) {\n        console.error('error performing selector: %o', selector);\n        throw e;\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag);\n      }\n\n      return !filter ? nodes : zepto.uniq($.map(nodes, function (n, i) {\n        return filter.call(n, i, nodes, arg);\n      }));\n    });\n  };\n\n  zepto.matches = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      return (!sel || oldMatches(node, sel)) && (!filter || filter.call(node, null, arg) === node);\n    });\n  };\n})(Zepto);\n\nvar zepto = Zepto;\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar BROWSER_DATA = [{\n  name: 'Chromium',\n  group: 'Chrome',\n  identifier: 'Chromium/([0-9\\.]*)'\n}, {\n  name: 'Chrome Mobile',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*) Mobile',\n  versionIdentifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome for iOS',\n  group: 'Chrome',\n  identifier: 'CriOS/([0-9\\.]*)'\n}, {\n  name: 'Android Browser',\n  group: 'Chrome',\n  identifier: 'CrMo/([0-9\\.]*)'\n}, {\n  name: 'Firefox',\n  group: 'Firefox',\n  identifier: 'Firefox/([0-9\\.]*)'\n}, {\n  name: 'Opera Mini',\n  group: 'Opera',\n  identifier: 'Opera Mini/([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera ([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}, {\n  name: 'IEMobile',\n  group: 'Explorer',\n  identifier: 'IEMobile/([0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'MSIE ([a-zA-Z0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'Trident/([0-9\\.]*)',\n  versionIdentifier: 'rv:([0-9\\.]*)'\n}, {\n  name: 'Spartan',\n  group: 'Spartan',\n  identifier: 'Edge/([0-9\\.]*)',\n  versionIdentifier: 'Edge/([0-9\\.]*)'\n}, {\n  name: 'Safari',\n  group: 'Safari',\n  identifier: 'Safari/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}];\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar OS_DATA = [{\n  name: 'Windows 2000',\n  group: 'Windows',\n  identifier: 'Windows NT 5.0',\n  version: '5.0'\n}, {\n  name: 'Windows XP',\n  group: 'Windows',\n  identifier: 'Windows NT 5.1',\n  version: '5.1'\n}, {\n  name: 'Windows Vista',\n  group: 'Windows',\n  identifier: 'Windows NT 6.0',\n  version: '6.0'\n}, {\n  name: 'Windows 7',\n  group: 'Windows',\n  identifier: 'Windows NT 6.1',\n  version: '7.0'\n}, {\n  name: 'Windows 8',\n  group: 'Windows',\n  identifier: 'Windows NT 6.2',\n  version: '8.0'\n}, {\n  name: 'Windows 8.1',\n  group: 'Windows',\n  identifier: 'Windows NT 6.3',\n  version: '8.1'\n}, {\n  name: 'Windows 10',\n  group: 'Windows',\n  identifier: 'Windows NT 10.0',\n  version: '10.0'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone ([0-9\\.]*)'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone OS ([0-9\\.]*)'\n}, {\n  name: 'Windows',\n  group: 'Windows',\n  identifier: 'Windows'\n}, {\n  name: 'Chrome OS',\n  group: 'Chrome OS',\n  identifier: 'CrOS'\n}, {\n  name: 'Android',\n  group: 'Android',\n  identifier: 'Android',\n  versionIdentifier: 'Android ([a-zA-Z0-9\\.-]*)'\n}, {\n  name: 'iPad',\n  group: 'iOS',\n  identifier: 'iPad',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPod',\n  group: 'iOS',\n  identifier: 'iPod',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPhone',\n  group: 'iOS',\n  identifier: 'iPhone OS',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X High Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])13([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])12([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X El Capitan',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])11([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Yosemite',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])10([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mavericks',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])9([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mountain Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])8([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])7([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Snow Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])6([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])5([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Tiger',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])4([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Panther',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])3([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Jaguar',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])2([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Puma',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])1([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Cheetah',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])0([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS',\n  group: 'Mac OS',\n  identifier: 'Mac OS'\n}, {\n  name: 'Ubuntu',\n  group: 'Linux',\n  identifier: 'Ubuntu',\n  versionIdentifier: 'Ubuntu/([0-9\\.]*)'\n}, {\n  name: 'Debian',\n  group: 'Linux',\n  identifier: 'Debian'\n}, {\n  name: 'Gentoo',\n  group: 'Linux',\n  identifier: 'Gentoo'\n}, {\n  name: 'Linux',\n  group: 'Linux',\n  identifier: 'Linux'\n}, {\n  name: 'BlackBerry',\n  group: 'BlackBerry',\n  identifier: 'BlackBerry'\n}];\n\nvar Browser = {};\n\nvar hasLocalstorage = function hasLocalstorage() {\n  try {\n    localStorage.setItem('clappr', 'clappr');\n    localStorage.removeItem('clappr');\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nvar hasFlash = function hasFlash() {\n  try {\n    var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n    return !!fo;\n  } catch (e) {\n    return !!(navigator.mimeTypes && navigator.mimeTypes['application/x-shockwave-flash'] !== undefined && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);\n  }\n};\n\nvar getBrowserInfo = function getBrowserInfo(ua) {\n  var parts = ua.match(/\\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [],\n      extra;\n\n  if (/trident/i.test(parts[1])) {\n    extra = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n    return {\n      name: 'IE',\n      version: parseInt(extra[1] || '')\n    };\n  } else if (parts[1] === 'Chrome') {\n    extra = ua.match(/\\bOPR\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Opera',\n      version: parseInt(extra[1])\n    };\n    extra = ua.match(/\\bEdge\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Edge',\n      version: parseInt(extra[1])\n    };\n  } else if (/android/i.test(ua) && (extra = ua.match(/version\\/(\\d+)/i))) {\n    parts.splice(1, 1, 'Android WebView');\n    parts.splice(2, 1, extra[1]);\n  }\n\n  parts = parts[2] ? [parts[1], parts[2]] : [navigator.appName, navigator.appVersion, '-?'];\n  return {\n    name: parts[0],\n    version: parseInt(parts[1])\n  };\n}; //  Get browser data\n\nvar getBrowserData = function getBrowserData() {\n  var browserObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = BROWSER_DATA[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var browser = _step.value;\n      var browserRegExp = new RegExp(browser.identifier.toLowerCase());\n      var browserRegExpResult = browserRegExp.exec(userAgent);\n\n      if (browserRegExpResult != null && browserRegExpResult[1]) {\n        browserObject.name = browser.name;\n        browserObject.group = browser.group; // Check version\n\n        if (browser.versionIdentifier) {\n          var versionRegExp = new RegExp(browser.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setBrowserVersion(versionRegExpResult[1], browserObject);\n        } else {\n          setBrowserVersion(browserRegExpResult[1], browserObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return browserObject;\n}; // Set browser version\n\nvar setBrowserVersion = function setBrowserVersion(version, browserObject) {\n  var splitVersion = version.split('.', 2);\n  browserObject.fullVersion = version; // Major version\n\n  if (splitVersion[0]) browserObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion[1]) browserObject.minorVersion = parseInt(splitVersion[1]);\n}; //  Get OS data\n\n\nvar getOsData = function getOsData() {\n  var osObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = OS_DATA[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var os = _step2.value;\n      var osRegExp = new RegExp(os.identifier.toLowerCase());\n      var osRegExpResult = osRegExp.exec(userAgent);\n\n      if (osRegExpResult != null) {\n        osObject.name = os.name;\n        osObject.group = os.group; // Version defined\n\n        if (os.version) {\n          setOsVersion(os.version, os.versionSeparator ? os.versionSeparator : '.', osObject); // Version detected\n        } else if (osRegExpResult[1]) {\n          setOsVersion(osRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject); // Version identifier\n        } else if (os.versionIdentifier) {\n          var versionRegExp = new RegExp(os.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setOsVersion(versionRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return osObject;\n}; // Set OS version\n\nvar setOsVersion = function setOsVersion(version, separator, osObject) {\n  var finalSeparator = separator.substr(0, 1) == '[' ? new RegExp(separator, 'g') : separator;\n  var splitVersion = version.split(finalSeparator, 2);\n  if (separator != '.') version = version.replace(new RegExp(separator, 'g'), '.');\n  osObject.fullVersion = version; // Major version\n\n  if (splitVersion && splitVersion[0]) osObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion && splitVersion[1]) osObject.minorVersion = parseInt(splitVersion[1]);\n}; // Set viewport size\n\n\nvar getViewportSize = function getViewportSize() {\n  var viewportObject = {};\n  viewportObject.width = zepto(window).width();\n  viewportObject.height = zepto(window).height();\n  return viewportObject;\n}; // Set viewport orientation\n\nvar setViewportOrientation = function setViewportOrientation() {\n  switch (window.orientation) {\n    case -90:\n    case 90:\n      Browser.viewport.orientation = 'landscape';\n      break;\n\n    default:\n      Browser.viewport.orientation = 'portrait';\n      break;\n  }\n};\n\nvar getDevice = function getDevice(ua) {\n  var platformRegExp = /\\((iP(?:hone|ad|od))?(?:[^;]*; ){0,2}([^)]+(?=\\)))/;\n  var matches = platformRegExp.exec(ua);\n  var device = matches && (matches[1] || matches[2]) || '';\n  return device;\n};\nvar browserInfo = getBrowserInfo(navigator.userAgent);\nBrowser.isEdge = /edge/i.test(navigator.userAgent);\nBrowser.isChrome = /chrome|CriOS/i.test(navigator.userAgent) && !Browser.isEdge;\nBrowser.isSafari = /safari/i.test(navigator.userAgent) && !Browser.isChrome && !Browser.isEdge;\nBrowser.isFirefox = /firefox/i.test(navigator.userAgent);\nBrowser.isLegacyIE = !!window.ActiveXObject;\nBrowser.isIE = Browser.isLegacyIE || /trident.*rv:1\\d/i.test(navigator.userAgent);\nBrowser.isIE11 = /trident.*rv:11/i.test(navigator.userAgent);\nBrowser.isChromecast = Browser.isChrome && /CrKey/i.test(navigator.userAgent);\nBrowser.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent);\nBrowser.isiOS = /iPad|iPhone|iPod/i.test(navigator.userAgent);\nBrowser.isAndroid = /Android/i.test(navigator.userAgent);\nBrowser.isWindowsPhone = /Windows Phone/i.test(navigator.userAgent);\nBrowser.isWin8App = /MSAppHost/i.test(navigator.userAgent);\nBrowser.isWiiU = /WiiU/i.test(navigator.userAgent);\nBrowser.isPS4 = /PlayStation 4/i.test(navigator.userAgent);\nBrowser.hasLocalstorage = hasLocalstorage();\nBrowser.hasFlash = hasFlash();\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.name instead.\n*/\n\nBrowser.name = browserInfo.name;\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.fullVersion instead.\n*/\n\nBrowser.version = browserInfo.version;\nBrowser.userAgent = navigator.userAgent;\nBrowser.data = getBrowserData();\nBrowser.os = getOsData();\nBrowser.viewport = getViewportSize();\nBrowser.device = getDevice(Browser.userAgent);\ntypeof window.orientation !== 'undefined' && setViewportOrientation();\n\nfunction assign(obj, source) {\n  if (source) {\n    for (var prop in source) {\n      var propDescriptor = Object.getOwnPropertyDescriptor(source, prop);\n      propDescriptor ? Object.defineProperty(obj, prop, propDescriptor) : obj[prop] = source[prop];\n    }\n  }\n\n  return obj;\n}\nfunction extend(parent, properties) {\n  var Surrogate = /*#__PURE__*/function (_parent) {\n    _inherits(Surrogate, _parent);\n\n    function Surrogate() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Surrogate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Surrogate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      if (properties.initialize) properties.initialize.apply(_assertThisInitialized(_this), args);\n      return _this;\n    }\n\n    return Surrogate;\n  }(parent);\n\n  assign(Surrogate.prototype, properties);\n  return Surrogate;\n}\nfunction formatTime(time, paddedHours) {\n  if (!isFinite(time)) return '--:--';\n  time = time * 1000;\n  time = parseInt(time / 1000);\n  var seconds = time % 60;\n  time = parseInt(time / 60);\n  var minutes = time % 60;\n  time = parseInt(time / 60);\n  var hours = time % 24;\n  var days = parseInt(time / 24);\n  var out = '';\n\n  if (days && days > 0) {\n    out += days + ':';\n    if (hours < 1) out += '00:';\n  }\n\n  if (hours && hours > 0 || paddedHours) out += ('0' + hours).slice(-2) + ':';\n  out += ('0' + minutes).slice(-2) + ':';\n  out += ('0' + seconds).slice(-2);\n  return out.trim();\n}\nvar Fullscreen = {\n  fullscreenElement: function fullscreenElement() {\n    return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n  },\n  requestFullscreen: function requestFullscreen(el) {\n    if (el.requestFullscreen) el.requestFullscreen();else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();else if (el.mozRequestFullScreen) el.mozRequestFullScreen();else if (el.msRequestFullscreen) el.msRequestFullscreen();else if (el.querySelector && el.querySelector('video') && el.querySelector('video').webkitEnterFullScreen) el.querySelector('video').webkitEnterFullScreen();else if (el.webkitEnterFullScreen) el.webkitEnterFullScreen();\n  },\n  cancelFullscreen: function cancelFullscreen() {\n    var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n    if (el.exitFullscreen) el.exitFullscreen();else if (el.webkitCancelFullScreen) el.webkitCancelFullScreen();else if (el.webkitExitFullscreen) el.webkitExitFullscreen();else if (el.mozCancelFullScreen) el.mozCancelFullScreen();else if (el.msExitFullscreen) el.msExitFullscreen();\n  },\n  fullscreenEnabled: function fullscreenEnabled() {\n    return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n  }\n};\nvar Config = /*#__PURE__*/function () {\n  function Config() {\n    _classCallCheck(this, Config);\n  }\n\n  _createClass(Config, null, [{\n    key: \"_defaultConfig\",\n    value: function _defaultConfig() {\n      return {\n        volume: {\n          value: 100,\n          parse: parseInt\n        }\n      };\n    }\n  }, {\n    key: \"_defaultValueFor\",\n    value: function _defaultValueFor(key) {\n      try {\n        return this._defaultConfig()[key].parse(this._defaultConfig()[key].value);\n      } catch (e) {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"_createKeyspace\",\n    value: function _createKeyspace(key) {\n      return \"clappr.\".concat(document.domain, \".\").concat(key);\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(key) {\n      if (Browser.hasLocalstorage && localStorage[this._createKeyspace(key)]) return this._defaultConfig()[key].parse(localStorage[this._createKeyspace(key)]);\n      return this._defaultValueFor(key);\n    }\n  }, {\n    key: \"persist\",\n    value: function persist(key, value) {\n      if (Browser.hasLocalstorage) {\n        try {\n          localStorage[this._createKeyspace(key)] = value;\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n    }\n  }]);\n\n  return Config;\n}();\nvar QueryString = /*#__PURE__*/function () {\n  function QueryString() {\n    _classCallCheck(this, QueryString);\n  }\n\n  _createClass(QueryString, null, [{\n    key: \"parse\",\n    value: function parse(paramsString) {\n      var match;\n\n      var pl = /\\+/g,\n          // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n          decode = function decode(s) {\n        return decodeURIComponent(s.replace(pl, ' '));\n      },\n          params = {};\n\n      while (match = search.exec(paramsString)) {\n        // eslint-disable-line no-cond-assign\n        params[decode(match[1]).toLowerCase()] = decode(match[2]);\n      }\n\n      return params;\n    }\n  }, {\n    key: \"params\",\n    get: function get() {\n      var query = window.location.search.substring(1);\n\n      if (query !== this.query) {\n        this._urlParams = this.parse(query);\n        this.query = query;\n      }\n\n      return this._urlParams;\n    }\n  }, {\n    key: \"hashParams\",\n    get: function get() {\n      var hash = window.location.hash.substring(1);\n\n      if (hash !== this.hash) {\n        this._hashParams = this.parse(hash);\n        this.hash = hash;\n      }\n\n      return this._hashParams;\n    }\n  }]);\n\n  return QueryString;\n}();\nfunction seekStringToSeconds() {\n  var paramName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 't';\n  var seconds = 0;\n  var seekString = QueryString.params[paramName] || QueryString.hashParams[paramName] || '';\n  var parts = seekString.match(/[0-9]+[hms]+/g) || [];\n\n  if (parts.length > 0) {\n    var factor = {\n      'h': 3600,\n      'm': 60,\n      's': 1\n    };\n    parts.forEach(function (el) {\n      if (el) {\n        var suffix = el[el.length - 1];\n        var time = parseInt(el.slice(0, el.length - 1), 10);\n        seconds += time * factor[suffix];\n      }\n    });\n  } else if (seekString) {\n    seconds = parseInt(seekString, 10);\n  }\n\n  return seconds;\n}\nvar idsCounter = {};\nfunction uniqueId(prefix) {\n  idsCounter[prefix] || (idsCounter[prefix] = 0);\n  var id = ++idsCounter[prefix];\n  return prefix + id;\n}\nfunction isNumber(value) {\n  return value - parseFloat(value) + 1 >= 0;\n}\nfunction currentScriptUrl() {\n  var scripts = document.getElementsByTagName('script');\n  return scripts.length ? scripts[scripts.length - 1].src : '';\n}\nvar requestAnimationFrame = (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n  window.setTimeout(fn, 1000 / 60);\n}).bind(window);\nvar cancelAnimationFrame = (window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout).bind(window);\nfunction getBrowserLanguage() {\n  return window.navigator && window.navigator.language;\n}\nfunction now() {\n  if (window.performance && window.performance.now) return performance.now();\n  return Date.now();\n} // remove the item from the array if it exists in the array\n\nfunction removeArrayItem(arr, item) {\n  var i = arr.indexOf(item);\n  if (i >= 0) arr.splice(i, 1);\n} // find an item regardless of its letter case\n\nfunction listContainsIgnoreCase(item, items) {\n  if (item === undefined || items === undefined) return false;\n  return items.find(function (itemEach) {\n    return item.toLowerCase() === itemEach.toLowerCase();\n  }) !== undefined;\n} // https://github.com/video-dev/can-autoplay\n\nfunction canAutoPlayMedia(cb, options) {\n  options = Object.assign({\n    inline: false,\n    muted: false,\n    timeout: 250,\n    type: 'video',\n    source: Media.mp4,\n    element: null\n  }, options);\n  var element = options.element ? options.element : document.createElement(options.type);\n  element.muted = options.muted;\n  if (options.muted === true) element.setAttribute('muted', 'muted');\n  if (options.inline === true) element.setAttribute('playsinline', 'playsinline');\n  element.src = options.source;\n  var promise = element.play();\n  var timeoutId = setTimeout(function () {\n    setResult(false, new Error(\"Timeout \".concat(options.timeout, \" ms has been reached\")));\n  }, options.timeout);\n\n  var setResult = function setResult(result) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    clearTimeout(timeoutId);\n    cb(result, error);\n  };\n\n  if (promise !== undefined) {\n    promise.then(function () {\n      return setResult(true);\n    })[\"catch\"](function (err) {\n      return setResult(false, err);\n    });\n  } else {\n    setResult(true);\n  }\n} // Simple element factory with video recycle feature.\n\nvar videoStack = [];\nvar DomRecycler = /*#__PURE__*/function () {\n  function DomRecycler() {\n    _classCallCheck(this, DomRecycler);\n  }\n\n  _createClass(DomRecycler, null, [{\n    key: \"configure\",\n    value: function configure(options) {\n      this.options = zepto.extend(this.options, options);\n    }\n  }, {\n    key: \"create\",\n    value: function create(name) {\n      if (this.options.recycleVideo && name === 'video' && videoStack.length > 0) return videoStack.shift();\n      return document.createElement(name);\n    }\n  }, {\n    key: \"garbage\",\n    value: function garbage(el) {\n      if (!this.options.recycleVideo || el.tagName.toUpperCase() !== 'VIDEO') return;\n      zepto(el).children().remove();\n      Object.values(el.attributes).forEach(function (attr) {\n        return el.removeAttribute(attr.name);\n      });\n      videoStack.push(el);\n    }\n  }]);\n\n  return DomRecycler;\n}();\nDomRecycler.options = {\n  recycleVideo: false\n};\nvar DoubleEventHandler = /*#__PURE__*/function () {\n  function DoubleEventHandler() {\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n    _classCallCheck(this, DoubleEventHandler);\n\n    this.delay = delay;\n    this.lastTime = 0;\n  }\n\n  _createClass(DoubleEventHandler, [{\n    key: \"handle\",\n    value: function handle(event, cb) {\n      var prevented = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      // Based on http://jsfiddle.net/brettwp/J4djY/\n      var currentTime = new Date().getTime();\n      var diffTime = currentTime - this.lastTime;\n\n      if (diffTime < this.delay && diffTime > 0) {\n        cb();\n        prevented && event.preventDefault();\n      }\n\n      this.lastTime = currentTime;\n    }\n  }]);\n\n  return DoubleEventHandler;\n}();\nvar Utils = {\n  Config: Config,\n  Fullscreen: Fullscreen,\n  QueryString: QueryString,\n  DomRecycler: DomRecycler,\n  assign: assign,\n  extend: extend,\n  formatTime: formatTime,\n  seekStringToSeconds: seekStringToSeconds,\n  uniqueId: uniqueId,\n  currentScriptUrl: currentScriptUrl,\n  isNumber: isNumber,\n  requestAnimationFrame: requestAnimationFrame,\n  cancelAnimationFrame: cancelAnimationFrame,\n  getBrowserLanguage: getBrowserLanguage,\n  now: now,\n  removeArrayItem: removeArrayItem,\n  listContainsIgnoreCase: listContainsIgnoreCase,\n  canAutoPlayMedia: canAutoPlayMedia,\n  Media: Media,\n  DoubleEventHandler: DoubleEventHandler\n};\n\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar BOLD = 'font-weight: bold; font-size: 13px;';\nvar INFO = 'color: #006600;' + BOLD;\nvar DEBUG = 'color: #0000ff;' + BOLD;\nvar WARN = 'color: #ff8000;' + BOLD;\nvar ERROR = 'color: #ff0000;' + BOLD;\nvar LEVEL_DEBUG = 0;\nvar LEVEL_INFO = 1;\nvar LEVEL_WARN = 2;\nvar LEVEL_ERROR = 3;\nvar LEVEL_DISABLED = LEVEL_ERROR;\nvar COLORS = [DEBUG, INFO, WARN, ERROR, ERROR];\nvar DESCRIPTIONS = ['debug', 'info', 'warn', 'error', 'disabled'];\n\nvar Log = /*#__PURE__*/function () {\n  function Log() {\n    var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : LEVEL_INFO;\n    var offLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : LEVEL_DISABLED;\n\n    _classCallCheck(this, Log);\n\n    this.BLACKLIST = ['timeupdate', 'playback:timeupdate', 'playback:progress', 'container:hover', 'container:timeupdate', 'container:progress'];\n    this.level = level;\n    this.offLevel = offLevel;\n  }\n\n  _createClass(Log, [{\n    key: \"debug\",\n    value: function debug(klass) {\n      this.log(klass, LEVEL_DEBUG, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"info\",\n    value: function info(klass) {\n      this.log(klass, LEVEL_INFO, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(klass) {\n      this.log(klass, LEVEL_WARN, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"error\",\n    value: function error(klass) {\n      this.log(klass, LEVEL_ERROR, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"onOff\",\n    value: function onOff() {\n      if (this.level === this.offLevel) {\n        this.level = this.previousLevel;\n      } else {\n        this.previousLevel = this.level;\n        this.level = this.offLevel;\n      } // handle instances where console.log is unavailable\n\n\n      if (window.console && window.console.log) window.console.log('%c[Clappr.Log] set log level to ' + DESCRIPTIONS[this.level], WARN);\n    }\n  }, {\n    key: \"level\",\n    value: function level(newLevel) {\n      this.level = newLevel;\n    }\n  }, {\n    key: \"log\",\n    value: function log(klass, level, message) {\n      if (this.BLACKLIST.indexOf(message[0]) >= 0) return;\n      if (level < this.level) return;\n\n      if (!message) {\n        message = klass;\n        klass = null;\n      }\n\n      var color = COLORS[level];\n      var klassDescription = '';\n      if (klass) klassDescription = '[' + klass + ']';\n      if (window.console && window.console.log) window.console.log.apply(console, ['%c[' + DESCRIPTIONS[level] + ']' + klassDescription, color].concat(message));\n    }\n  }]);\n\n  return Log;\n}();\nLog.LEVEL_DEBUG = LEVEL_DEBUG;\nLog.LEVEL_INFO = LEVEL_INFO;\nLog.LEVEL_WARN = LEVEL_WARN;\nLog.LEVEL_ERROR = LEVEL_ERROR;\n\nLog.getInstance = function () {\n  if (this._instance === undefined) this._instance = new this();\n  return this._instance;\n};\n\nLog.setLevel = function (level) {\n  this.getInstance().level = level;\n};\n\nLog.debug = function () {\n  this.getInstance().debug.apply(this.getInstance(), arguments);\n};\n\nLog.info = function () {\n  this.getInstance().info.apply(this.getInstance(), arguments);\n};\n\nLog.warn = function () {\n  this.getInstance().warn.apply(this.getInstance(), arguments);\n};\n\nLog.error = function () {\n  this.getInstance().error.apply(this.getInstance(), arguments);\n};\n\nvar slice = Array.prototype.slice;\nvar eventSplitter = /\\s+/;\n\nvar eventsApi = function eventsApi(obj, action, name, rest) {\n  if (!name) return true; // Handle event maps.\n\n  if (_typeof(name) === 'object') {\n    for (var key in name) {\n      obj[action].apply(obj, [key, name[key]].concat(rest));\n    }\n\n    return false;\n  } // Handle space separated event names.\n\n\n  if (eventSplitter.test(name)) {\n    var names = name.split(eventSplitter);\n\n    for (var i = 0, l = names.length; i < l; i++) {\n      obj[action].apply(obj, [names[i]].concat(rest));\n    }\n\n    return false;\n  }\n\n  return true;\n};\n\nvar triggerEvents = function triggerEvents(events, args, klass, name) {\n  var ev,\n      i = -1;\n  var l = events.length,\n      a1 = args[0],\n      a2 = args[1],\n      a3 = args[2];\n  run();\n\n  function run() {\n    try {\n      switch (args.length) {\n        /* eslint-disable curly */\n        case 0:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx);\n          }\n\n          return;\n\n        case 1:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1);\n          }\n\n          return;\n\n        case 2:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2);\n          }\n\n          return;\n\n        case 3:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n          }\n\n          return;\n\n        default:\n          while (++i < l) {\n            (ev = events[i]).callback.apply(ev.ctx, args);\n          }\n\n          return;\n      }\n    } catch (exception) {\n      Log.error.apply(Log, [klass, 'error on event', name, 'trigger', '-', exception]);\n      run();\n    }\n  }\n};\n/**\n * @class Events\n * @constructor\n * @module base\n */\n\n\nvar Events = /*#__PURE__*/function () {\n  function Events() {\n    _classCallCheck(this, Events);\n  }\n\n  _createClass(Events, [{\n    key: \"on\",\n\n    /**\n     * listen to an event indefinitely, if you want to stop you need to call `off`\n     * @method on\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n    value: function on(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({\n        callback: callback,\n        context: context,\n        ctx: context || this\n      });\n      return this;\n    }\n    /**\n     * listen to an event only once\n     * @method once\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(name, callback, context) {\n      var _this = this;\n\n      var _once;\n\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\n      var off = function off() {\n        return _this.off(name, _once);\n      };\n\n      _once = function once() {\n        off();\n        callback.apply(this, arguments);\n      };\n\n      return this.on(name, _once, context);\n    }\n    /**\n     * stop listening to an event\n     * @method off\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\n      if (!name && !callback && !context) {\n        this._events = void 0;\n        return this;\n      }\n\n      names = name ? [name] : Object.keys(this._events); // jshint maxdepth:5\n\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        events = this._events[name];\n\n        if (events) {\n          this._events[name] = retain = [];\n\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if (callback && callback !== ev.callback && callback !== ev.callback._callback || context && context !== ev.context) retain.push(ev);\n            }\n          }\n\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    }\n    /**\n     * triggers an event given its `name`\n     * @method trigger\n     * @param {String} name\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(name) {\n      var klass = this.name || this.constructor.name;\n      Log.debug.apply(Log, [klass].concat(Array.prototype.slice.call(arguments)));\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args, klass, name);\n      if (allEvents) triggerEvents(allEvents, arguments, klass, name);\n      return this;\n    }\n    /**\n     * stop listening an event for a given object\n     * @method stopListening\n     * @param {Object} obj\n     * @param {String} name\n     * @param {Function} callback\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(obj, name, callback) {\n      var listeningTo = this._listeningTo;\n      if (!listeningTo) return this;\n      var remove = !name && !callback;\n      if (!callback && _typeof(name) === 'object') callback = this;\n      if (obj) (listeningTo = {})[obj._listenId] = obj;\n\n      for (var id in listeningTo) {\n        obj = listeningTo[id];\n        obj.off(name, callback, this);\n        if (remove || Object.keys(obj._events).length === 0) delete this._listeningTo[id];\n      }\n\n      return this;\n    }\n  }], [{\n    key: \"register\",\n    value: function register(eventName) {\n      Events.Custom || (Events.Custom = {});\n      var property = typeof eventName === 'string' && eventName.toUpperCase().trim();\n\n      if (property && !Events.Custom[property]) {\n        Events.Custom[property] = property.toLowerCase().split('_').map(function (value, index) {\n          return index === 0 ? value : value = value[0].toUpperCase() + value.slice(1);\n        }).join('');\n      } else Log.error('Events', 'Error when register event: ' + eventName);\n    }\n  }, {\n    key: \"listAvailableCustomEvents\",\n    value: function listAvailableCustomEvents() {\n      Events.Custom || (Events.Custom = {});\n      return Object.keys(Events.Custom).filter(function (property) {\n        return typeof Events.Custom[property] === 'string';\n      });\n    }\n  }]);\n\n  return Events;\n}();\nvar listenMethods = {\n  listenTo: 'on',\n  listenToOnce: 'once'\n};\nObject.keys(listenMethods).forEach(function (method) {\n  Events.prototype[method] = function (obj, name, callback) {\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var id = obj._listenId || (obj._listenId = uniqueId('l'));\n    listeningTo[id] = obj;\n    if (!callback && _typeof(name) === 'object') callback = this;\n    obj[listenMethods[method]](name, callback, this);\n    return this;\n  };\n}); // PLAYER EVENTS\n\n/**\n * Fired when the player is ready on startup\n *\n * @event PLAYER_READY\n */\n\nEvents.PLAYER_READY = 'ready';\n/**\n * Fired when player resizes\n *\n * @event PLAYER_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.PLAYER_RESIZE = 'resize';\n/**\n * Fired when player changes its fullscreen state\n *\n * @event PLAYER_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.PLAYER_FULLSCREEN = 'fullscreen';\n/**\n * Fired when player starts to play\n *\n * @event PLAYER_PLAY\n */\n\nEvents.PLAYER_PLAY = 'play';\n/**\n * Fired when player pauses\n *\n * @event PLAYER_PAUSE\n */\n\nEvents.PLAYER_PAUSE = 'pause';\n/**\n * Fired when player stops\n *\n * @event PLAYER_STOP\n */\n\nEvents.PLAYER_STOP = 'stop';\n/**\n * Fired when player ends the video\n *\n * @event PLAYER_ENDED\n */\n\nEvents.PLAYER_ENDED = 'ended';\n/**\n * Fired when player seeks the video\n *\n * @event PLAYER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.PLAYER_SEEK = 'seek';\n/**\n * Fired when player receives an error\n *\n * @event PLAYER_ERROR\n * @param {Object} error the error\n */\n\nEvents.PLAYER_ERROR = 'playererror';\n/**\n * Fired when there is an error\n *\n * @event ERROR\n * @param {Object} error\n * the error with the following format `{code, description, level, raw, origin, scope}`\n * @param {String} [options.code]\n * error's code: code to identify error in the following format: origin:code\n * @param {String} [options.description]\n * error's description: description of the error\n * @param {String} [options.level]\n * error's level: FATAL or WARN.\n * @param {String} [options.origin]\n * error's origin. Example: hls, html5, etc\n * @param {String} [options.scope]\n * error's scope. Example: playback, container, etc\n * @param {String} [options.raw]\n * raw error: the initial error received\n */\n\nEvents.ERROR = 'error';\n/**\n * Fired when the time is updated on player\n *\n * @event PLAYER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYER_TIMEUPDATE = 'timeupdate';\n/**\n * Fired when player updates its volume\n *\n * @event PLAYER_VOLUMEUPDATE\n * @param {Number} volume the current volume\n */\n\nEvents.PLAYER_VOLUMEUPDATE = 'volumeupdate';\n/**\n * Fired when subtitle is available\n *\n * @event PLAYER_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYER_SUBTITLE_AVAILABLE = 'subtitleavailable'; // Playback Events\n\n/**\n * Fired when the playback is downloading the media\n *\n * @event PLAYBACK_PROGRESS\n * @param progress {Object}\n * Data progress object\n * @param [progress.start] {Number}\n * start position of buffered content at current position\n * @param [progress.current] {Number}\n * end position of buffered content at current position\n * @param [progress.total] {Number}\n * total content to be downloaded\n * @param buffered {Array}\n * array of buffered segments ({start, end}). [Only for supported playbacks]\n */\n\nEvents.PLAYBACK_PROGRESS = 'playback:progress';\n/**\n * Fired when the time is updated on playback\n *\n * @event PLAYBACK_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYBACK_TIMEUPDATE = 'playback:timeupdate';\n/**\n * Fired when playback is ready\n *\n * @event PLAYBACK_READY\n */\n\nEvents.PLAYBACK_READY = 'playback:ready';\n/**\n * Fired when the playback starts having to buffer because\n * playback can currently not be smooth.\n *\n * This corresponds to the playback `buffering` property being\n * `true`.\n *\n * @event PLAYBACK_BUFFERING\n */\n\nEvents.PLAYBACK_BUFFERING = 'playback:buffering';\n/**\n * Fired when the playback has enough in the buffer to be\n * able to play smoothly, after previously being unable to\n * do this.\n *\n * This corresponds to the playback `buffering` property being\n * `false`.\n *\n * @event PLAYBACK_BUFFERFULL\n */\n\nEvents.PLAYBACK_BUFFERFULL = 'playback:bufferfull';\n/**\n * Fired when playback changes any settings (volume, seek and etc)\n *\n * @event PLAYBACK_SETTINGSUPDATE\n */\n\nEvents.PLAYBACK_SETTINGSUPDATE = 'playback:settingsupdate';\n/**\n * Fired when playback loaded its metadata\n *\n * @event PLAYBACK_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.PLAYBACK_LOADEDMETADATA = 'playback:loadedmetadata';\n/**\n * Fired when playback updates its video quality\n *\n * @event PLAYBACK_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.PLAYBACK_HIGHDEFINITIONUPDATE = 'playback:highdefinitionupdate';\n/**\n * Fired when playback updates its bitrate\n *\n * @event PLAYBACK_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.PLAYBACK_BITRATE = 'playback:bitrate';\n/**\n * Fired when the playback has its levels\n *\n * @event PLAYBACK_LEVELS_AVAILABLE\n * @param {Array} levels\n * the ordered levels, each one with the following format `{id: 1, label: '500kbps'}` ps: id should be a number >= 0\n * @param {Number} initial\n * the initial level otherwise -1 (AUTO)\n */\n\nEvents.PLAYBACK_LEVELS_AVAILABLE = 'playback:levels:available';\n/**\n * Fired when the playback starts to switch level\n *\n * @event PLAYBACK_LEVEL_SWITCH_START\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_START = 'playback:levels:switch:start';\n/**\n * Fired when the playback ends the level switch\n *\n * @event PLAYBACK_LEVEL_SWITCH_END\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_END = 'playback:levels:switch:end';\n/**\n * Fired when playback internal state changes\n *\n * @event PLAYBACK_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.PLAYBACK_PLAYBACKSTATE = 'playback:playbackstate';\n/**\n * Fired when DVR becomes enabled/disabled.\n *\n * @event PLAYBACK_DVR\n * @param {boolean} state true if dvr enabled\n */\n\nEvents.PLAYBACK_DVR = 'playback:dvr'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_DISABLE = 'playback:mediacontrol:disable'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_ENABLE = 'playback:mediacontrol:enable';\n/**\n * Fired when the media for a playback ends.\n *\n * @event PLAYBACK_ENDED\n * @param {String} name the name of the playback\n */\n\nEvents.PLAYBACK_ENDED = 'playback:ended';\n/**\n * Fired when user requests `play()`\n *\n * @event PLAYBACK_PLAY_INTENT\n */\n\nEvents.PLAYBACK_PLAY_INTENT = 'playback:play:intent';\n/**\n * Fired when the media for a playback starts playing.\n * This is not necessarily when the user requests `play()`\n * The media may have to buffer first.\n * I.e. `isPlaying()` might return `true` before this event is fired,\n * because `isPlaying()` represents the intended state.\n *\n * @event PLAYBACK_PLAY\n */\n\nEvents.PLAYBACK_PLAY = 'playback:play';\n/**\n * Fired when the media for a playback pauses.\n *\n * @event PLAYBACK_PAUSE\n */\n\nEvents.PLAYBACK_PAUSE = 'playback:pause';\n/**\n * Fired when the media for a playback is seeking.\n *\n * @event PLAYBACK_SEEK\n */\n\nEvents.PLAYBACK_SEEK = 'playback:seek';\n/**\n * Fired when the media for a playback is seeked.\n *\n * @event PLAYBACK_SEEKED\n */\n\nEvents.PLAYBACK_SEEKED = 'playback:seeked';\n/**\n * Fired when the media for a playback is stopped.\n *\n * @event PLAYBACK_STOP\n */\n\nEvents.PLAYBACK_STOP = 'playback:stop';\n/**\n * Fired if an error occurs in the playback.\n *\n * @event PLAYBACK_ERROR\n * @param {Object} error An object containing the error details\n * @param {String} name Playback name\n */\n\nEvents.PLAYBACK_ERROR = 'playback:error'; // TODO doc\n\nEvents.PLAYBACK_STATS_ADD = 'playback:stats:add'; // TODO doc\n\nEvents.PLAYBACK_FRAGMENT_LOADED = 'playback:fragment:loaded'; // TODO doc\n\nEvents.PLAYBACK_LEVEL_SWITCH = 'playback:level:switch';\n/**\n * Fired when subtitle is available on playback for display\n *\n * @event PLAYBACK_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYBACK_SUBTITLE_AVAILABLE = 'playback:subtitle:available';\n/**\n * Fired when playback subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.PLAYBACK_SUBTITLE_CHANGED = 'playback:subtitle:changed'; // Core Events\n\n/**\n * Fired when the containers are created\n *\n * @event CORE_CONTAINERS_CREATED\n */\n\nEvents.CORE_CONTAINERS_CREATED = 'core:containers:created';\n/**\n * Fired when the active container changed\n *\n * @event CORE_ACTIVE_CONTAINER_CHANGED\n */\n\nEvents.CORE_ACTIVE_CONTAINER_CHANGED = 'core:active:container:changed';\n/**\n * Fired when the options were changed for the core\n *\n * @event CORE_OPTIONS_CHANGE\n * @param {Object} new options provided to configure() method\n */\n\nEvents.CORE_OPTIONS_CHANGE = 'core:options:change';\n/**\n * Fired after creating containers, when the core is ready\n *\n * @event CORE_READY\n */\n\nEvents.CORE_READY = 'core:ready';\n/**\n * Fired when the fullscreen state change\n *\n * @event CORE_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.CORE_FULLSCREEN = 'core:fullscreen';\n/**\n * Fired when core updates size\n *\n * @event CORE_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.CORE_RESIZE = 'core:resize';\n/**\n * Fired when the screen orientation has changed.\n * This event is trigger only for mobile devices.\n *\n * @event CORE_SCREEN_ORIENTATION_CHANGED\n * @param {Object} screen An object with screen orientation\n * screen object\n * @param {Object} [screen.event]\n * window resize event object\n * @param {String} [screen.orientation]\n * screen orientation (ie: 'landscape' or 'portrait')\n */\n\nEvents.CORE_SCREEN_ORIENTATION_CHANGED = 'core:screen:orientation:changed';\n/**\n * Fired when occurs mouse move event on core element\n *\n * @event CORE_MOUSE_MOVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_MOVE = 'core:mousemove';\n/**\n * Fired when occurs mouse leave event on core element\n *\n * @event CORE_MOUSE_LEAVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_LEAVE = 'core:mouseleave'; // Container Events\n\n/**\n * Fired when the container internal state changes\n *\n * @event CONTAINER_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.CONTAINER_PLAYBACKSTATE = 'container:playbackstate';\nEvents.CONTAINER_PLAYBACKDVRSTATECHANGED = 'container:dvr';\n/**\n * Fired when the container updates its bitrate\n *\n * @event CONTAINER_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.CONTAINER_BITRATE = 'container:bitrate';\nEvents.CONTAINER_STATS_REPORT = 'container:stats:report';\nEvents.CONTAINER_DESTROYED = 'container:destroyed';\n/**\n * Fired when the container is ready\n *\n * @event CONTAINER_READY\n */\n\nEvents.CONTAINER_READY = 'container:ready';\n/**\n * Fired when the container was resized.\n *\n * Some fullscreen modes won't trigger this resize since they don't affect the container, only the playback contents.\n *\n * @event CONTAINER_RESIZE\n */\n\nEvents.CONTAINER_RESIZE = 'container:resize';\nEvents.CONTAINER_ERROR = 'container:error';\n/**\n * Fired when the container loaded its metadata\n *\n * @event CONTAINER_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.CONTAINER_LOADEDMETADATA = 'container:loadedmetadata';\n/**\n * Fired when subtitle is available on container for display\n *\n * @event CONTAINER_SUBTITLE_AVAILABLE\n */\n\nEvents.CONTAINER_SUBTITLE_AVAILABLE = 'container:subtitle:available';\n/**\n * Fired when subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.CONTAINER_SUBTITLE_CHANGED = 'container:subtitle:changed';\n/**\n * Fired when the time is updated on container\n *\n * @event CONTAINER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.CONTAINER_TIMEUPDATE = 'container:timeupdate';\n/**\n * Fired when the container is downloading the media\n *\n * @event CONTAINER_PROGRESS\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.start]\n * initial downloaded content\n * @param {Number} [progress.current]\n * current dowloaded content\n * @param {Number} [progress.total]\n * total content to be downloaded\n */\n\nEvents.CONTAINER_PROGRESS = 'container:progress';\nEvents.CONTAINER_PLAY = 'container:play';\nEvents.CONTAINER_STOP = 'container:stop';\nEvents.CONTAINER_PAUSE = 'container:pause';\nEvents.CONTAINER_ENDED = 'container:ended';\nEvents.CONTAINER_CLICK = 'container:click';\nEvents.CONTAINER_DBLCLICK = 'container:dblclick';\nEvents.CONTAINER_CONTEXTMENU = 'container:contextmenu';\nEvents.CONTAINER_MOUSE_ENTER = 'container:mouseenter';\nEvents.CONTAINER_MOUSE_LEAVE = 'container:mouseleave';\n/**\n * Fired when the container seeks the video\n *\n * @event CONTAINER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEK = 'container:seek';\n/**\n * Fired when the container was finished the seek video\n *\n * @event CONTAINER_SEEKED\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEKED = 'container:seeked';\nEvents.CONTAINER_VOLUME = 'container:volume';\nEvents.CONTAINER_FULLSCREEN = 'container:fullscreen';\n/**\n * Fired when container is buffering\n *\n * @event CONTAINER_STATE_BUFFERING\n */\n\nEvents.CONTAINER_STATE_BUFFERING = 'container:state:buffering';\n/**\n * Fired when the container filled the buffer\n *\n * @event CONTAINER_STATE_BUFFERFULL\n */\n\nEvents.CONTAINER_STATE_BUFFERFULL = 'container:state:bufferfull';\n/**\n * Fired when the container changes any settings (volume, seek and etc)\n *\n * @event CONTAINER_SETTINGSUPDATE\n */\n\nEvents.CONTAINER_SETTINGSUPDATE = 'container:settingsupdate';\n/**\n * Fired when container updates its video quality\n *\n * @event CONTAINER_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.CONTAINER_HIGHDEFINITIONUPDATE = 'container:highdefinitionupdate';\n/**\n * Fired when the media control shows\n *\n * @event CONTAINER_MEDIACONTROL_SHOW\n */\n\nEvents.CONTAINER_MEDIACONTROL_SHOW = 'container:mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event CONTAINER_MEDIACONTROL_HIDE\n */\n\nEvents.CONTAINER_MEDIACONTROL_HIDE = 'container:mediacontrol:hide';\nEvents.CONTAINER_MEDIACONTROL_DISABLE = 'container:mediacontrol:disable';\nEvents.CONTAINER_MEDIACONTROL_ENABLE = 'container:mediacontrol:enable';\nEvents.CONTAINER_STATS_ADD = 'container:stats:add';\n/**\n * Fired when the options were changed for the container\n *\n * @event CONTAINER_OPTIONS_CHANGE\n */\n\nEvents.CONTAINER_OPTIONS_CHANGE = 'container:options:change'; // MediaControl Events\n\nEvents.MEDIACONTROL_RENDERED = 'mediacontrol:rendered';\n/**\n * Fired when the player enters/exit on fullscreen\n *\n * @event MEDIACONTROL_FULLSCREEN\n */\n\nEvents.MEDIACONTROL_FULLSCREEN = 'mediacontrol:fullscreen';\n/**\n * Fired when the media control shows\n *\n * @event MEDIACONTROL_SHOW\n */\n\nEvents.MEDIACONTROL_SHOW = 'mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event MEDIACONTROL_HIDE\n */\n\nEvents.MEDIACONTROL_HIDE = 'mediacontrol:hide';\n/**\n * Fired when mouse enters on the seekbar\n *\n * @event MEDIACONTROL_MOUSEMOVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSEMOVE_SEEKBAR = 'mediacontrol:mousemove:seekbar';\n/**\n * Fired when mouse leaves the seekbar\n *\n * @event MEDIACONTROL_MOUSELEAVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSELEAVE_SEEKBAR = 'mediacontrol:mouseleave:seekbar';\n/**\n * Fired when the media is being played\n *\n * @event MEDIACONTROL_PLAYING\n */\n\nEvents.MEDIACONTROL_PLAYING = 'mediacontrol:playing';\n/**\n * Fired when the media is not being played\n *\n * @event MEDIACONTROL_NOTPLAYING\n */\n\nEvents.MEDIACONTROL_NOTPLAYING = 'mediacontrol:notplaying';\n/**\n * Fired when the container was changed\n *\n * @event MEDIACONTROL_CONTAINERCHANGED\n */\n\nEvents.MEDIACONTROL_CONTAINERCHANGED = 'mediacontrol:containerchanged';\n/**\n * Fired when the options were changed for the mediacontrol\n *\n * @event MEDIACONTROL_OPTIONS_CHANGE\n */\n\nEvents.MEDIACONTROL_OPTIONS_CHANGE = 'mediacontrol:options:change';\n\n/**\n * @class BaseObject\n * @constructor\n * @extends Events\n * @module base\n */\n\nvar BaseObject = /*#__PURE__*/function (_Events) {\n  _inherits(BaseObject, _Events);\n\n  _createClass(BaseObject, [{\n    key: \"options\",\n\n    /**\n     * returns the object options\n     * @property options\n     * @type Object\n     */\n    get: function get() {\n      return this._options;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options\n     */\n\n  }]);\n\n  function BaseObject() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BaseObject);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BaseObject).call(this, options));\n    _this._options = options;\n    _this.uniqueId = uniqueId('o');\n    return _this;\n  }\n  /**\n  * a unique id prefixed with `'o'`, `o1, o232`\n  *\n  * @property uniqueId\n  * @type String\n  */\n\n\n  return BaseObject;\n}(Events);\n\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n/**\n * A base class to create ui object.\n * @class UIObject\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar UIObject = /*#__PURE__*/function (_BaseObject) {\n  _inherits(UIObject, _BaseObject);\n\n  _createClass(UIObject, [{\n    key: \"tagName\",\n\n    /**\n     * a unique id prefixed with `'c'`, `c1, c232`\n     *\n     * @property cid\n     * @type String\n     */\n\n    /**\n     * the dom element itself\n     *\n     * @property el\n     * @type HTMLElement\n     */\n\n    /**\n     * the dom element wrapped by `$`\n     *\n     * @property $el\n     * @type HTMLElement\n     */\n\n    /**\n     * gets the tag name for the ui component\n     * @method tagName\n     * @default div\n     * @return {String} tag's name\n     */\n    get: function get() {\n      return 'div';\n    }\n    /**\n     * a literal object mapping element's events to methods\n     * @property events\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *   constructor(options) {\n     *     super(options)\n     *     this.myId = 0\n     *   }\n     *   get events() { return { 'click': 'myClick' } }\n     *   myClick(){ this.myId = 42 }\n     * }\n     *\n     * // when you click on MyButton the method `myClick` will be called\n     *```\n     */\n\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * a literal object mapping attributes and values to the element\n     * element's attribute name and the value the attribute value\n     * @property attributes\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *    constructor(options) { super(options) }\n     *    get attributes() { return { class: 'my-button'} }\n     * }\n     *\n     * // MyButton.el.className will be 'my-button'\n     * ```\n     */\n\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * it builds an ui component by:\n     *  * creating an id for the component `cid`\n     *  * making sure the element is created `$el`\n     *  * delegating all `events` to the element\n     * @method constructor\n     * @param {Object} options the options object\n     */\n\n  }]);\n\n  function UIObject(options) {\n    var _this;\n\n    _classCallCheck(this, UIObject);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UIObject).call(this, options));\n    _this.cid = uniqueId('c');\n\n    _this._ensureElement();\n\n    _this.delegateEvents();\n\n    return _this;\n  }\n  /**\n   * selects within the component.\n   * @method $\n   * @param {String} selector a selector to find within the component.\n   * @return {HTMLElement} an element, if it exists.\n   * @example\n   * ```javascript\n   * fullScreenBarUIComponent.$('.button-full') //will return only `.button-full` within the component\n   * ```\n   */\n\n\n  _createClass(UIObject, [{\n    key: \"$\",\n    value: function $(selector) {\n      return this.$el.find(selector);\n    }\n    /**\n     * render the component, usually attach it to a real existent `element`\n     * @method render\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n    /**\n     * removes the ui component from DOM\n     * @method destroy\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$el.remove();\n      this.stopListening();\n      this.undelegateEvents();\n      return this;\n    }\n    /**\n     * set element to `el` and `$el`\n     * @method setElement\n     * @param {HTMLElement} element\n     * @param {Boolean} delegate whether is delegate or not\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"setElement\",\n    value: function setElement(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = zepto.zepto.isZ(element) ? element : zepto(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    }\n    /**\n     * delegates all the original `events` on `element` to its callbacks\n     * @method delegateEvents\n     * @param {Object} events\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"delegateEvents\",\n    value: function delegateEvents(events) {\n      if (!(events || (events = this.events))) return this;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (method && method.constructor !== Function) method = this[events[key]];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1],\n            selector = match[2];\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') this.$el.on(eventName, method.bind(this));else this.$el.on(eventName, selector, method.bind(this));\n      }\n\n      return this;\n    }\n    /**\n     * undelegats all the `events`\n     * @method undelegateEvents\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"undelegateEvents\",\n    value: function undelegateEvents() {\n      this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    }\n    /**\n     * ensures the creation of this ui component\n     * @method _ensureElement\n     * @private\n     */\n\n  }, {\n    key: \"_ensureElement\",\n    value: function _ensureElement() {\n      if (!this.el) {\n        var attrs = zepto.extend({}, this.attributes);\n        if (this.id) attrs.id = this.id;\n        if (this.className) attrs['class'] = this.className;\n        var $el = zepto(DomRecycler.create(this.tagName)).attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(this.el, false);\n      }\n    }\n  }]);\n\n  return UIObject;\n}(BaseObject);\n\n/**\n * The PlayerError is responsible to receive and propagate errors.\n * @class PlayerError\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar PlayerError = /*#__PURE__*/function (_BaseObject) {\n  _inherits(PlayerError, _BaseObject);\n\n  _createClass(PlayerError, [{\n    key: \"name\",\n    get: function get() {\n      return 'error';\n    }\n    /**\n     * @property Levels\n     * @type {Object} object with error levels\n     */\n\n  }], [{\n    key: \"Levels\",\n    get: function get() {\n      return {\n        FATAL: 'FATAL',\n        WARN: 'WARN',\n        INFO: 'INFO'\n      };\n    }\n  }]);\n\n  function PlayerError() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var core = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, PlayerError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlayerError).call(this, options));\n    _this.core = core;\n    return _this;\n  }\n  /**\n   * creates and trigger an error.\n   * @method createError\n   * @param {Object} err should be an object with code, description, level, origin, scope and raw error.\n   */\n\n\n  _createClass(PlayerError, [{\n    key: \"createError\",\n    value: function createError(err) {\n      if (!this.core) {\n        Log.warn(this.name, 'Core is not set. Error: ', err);\n        return;\n      }\n\n      this.core.trigger(Events.ERROR, err);\n    }\n  }]);\n\n  return PlayerError;\n}(BaseObject);\n\nvar ErrorMixin = {\n  /**\n   * creates an error.\n   * @method createError\n   * @param {Object} error should be an object with code, description, level and raw error.\n   * @return {Object} Object with formatted error data including origin and scope\n   */\n  createError: function createError(error) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      useCodePrefix: true\n    };\n    var scope = this.constructor && this.constructor.type || '';\n    var origin = this.name || scope;\n    var i18n = this.i18n || this.core && this.core.i18n || this.container && this.container.i18n;\n    var prefixedCode = \"\".concat(origin, \":\").concat(error && error.code || 'unknown');\n    var defaultError = {\n      description: '',\n      level: PlayerError.Levels.FATAL,\n      origin: origin,\n      scope: scope,\n      raw: {}\n    };\n    var errorData = Object.assign({}, defaultError, error, {\n      code: options.useCodePrefix ? prefixedCode : error.code\n    });\n\n    if (i18n && errorData.level == PlayerError.Levels.FATAL && !errorData.UI) {\n      var defaultUI = {\n        title: i18n.t('default_error_title'),\n        message: i18n.t('default_error_message')\n      };\n      errorData.UI = defaultUI;\n    }\n\n    if (this.playerError) this.playerError.createError(errorData);else Log.warn(origin, 'PlayerError is not defined. Error: ', errorData);\n    return errorData;\n  }\n};\n\nvar UICorePlugin = /*#__PURE__*/function (_UIObject) {\n  _inherits(UICorePlugin, _UIObject);\n\n  _createClass(UICorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function UICorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, UICorePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UICorePlugin).call(this, core.options));\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(UICorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n  }]);\n\n  return UICorePlugin;\n}(UIObject);\nObject.assign(UICorePlugin.prototype, ErrorMixin);\n\nUICorePlugin.extend = function (properties) {\n  return extend(UICorePlugin, properties);\n};\n\nUICorePlugin.type = 'core';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".container[data-container] {\\n  position: absolute;\\n  background-color: black;\\n  height: 100%;\\n  width: 100%;\\n  max-width: 100%; }\\n  .container[data-container] .chromeless {\\n    cursor: default; }\\n\\n[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled {\\n  cursor: pointer; }\\n\";\nstyleInject(css);\n\n/**\n * An abstraction to represent a container for a given playback\n * TODO: describe its responsabilities\n * @class Container\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Container = /*#__PURE__*/function (_UIObject) {\n  _inherits(Container, _UIObject);\n\n  _createClass(Container, [{\n    key: \"name\",\n\n    /**\n     * container's name\n     * @method name\n     * @default Container\n     * @return {String} container's name\n     */\n    get: function get() {\n      return 'Container';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        \"class\": 'container',\n        'data-container': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked',\n        'dblclick': 'dblClicked',\n        'touchend': 'dblTap',\n        'contextmenu': 'onContextMenu',\n        'mouseenter': 'mouseEnter',\n        'mouseleave': 'mouseLeave'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.playback.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.playback.buffering;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * checks if has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.playback.hasClosedCaptionsTracks;\n    }\n    /**\n     * gets the available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return this.playback.closedCaptionsTracks;\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this.playback.closedCaptionsTrackId;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {\n      this.playback.closedCaptionsTrackId = trackId;\n    }\n    /**\n     * it builds a container\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Container(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, options));\n    _this._i18n = i18n;\n    _this.currentTime = 0;\n    _this.volume = 100;\n    _this.playback = options.playback;\n    _this.playerError = playerError;\n    _this.settings = zepto.extend({}, _this.playback.settings);\n    _this.isReady = false;\n    _this.mediaControlDisabled = false;\n    _this.plugins = [_this.playback];\n    _this.dblTapHandler = new DoubleEventHandler(500);\n    _this.clickTimer = null;\n    _this.clickDelay = 200; // FIXME: could be a player option\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * binds playback events to the methods of the container.\n   * it listens to playback's events and triggers them as container events.\n   *\n   * | Playback |\n   * |----------|\n   * | progress |\n   * | timeupdate |\n   * | ready |\n   * | buffering |\n   * | bufferfull |\n   * | settingsupdate |\n   * | loadedmetadata |\n   * | highdefinitionupdate |\n   * | bitrate |\n   * | playbackstate |\n   * | dvr |\n   * | mediacontrol_disable |\n   * | mediacontrol_enable |\n   * | ended |\n   * | play |\n   * | pause |\n   * | error |\n   *\n   * ps: the events usually translate from PLABACK_x to CONTAINER_x, you can check all the events at `Event` class.\n   *\n   * @method bindEvents\n   */\n\n\n  _createClass(Container, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.playback, Events.PLAYBACK_PROGRESS, this.onProgress);\n      this.listenTo(this.playback, Events.PLAYBACK_TIMEUPDATE, this.timeUpdated);\n      this.listenTo(this.playback, Events.PLAYBACK_READY, this.ready);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERING, this.onBuffering);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERFULL, this.bufferfull);\n      this.listenTo(this.playback, Events.PLAYBACK_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_LOADEDMETADATA, this.loadedMetadata);\n      this.listenTo(this.playback, Events.PLAYBACK_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_BITRATE, this.updateBitrate);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAYBACKSTATE, this.playbackStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_DVR, this.playbackDvrStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_DISABLE, this.disableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_ENABLE, this.enableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_SEEKED, this.onSeeked);\n      this.listenTo(this.playback, Events.PLAYBACK_ENDED, this.onEnded);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAY, this.playing);\n      this.listenTo(this.playback, Events.PLAYBACK_PAUSE, this.paused);\n      this.listenTo(this.playback, Events.PLAYBACK_STOP, this.stopped);\n      this.listenTo(this.playback, Events.PLAYBACK_ERROR, this.error);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_AVAILABLE, this.subtitleAvailable);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_CHANGED, this.subtitleChanged);\n    }\n  }, {\n    key: \"subtitleAvailable\",\n    value: function subtitleAvailable() {\n      this.trigger(Events.CONTAINER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"subtitleChanged\",\n    value: function subtitleChanged(track) {\n      this.trigger(Events.CONTAINER_SUBTITLE_CHANGED, track);\n    }\n  }, {\n    key: \"playbackStateChanged\",\n    value: function playbackStateChanged(state) {\n      this.trigger(Events.CONTAINER_PLAYBACKSTATE, state);\n    }\n  }, {\n    key: \"playbackDvrStateChanged\",\n    value: function playbackDvrStateChanged(dvrInUse) {\n      this.settings = this.playback.settings;\n      this.dvrInUse = dvrInUse;\n      this.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, dvrInUse);\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(newBitrate) {\n      this.trigger(Events.CONTAINER_BITRATE, newBitrate);\n    }\n  }, {\n    key: \"statsReport\",\n    value: function statsReport(metrics) {\n      this.trigger(Events.CONTAINER_STATS_REPORT, metrics);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.playback.getPlaybackType();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return !!this.playback.dvrEnabled;\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return !!this.dvrInUse;\n    }\n    /**\n     * destroys the container\n     * @method destroy\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.trigger(Events.CONTAINER_DESTROYED, this, this.name);\n      this.stopListening();\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      this.$el.css(style);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(style, duration) {\n      return this.$el.animate(style, duration).promise();\n    }\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      this.isReady = true;\n      this.trigger(Events.CONTAINER_READY, this.name);\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.playback.isPlaying();\n    }\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.playback.getStartTimeOffset();\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.playback.getDuration();\n    }\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      if (!this.isReady) this.ready();\n      this.trigger(Events.CONTAINER_ERROR, _error, this.name);\n    }\n  }, {\n    key: \"loadedMetadata\",\n    value: function loadedMetadata(metadata) {\n      this.trigger(Events.CONTAINER_LOADEDMETADATA, metadata);\n    }\n  }, {\n    key: \"timeUpdated\",\n    value: function timeUpdated(timeProgress) {\n      this.currentTime = timeProgress.current;\n      this.trigger(Events.CONTAINER_TIMEUPDATE, timeProgress, this.name);\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.trigger.apply(this, [Events.CONTAINER_PROGRESS].concat(args, [this.name]));\n    }\n  }, {\n    key: \"playing\",\n    value: function playing() {\n      this.trigger(Events.CONTAINER_PLAY, this.name);\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      this.trigger(Events.CONTAINER_PAUSE, this.name);\n    }\n    /**\n     * plays the playback\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.playback.play();\n    }\n    /**\n     * stops the playback\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.playback.stop();\n      this.currentTime = 0;\n    }\n    /**\n     * pauses the playback\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.playback.pause();\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.trigger(Events.CONTAINER_ENDED, this, this.name);\n      this.currentTime = 0;\n    }\n  }, {\n    key: \"stopped\",\n    value: function stopped() {\n      this.trigger(Events.CONTAINER_STOP);\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      var _this2 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        // The event is delayed because it can be canceled by a double-click event\n        // An example of use is to prevent playback from pausing when switching to full screen\n        this.clickTimer = setTimeout(function () {\n          _this2.clickTimer && _this2.trigger(Events.CONTAINER_CLICK, _this2, _this2.name);\n        }, this.clickDelay);\n      }\n    }\n  }, {\n    key: \"cancelClicked\",\n    value: function cancelClicked() {\n      clearTimeout(this.clickTimer);\n      this.clickTimer = null;\n    }\n  }, {\n    key: \"dblClicked\",\n    value: function dblClicked() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.cancelClicked();\n        this.trigger(Events.CONTAINER_DBLCLICK, this, this.name);\n      }\n    }\n  }, {\n    key: \"dblTap\",\n    value: function dblTap(evt) {\n      var _this3 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.dblTapHandler.handle(evt, function () {\n          _this3.cancelClicked();\n\n          _this3.trigger(Events.CONTAINER_DBLCLICK, _this3, _this3.name);\n        });\n      }\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(event) {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_CONTEXTMENU, event, this.name);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.trigger(Events.CONTAINER_SEEK, time, this.name);\n      this.playback.seek(time);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.trigger(Events.CONTAINER_SEEKED, this.name);\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var duration = this.getDuration();\n\n      if (percentage >= 0 && percentage <= 100) {\n        var time = duration * (percentage / 100);\n        this.seek(time);\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      this.volume = parseFloat(value);\n      this.trigger(Events.CONTAINER_VOLUME, this.volume, this.name);\n      this.playback.volume(this.volume);\n    }\n  }, {\n    key: \"fullscreen\",\n    value: function fullscreen() {\n      this.trigger(Events.CONTAINER_FULLSCREEN, this.name);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERING, this.name);\n    }\n  }, {\n    key: \"bufferfull\",\n    value: function bufferfull() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERFULL, this.name);\n    }\n    /**\n     * adds plugin to the container\n     * @method addPlugin\n     * @param {Object} plugin\n     */\n\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n    /**\n     * checks if a plugin, given its name, exist\n     * @method hasPlugin\n     * @param {String} name\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n    /**\n     * get the plugin given its name\n     * @method getPlugin\n     * @param {String} name\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"mouseEnter\",\n    value: function mouseEnter() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_ENTER);\n    }\n  }, {\n    key: \"mouseLeave\",\n    value: function mouseLeave() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_LEAVE);\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      this.settings = this.playback.settings;\n      this.trigger(Events.CONTAINER_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.trigger(Events.CONTAINER_HIGHDEFINITIONUPDATE, isHD);\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return this.playback.isHighDefinitionInUse();\n    }\n  }, {\n    key: \"disableMediaControl\",\n    value: function disableMediaControl() {\n      if (!this.mediaControlDisabled) {\n        this.mediaControlDisabled = true;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_DISABLE);\n      }\n    }\n  }, {\n    key: \"enableMediaControl\",\n    value: function enableMediaControl() {\n      if (this.mediaControlDisabled) {\n        this.mediaControlDisabled = false;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_ENABLE);\n      }\n    }\n  }, {\n    key: \"updateStyle\",\n    value: function updateStyle() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.$el.removeClass('chromeless');else this.$el.addClass('chromeless');\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this4 = this;\n\n      this.disableResizeObserver();\n      this.resizeObserverInterval = setInterval(function () {\n        return _this4.checkResize();\n      }, 500);\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n    }\n  }, {\n    key: \"checkResize\",\n    value: function checkResize() {\n      var newSize = {\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      };\n\n      var _ref = this.currentSize || {},\n          width = _ref.width,\n          height = _ref.height;\n\n      var isResize = height !== newSize.height || width !== newSize.width;\n\n      if (isResize) {\n        this.currentSize = newSize;\n        this.trigger(Events.CONTAINER_RESIZE, newSize);\n      }\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n      this.updateStyle();\n      this.playback.configure(this.options);\n      this.trigger(Events.CONTAINER_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.append(this.playback.render().el);\n      this.updateStyle();\n      this.checkResize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Container;\n}(UIObject);\nObject.assign(Container.prototype, ErrorMixin);\n\n/**\n * An abstraction to represent a generic playback, it's like an interface to be implemented by subclasses.\n * @class Playback\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Playback = /*#__PURE__*/function (_UIObject) {\n  _inherits(Playback, _UIObject);\n\n  _createClass(Playback, [{\n    key: \"isAudioOnly\",\n\n    /**\n    * Determine if the playback does not contain video/has video but video should be ignored.\n    * @property isAudioOnly\n    * @type Boolean\n    */\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isAdaptive\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Playback(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Playback);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Playback).call(this, options));\n    _this.settings = {};\n    _this._i18n = i18n;\n    _this.playerError = playerError;\n    _this._consented = false;\n    return _this;\n  }\n  /**\n   * Gives user consent to playback (mobile devices).\n   * @method consent\n   * @param {Function} callback function called when playback is consented\n   */\n\n\n  _createClass(Playback, [{\n    key: \"consent\",\n    value: function consent(cb) {\n      if (typeof cb === 'function') cb();\n    }\n    /**\n     * plays the playback.\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {}\n    /**\n     * pauses the playback.\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {}\n    /**\n     * stops the playback.\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {}\n    /**\n     * seeks the playback to a given `time` in seconds\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * seeks the playback to a given `percentage` in percentage\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return 0;\n    }\n    /**\n     * gets the duration in seconds\n     * @method getDuration\n     * @return {Number} duration (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return 0;\n    }\n    /**\n     * checks if the playback is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current playback is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return false;\n    }\n    /**\n     * checks if the playback is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the current playback is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"getPlaybackType\",\n    // eslint-disable-line no-unused-vars\n\n    /**\n     * gets the playback type (`'vod', 'live', 'aod'`)\n     * @method getPlaybackType\n     * @return {String} you should write the playback type otherwise it'll assume `'no_op'`\n     * @example\n     * ```javascript\n     * html5VideoPlayback.getPlaybackType() //vod\n     * html5AudioPlayback.getPlaybackType() //aod\n     * html5VideoPlayback.getPlaybackType() //live\n     * flashHlsPlayback.getPlaybackType() //live\n     * ```\n     */\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n    /**\n     * checks if the playback is in HD.\n     * @method isHighDefinitionInUse\n     * @return {Boolean} `true` if the playback is playing in HD, otherwise `false`\n     */\n\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    }\n    /**\n     * mutes the playback\n     * @method mute\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {}\n    /**\n     * restores the playback volume\n     * @method unmute\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {}\n    /**\n     * sets the volume for the playback\n     * @method volume\n     * @param {Number} value a number between 0 (`muted`) to 100 (`max`)\n     */\n\n  }, {\n    key: \"volume\",\n    value: function volume(value) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * enables to configure the playback after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n    }\n    /**\n     * attempt to autoplays the playback.\n     * @method attemptAutoPlay\n     */\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        // eslint-disable-line no-unused-vars\n        result && _this2.play();\n      });\n    }\n    /**\n     * checks if the playback can autoplay.\n     * @method canAutoPlay\n     * @param {Function} callback function where first param is Boolean and second param is playback Error or null\n     */\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      cb(true, null); // Assume playback can autoplay by default\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * checks if the playback has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.closedCaptionsTracks.length > 0;\n    }\n    /**\n     * gets the playback available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return [];\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return -1;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {}\n  }]);\n\n  return Playback;\n}(UIObject);\nObject.assign(Playback.prototype, ErrorMixin);\n\nPlayback.extend = function (properties) {\n  return extend(Playback, properties);\n};\n/**\n * checks if the playback can play a given `source`\n * If a mimeType is provided then this will be used instead of inferring the mimetype\n * from the source extension.\n * @method canPlay\n * @static\n * @param {String} source the given source ex: `http://example.com/play.mp4`\n * @param {String} [mimeType] the given mime type, ex: `'application/vnd.apple.mpegurl'`\n * @return {Boolean} `true` if the playback is playable, otherwise `false`\n */\n\n\nPlayback.canPlay = function (source, mimeType) {\n  // eslint-disable-line no-unused-vars\n  return false;\n};\n/**\n * a playback type for video on demand\n *\n * @property VOD\n * @static\n * @type String\n */\n\n\nPlayback.VOD = 'vod';\n/**\n * a playback type for audio on demand\n *\n * @property AOD\n * @static\n * @type String\n */\n\nPlayback.AOD = 'aod';\n/**\n * a playback type for live video\n *\n * @property LIVE\n * @static\n * @type String\n */\n\nPlayback.LIVE = 'live';\n/**\n * a default playback type\n *\n * @property NO_OP\n * @static\n * @type String\n */\n\nPlayback.NO_OP = 'no_op';\n/**\n * the plugin type\n *\n * @property type\n * @static\n * @type String\n */\n\nPlayback.type = 'playback';\n\nvar ContainerFactory = /*#__PURE__*/function (_BaseObject) {\n  _inherits(ContainerFactory, _BaseObject);\n\n  _createClass(ContainerFactory, [{\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this._options = options;\n    }\n  }]);\n\n  function ContainerFactory(options, loader, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, ContainerFactory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContainerFactory).call(this, options));\n    _this._i18n = i18n;\n    _this.loader = loader;\n    _this.playerError = playerError;\n    return _this;\n  }\n\n  _createClass(ContainerFactory, [{\n    key: \"createContainers\",\n    value: function createContainers() {\n      var _this2 = this;\n\n      return zepto.Deferred(function (promise) {\n        promise.resolve(_this2.options.sources.map(function (source) {\n          return _this2.createContainer(source);\n        }));\n      });\n    }\n  }, {\n    key: \"findPlaybackPlugin\",\n    value: function findPlaybackPlugin(source, mimeType) {\n      return this.loader.playbackPlugins.filter(function (p) {\n        return p.canPlay(source, mimeType);\n      })[0];\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source) {\n      var resolvedSource = null,\n          mimeType = this.options.mimeType;\n\n      if (_typeof(source) === 'object') {\n        resolvedSource = source.source.toString();\n        if (source.mimeType) mimeType = source.mimeType;\n      } else {\n        resolvedSource = source.toString();\n      }\n\n      if (resolvedSource.match(/^\\/\\//)) resolvedSource = window.location.protocol + resolvedSource;\n      var options = zepto.extend({}, this.options, {\n        src: resolvedSource,\n        mimeType: mimeType\n      });\n      var playbackPlugin = this.findPlaybackPlugin(resolvedSource, mimeType); // Fallback to empty playback object until we sort out unsupported sources error without NoOp playback\n\n      var playback = playbackPlugin ? new playbackPlugin(options, this._i18n, this.playerError) : new Playback();\n      options = zepto.extend({}, options, {\n        playback: playback\n      });\n      var container = new Container(options, this._i18n, this.playerError);\n      var defer = zepto.Deferred();\n      defer.promise(container);\n      this.addContainerPlugins(container);\n      this.listenToOnce(container, Events.CONTAINER_READY, function () {\n        return defer.resolve(container);\n      });\n      return container;\n    }\n  }, {\n    key: \"addContainerPlugins\",\n    value: function addContainerPlugins(container) {\n      this.loader.containerPlugins.forEach(function (Plugin) {\n        container.addPlugin(new Plugin(container));\n      });\n    }\n  }]);\n\n  return ContainerFactory;\n}(BaseObject);\n\nvar css$1 = \"[data-player] {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  user-select: none;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  transform: translate3d(0, 0, 0);\\n  position: relative;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  font-style: normal;\\n  font-weight: normal;\\n  text-align: center;\\n  overflow: hidden;\\n  font-size: 100%;\\n  font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n  text-shadow: 0 0 0;\\n  box-sizing: border-box; }\\n  [data-player] div, [data-player] span, [data-player] applet, [data-player] object, [data-player] iframe,\\n  [data-player] h1, [data-player] h2, [data-player] h3, [data-player] h4, [data-player] h5, [data-player] h6, [data-player] p, [data-player] blockquote, [data-player] pre,\\n  [data-player] a, [data-player] abbr, [data-player] acronym, [data-player] address, [data-player] big, [data-player] cite, [data-player] code,\\n  [data-player] del, [data-player] dfn, [data-player] em, [data-player] img, [data-player] ins, [data-player] kbd, [data-player] q, [data-player] s, [data-player] samp,\\n  [data-player] small, [data-player] strike, [data-player] strong, [data-player] sub, [data-player] sup, [data-player] tt, [data-player] var,\\n  [data-player] b, [data-player] u, [data-player] i, [data-player] center,\\n  [data-player] dl, [data-player] dt, [data-player] dd, [data-player] ol, [data-player] ul, [data-player] li,\\n  [data-player] fieldset, [data-player] form, [data-player] label, [data-player] legend,\\n  [data-player] table, [data-player] caption, [data-player] tbody, [data-player] tfoot, [data-player] thead, [data-player] tr, [data-player] th, [data-player] td,\\n  [data-player] article, [data-player] aside, [data-player] canvas, [data-player] details, [data-player] embed,\\n  [data-player] figure, [data-player] figcaption, [data-player] footer, [data-player] header, [data-player] hgroup,\\n  [data-player] menu, [data-player] nav, [data-player] output, [data-player] ruby, [data-player] section, [data-player] summary,\\n  [data-player] time, [data-player] mark, [data-player] audio, [data-player] video {\\n    margin: 0;\\n    padding: 0;\\n    border: 0;\\n    font: inherit;\\n    font-size: 100%;\\n    vertical-align: baseline; }\\n  [data-player] table {\\n    border-collapse: collapse;\\n    border-spacing: 0; }\\n  [data-player] caption, [data-player] th, [data-player] td {\\n    text-align: left;\\n    font-weight: normal;\\n    vertical-align: middle; }\\n  [data-player] q, [data-player] blockquote {\\n    quotes: none; }\\n    [data-player] q:before, [data-player] q:after, [data-player] blockquote:before, [data-player] blockquote:after {\\n      content: \\\"\\\";\\n      content: none; }\\n  [data-player] a img {\\n    border: none; }\\n  [data-player]:focus {\\n    outline: 0; }\\n  [data-player] * {\\n    max-width: none;\\n    box-sizing: inherit;\\n    float: none; }\\n  [data-player] div {\\n    display: block; }\\n  [data-player].fullscreen {\\n    width: 100% !important;\\n    height: 100% !important;\\n    top: 0;\\n    left: 0; }\\n  [data-player].nocursor {\\n    cursor: none; }\\n\\n.clappr-style {\\n  display: none !important; }\\n\";\nstyleInject(css$1);\n\n/**\n * The Core is responsible to manage Containers and the player state.\n * @class Core\n * @constructor\n * @extends UIObject\n * @module components\n */\n\nvar Core = /*#__PURE__*/function (_UIObject) {\n  _inherits(Core, _UIObject);\n\n  _createClass(Core, [{\n    key: \"events\",\n    get: function get() {\n      return {\n        'webkitfullscreenchange': 'handleFullscreenChange',\n        'mousemove': 'onMouseMove',\n        'mouseleave': 'onMouseLeave'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-player': '',\n        tabindex: 9999\n      };\n    }\n    /**\n     * checks if the core is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the core is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this.ready;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.getPlugin('strings') || {\n        t: function t(key) {\n          return key;\n        }\n      };\n    }\n    /**\n     * @deprecated\n     * This property currently exists for backward compatibility reasons.\n     * If you need to access the media control instance, use the method getPlugin('media_control').\n     * This approach is still not recommended.\n     */\n\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this._mediaControl || (this._mediaControl = this.getPlugin('media_control')) || this.dummyMediaControl;\n    }\n  }, {\n    key: \"dummyMediaControl\",\n    get: function get() {\n      if (this._dummyMediaControl) return this._dummyMediaControl;\n      this._dummyMediaControl = new UICorePlugin(this);\n      return this._dummyMediaControl;\n    }\n    /**\n     * gets the active container reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activeContainer\",\n    get: function get() {\n      return this._activeContainer;\n    }\n    /**\n     * sets the active container reference and trigger a event with the new reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n    ,\n    set: function set(container) {\n      this._activeContainer = container;\n      this.trigger(Events.CORE_ACTIVE_CONTAINER_CHANGED, this._activeContainer);\n    }\n    /**\n     * gets the active playback reference.\n     * @property activePlayback\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activePlayback\",\n    get: function get() {\n      return this.activeContainer && this.activeContainer.playback;\n    }\n  }]);\n\n  function Core(options) {\n    var _this;\n\n    _classCallCheck(this, Core);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Core).call(this, options));\n    _this.playerError = new PlayerError(options, _assertThisInitialized(_this));\n\n    _this.configureDomRecycler();\n\n    _this.firstResize = true;\n    _this.plugins = [];\n    _this.containers = []; //FIXME fullscreen api sucks\n\n    _this._boundFullscreenHandler = function () {\n      return _this.handleFullscreenChange();\n    };\n\n    zepto(document).bind('fullscreenchange', _this._boundFullscreenHandler);\n    zepto(document).bind('MSFullscreenChange', _this._boundFullscreenHandler);\n    zepto(document).bind('mozfullscreenchange', _this._boundFullscreenHandler);\n    Browser.isMobile && zepto(window).bind('resize', function (o) {\n      _this.handleWindowResize(o);\n    });\n    return _this;\n  }\n\n  _createClass(Core, [{\n    key: \"configureDomRecycler\",\n    value: function configureDomRecycler() {\n      var recycleVideo = this.options && this.options.playback && this.options.playback.recycleVideo;\n      DomRecycler.configure({\n        recycleVideo: recycleVideo\n      });\n    }\n  }, {\n    key: \"createContainers\",\n    value: function createContainers(options) {\n      this.defer = zepto.Deferred();\n      this.defer.promise(this);\n      this.containerFactory = new ContainerFactory(options, options.loader, this.i18n, this.playerError);\n      this.prepareContainers();\n    }\n  }, {\n    key: \"prepareContainers\",\n    value: function prepareContainers() {\n      var _this2 = this;\n\n      this.containerFactory.createContainers().then(function (containers) {\n        return _this2.setupContainers(containers);\n      }).then(function (containers) {\n        return _this2.resolveOnContainersReady(containers);\n      });\n    }\n  }, {\n    key: \"updateSize\",\n    value: function updateSize() {\n      this.isFullscreen() ? this.setFullscreen() : this.setPlayerSize();\n    }\n  }, {\n    key: \"setFullscreen\",\n    value: function setFullscreen() {\n      if (!Browser.isiOS) {\n        this.$el.addClass('fullscreen');\n        this.$el.removeAttr('style');\n        this.previousSize = {\n          width: this.options.width,\n          height: this.options.height\n        };\n        this.currentSize = {\n          width: zepto(window).width(),\n          height: zepto(window).height()\n        };\n      }\n    }\n  }, {\n    key: \"setPlayerSize\",\n    value: function setPlayerSize() {\n      this.$el.removeClass('fullscreen');\n      this.currentSize = this.previousSize;\n      this.previousSize = {\n        width: zepto(window).width(),\n        height: zepto(window).height()\n      };\n      this.resize(this.currentSize);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(options) {\n      if (!isNumber(options.height) && !isNumber(options.width)) {\n        this.el.style.height = \"\".concat(options.height);\n        this.el.style.width = \"\".concat(options.width);\n      } else {\n        this.el.style.height = \"\".concat(options.height, \"px\");\n        this.el.style.width = \"\".concat(options.width, \"px\");\n      }\n\n      this.previousSize = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.options.width = options.width;\n      this.options.height = options.height;\n      this.currentSize = options;\n      this.triggerResize(this.currentSize);\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this3 = this;\n\n      this.disableResizeObserver();\n\n      var checkSizeCallback = function checkSizeCallback() {\n        _this3.triggerResize({\n          width: _this3.el.clientWidth,\n          height: _this3.el.clientHeight\n        });\n      };\n\n      this.resizeObserverInterval = setInterval(checkSizeCallback, 500);\n    }\n  }, {\n    key: \"triggerResize\",\n    value: function triggerResize(newSize) {\n      var thereWasChange = this.firstResize || this.oldHeight !== newSize.height || this.oldWidth !== newSize.width;\n\n      if (thereWasChange) {\n        this.oldHeight = newSize.height;\n        this.oldWidth = newSize.width;\n        this.computedSize = newSize;\n        this.firstResize = false;\n        this.trigger(Events.CORE_RESIZE, newSize);\n      }\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n      this.resizeObserverInterval = null;\n    }\n  }, {\n    key: \"resolveOnContainersReady\",\n    value: function resolveOnContainersReady(containers) {\n      var _this4 = this;\n\n      zepto.when.apply(zepto, containers).done(function () {\n        _this4.defer.resolve(_this4);\n\n        _this4.ready = true;\n\n        _this4.trigger(Events.CORE_READY);\n      });\n    }\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType) {\n      this.options.mimeType = mimeType;\n      sources = sources && sources.constructor === Array ? sources : [sources];\n      this.options.sources = sources;\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.containerFactory.options = zepto.extend(this.options, {\n        sources: sources\n      });\n      this.prepareContainers();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n      zepto(document).unbind('fullscreenchange', this._boundFullscreenHandler);\n      zepto(document).unbind('MSFullscreenChange', this._boundFullscreenHandler);\n      zepto(document).unbind('mozfullscreenchange', this._boundFullscreenHandler);\n      this.stopListening();\n    }\n  }, {\n    key: \"handleFullscreenChange\",\n    value: function handleFullscreenChange() {\n      this.trigger(Events.CORE_FULLSCREEN, this.isFullscreen());\n      this.updateSize();\n    }\n  }, {\n    key: \"handleWindowResize\",\n    value: function handleWindowResize(event) {\n      var orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';\n      if (this._screenOrientation === orientation) return;\n      this._screenOrientation = orientation;\n      this.triggerResize({\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      });\n      this.trigger(Events.CORE_SCREEN_ORIENTATION_CHANGED, {\n        event: event,\n        orientation: this._screenOrientation\n      });\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer(container) {\n      this.stopListening(container);\n      this.containers = this.containers.filter(function (c) {\n        return c !== container;\n      });\n    }\n  }, {\n    key: \"setupContainer\",\n    value: function setupContainer(container) {\n      this.listenTo(container, Events.CONTAINER_DESTROYED, this.removeContainer);\n      this.containers.push(container);\n    }\n  }, {\n    key: \"setupContainers\",\n    value: function setupContainers(containers) {\n      containers.forEach(this.setupContainer.bind(this));\n      this.trigger(Events.CORE_CONTAINERS_CREATED);\n      this.renderContainers();\n      this.activeContainer = containers[0];\n      this.render();\n      this.appendToParent();\n      return this.containers;\n    }\n  }, {\n    key: \"renderContainers\",\n    value: function renderContainers() {\n      var _this5 = this;\n\n      this.containers.forEach(function (container) {\n        return _this5.el.appendChild(container.render().el);\n      });\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source, options) {\n      var container = this.containerFactory.createContainer(source, options);\n      this.setupContainer(container);\n      this.el.appendChild(container.render().el);\n      return container;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current container reference, use the activeContainer getter.\n     */\n\n  }, {\n    key: \"getCurrentContainer\",\n    value: function getCurrentContainer() {\n      return this.activeContainer;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current playback reference, use the activePlayback getter.\n     */\n\n  }, {\n    key: \"getCurrentPlayback\",\n    value: function getCurrentPlayback() {\n      return this.activePlayback;\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.activeContainer && this.activeContainer.getPlaybackType();\n    }\n  }, {\n    key: \"isFullscreen\",\n    value: function isFullscreen() {\n      // Ensure current instance is in fullscreen mode by checking fullscreen element\n      var fullscreenElement = Fullscreen.fullscreenElement();\n      if (!fullscreenElement) return false;\n      var playbackEl = this.activePlayback && this.activePlayback.el;\n      return fullscreenElement === this.el || fullscreenElement === playbackEl;\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      if (this.isFullscreen()) {\n        Fullscreen.cancelFullscreen();\n        !Browser.isiOS && this.$el.removeClass('fullscreen nocursor');\n      } else {\n        var fullscreenEl = Browser.isiOS ? this.activePlayback && this.activePlayback.el : this.el;\n        if (!fullscreenEl) return;\n        Fullscreen.requestFullscreen(fullscreenEl);\n        !Browser.isiOS && this.$el.addClass('fullscreen');\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      this.trigger(Events.CORE_MOUSE_MOVE, event);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(event) {\n      this.trigger(Events.CORE_MOUSE_LEAVE, event);\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      var _this6 = this;\n\n      this._options = zepto.extend(this._options, options);\n      this.configureDomRecycler();\n      var sources = options.source || options.sources;\n      sources && this.load(sources, options.mimeType || this.options.mimeType);\n      this.trigger(Events.CORE_OPTIONS_CHANGE, options); // Trigger with newly provided options\n\n      this.containers.forEach(function (container) {\n        return container.configure(_this6.options);\n      });\n    }\n  }, {\n    key: \"appendToParent\",\n    value: function appendToParent() {\n      var hasCoreParent = this.$el.parent() && this.$el.parent().length;\n      !hasCoreParent && this.$el.appendTo(this.options.parentElement);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.options.width = this.options.width || this.$el.width();\n      this.options.height = this.options.height || this.$el.height();\n      var size = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.previousSize = this.currentSize = this.computedSize = size;\n      this.updateSize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Core;\n}(UIObject);\nObject.assign(Core.prototype, ErrorMixin);\n\n/**\n * The Core Factory is responsible for instantiate the core and it's plugins.\n * @class CoreFactory\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar CoreFactory = /*#__PURE__*/function (_BaseObject) {\n  _inherits(CoreFactory, _BaseObject);\n\n  _createClass(CoreFactory, [{\n    key: \"loader\",\n    get: function get() {\n      return this.player.loader;\n    }\n    /**\n     * it builds the core factory\n     * @method constructor\n     * @param {Player} player the player object\n     */\n\n  }]);\n\n  function CoreFactory(player) {\n    var _this;\n\n    _classCallCheck(this, CoreFactory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CoreFactory).call(this));\n    _this.player = player;\n    _this._options = player.options;\n    return _this;\n  }\n  /**\n   * creates a core and its plugins\n   * @method create\n   * @return {Core} created core\n   */\n\n\n  _createClass(CoreFactory, [{\n    key: \"create\",\n    value: function create() {\n      this.options.loader = this.loader;\n      this.core = new Core(this.options);\n      this.addCorePlugins();\n      this.core.createContainers(this.options);\n      return this.core;\n    }\n    /**\n     * given the core plugins (`loader.corePlugins`) it builds each one\n     * @method addCorePlugins\n     * @return {Core} the core with all plugins\n     */\n\n  }, {\n    key: \"addCorePlugins\",\n    value: function addCorePlugins() {\n      var _this2 = this;\n\n      this.loader.corePlugins.forEach(function (Plugin) {\n        var plugin = new Plugin(_this2.core);\n\n        _this2.core.addPlugin(plugin);\n\n        _this2.setupExternalInterface(plugin);\n      });\n      return this.core;\n    }\n  }, {\n    key: \"setupExternalInterface\",\n    value: function setupExternalInterface(plugin) {\n      var externalFunctions = plugin.getExternalInterface();\n\n      for (var key in externalFunctions) {\n        this.player[key] = externalFunctions[key].bind(plugin);\n      }\n    }\n  }]);\n\n  return CoreFactory;\n}(BaseObject);\n\nvar VERSION_REGEX = /(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?/;\n\nvar Version = /*#__PURE__*/function () {\n  _createClass(Version, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var matches = str.match(VERSION_REGEX) || [];\n\n      var _matches = _slicedToArray(matches, 4),\n          major = _matches[1],\n          minor = _matches[2],\n          patch = _matches[3];\n\n      if (typeof major === 'undefined') return null;\n      return new Version(major, minor, patch);\n    }\n  }]);\n\n  function Version(major, minor, patch) {\n    _classCallCheck(this, Version);\n\n    this.major = parseInt(major || 0, 10);\n    this.minor = parseInt(minor || 0, 10);\n    this.patch = parseInt(patch || 0, 10);\n  }\n\n  _createClass(Version, [{\n    key: \"compare\",\n    value: function compare(other) {\n      var diff = this.major - other.major;\n      diff = diff || this.minor - other.minor;\n      diff = diff || this.patch - other.patch;\n      return diff;\n    }\n  }, {\n    key: \"inc\",\n    value: function inc() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'patch';\n      typeof this[type] !== 'undefined' && (this[type] += 1);\n      return this;\n    }\n  }, {\n    key: \"satisfies\",\n    value: function satisfies(min, max) {\n      return this.compare(min) >= 0 && (!max || this.compare(max) < 0);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.major, \".\").concat(this.minor, \".\").concat(this.patch);\n    }\n  }]);\n\n  return Version;\n}();\n\nvar filterPluginsByType = function filterPluginsByType(plugins, type) {\n  if (!plugins || !type) return {};\n  return Object.entries(plugins).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        value = _ref2[1];\n\n    return value.type === type;\n  }).reduce(function (obj, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return obj[key] = value, obj;\n  }, {});\n};\n/**\n * It keeps a list of the default plugins (playback, container, core) and it merges external plugins with its internals.\n * @class Loader\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\n\nvar Loader = (function () {\n  var registry = {\n    plugins: {},\n    playbacks: []\n  };\n  var currentVersion = \"0.4.11\";\n  return (/*#__PURE__*/function () {\n      _createClass(Loader, null, [{\n        key: \"checkVersionSupport\",\n        value: function checkVersionSupport(entry) {\n          var _entry$prototype = entry.prototype,\n              supportedVersion = _entry$prototype.supportedVersion,\n              name = _entry$prototype.name;\n\n          if (!supportedVersion || !supportedVersion.min) {\n            Log.warn('Loader', \"missing version information for \".concat(name));\n            return false;\n          }\n\n          var maxVersion = supportedVersion.max ? Version.parse(supportedVersion.max) : Version.parse(supportedVersion.min).inc('minor');\n          var minVersion = Version.parse(supportedVersion.min);\n\n          if (!Version.parse(currentVersion).satisfies(minVersion, maxVersion)) {\n            Log.warn('Loader', \"unsupported plugin \".concat(name, \": Clappr version \").concat(currentVersion, \" does not match required range [\").concat(minVersion, \",\").concat(maxVersion, \")\"));\n            return false;\n          }\n\n          return true;\n        }\n      }, {\n        key: \"registerPlugin\",\n        value: function registerPlugin(pluginEntry) {\n          if (!pluginEntry || !pluginEntry.prototype.name) {\n            Log.warn('Loader', \"missing information to register plugin: \".concat(pluginEntry));\n            return false;\n          }\n\n          Loader.checkVersionSupport(pluginEntry);\n          var pluginRegistry = registry.plugins;\n          if (!pluginRegistry) return false;\n          var previousEntry = pluginRegistry[pluginEntry.prototype.name];\n          if (previousEntry) Log.warn('Loader', \"overriding plugin entry: \".concat(pluginEntry.prototype.name, \" - \").concat(previousEntry));\n          pluginRegistry[pluginEntry.prototype.name] = pluginEntry;\n          return true;\n        }\n      }, {\n        key: \"registerPlayback\",\n        value: function registerPlayback(playbackEntry) {\n          if (!playbackEntry || !playbackEntry.prototype.name) return false;\n          Loader.checkVersionSupport(playbackEntry);\n          var playbacks = registry.playbacks;\n          var previousEntryIdx = playbacks.findIndex(function (entry) {\n            return entry.name === playbackEntry.prototype.name;\n          });\n\n          if (previousEntryIdx >= 0) {\n            var previousEntry = playbacks[previousEntryIdx];\n            playbacks.splice(previousEntryIdx, 1);\n            Log.warn('Loader', \"overriding playback entry: \".concat(previousEntry.name, \" - \").concat(previousEntry));\n          }\n\n          registry.playbacks = [playbackEntry].concat(_toConsumableArray(playbacks));\n          return true;\n        }\n      }, {\n        key: \"unregisterPlugin\",\n        value: function unregisterPlugin(name) {\n          if (!name) return false;\n          var plugins = registry.plugins;\n          var plugin = plugins[name];\n          if (!plugin) return false;\n          delete plugins[name];\n          return true;\n        }\n      }, {\n        key: \"unregisterPlayback\",\n        value: function unregisterPlayback(name) {\n          if (!name) return false;\n          var playbacks = registry.playbacks;\n          var index = playbacks.findIndex(function (entry) {\n            return entry.prototype.name === name;\n          });\n          if (index < 0) return false;\n          playbacks.splice(index, 1);\n          registry.playbacks = playbacks;\n          return true;\n        }\n      }, {\n        key: \"clearPlugins\",\n        value: function clearPlugins() {\n          registry.plugins = {};\n        }\n      }, {\n        key: \"clearPlaybacks\",\n        value: function clearPlaybacks() {\n          registry.playbacks = [];\n        }\n        /**\n         * builds the loader\n         * @method constructor\n         * @param {Object} externalPlugins the external plugins\n         * @param {Number} playerId you can embed multiple instances of clappr, therefore this is the unique id of each one.\n         */\n\n      }, {\n        key: \"registeredPlaybacks\",\n        get: function get() {\n          return _toConsumableArray(registry.playbacks);\n        }\n      }, {\n        key: \"registeredPlugins\",\n        get: function get() {\n          var plugins = registry.plugins;\n          var core = filterPluginsByType(plugins, 'core');\n          var container = filterPluginsByType(plugins, 'container');\n          return {\n            core: core,\n            container: container\n          };\n        }\n      }]);\n\n      function Loader() {\n        var externalPlugins = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var playerId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Loader);\n\n        this.playerId = playerId;\n        this.playbackPlugins = _toConsumableArray(registry.playbacks);\n        var _Loader$registeredPlu = Loader.registeredPlugins,\n            core = _Loader$registeredPlu.core,\n            container = _Loader$registeredPlu.container;\n        this.containerPlugins = Object.values(container);\n        this.corePlugins = Object.values(core);\n        if (!Array.isArray(externalPlugins)) this.validateExternalPluginsType(externalPlugins);\n        this.addExternalPlugins(externalPlugins);\n      }\n      /**\n       * groups by type the external plugins that were passed through `options.plugins` it they're on a flat array\n       * @method addExternalPlugins\n       * @private\n       * @param {Object} an config object or an array of plugins\n       * @return {Object} plugins the config object with the plugins separated by type\n       */\n\n\n      _createClass(Loader, [{\n        key: \"groupPluginsByType\",\n        value: function groupPluginsByType(plugins) {\n          if (Array.isArray(plugins)) {\n            plugins = plugins.reduce(function (memo, plugin) {\n              memo[plugin.type] || (memo[plugin.type] = []);\n              memo[plugin.type].push(plugin);\n              return memo;\n            }, {});\n          }\n\n          return plugins;\n        }\n      }, {\n        key: \"removeDups\",\n        value: function removeDups(list) {\n          var groupUp = function groupUp(plugins, plugin) {\n            plugins[plugin.prototype.name] && delete plugins[plugin.prototype.name];\n            plugins[plugin.prototype.name] = plugin;\n            return plugins;\n          };\n\n          var pluginsMap = list.reduceRight(groupUp, Object.create(null));\n          var plugins = [];\n\n          for (var key in pluginsMap) {\n            plugins.unshift(pluginsMap[key]);\n          }\n\n          return plugins;\n        }\n        /**\n         * adds all the external plugins that were passed through `options.plugins`\n         * @method addExternalPlugins\n         * @private\n         * @param {Object} plugins the config object with all plugins\n         */\n\n      }, {\n        key: \"addExternalPlugins\",\n        value: function addExternalPlugins(plugins) {\n          plugins = this.groupPluginsByType(plugins);\n\n          if (plugins.playback) {\n            var playbacks = plugins.playback.filter(function (playback) {\n              return Loader.checkVersionSupport(playback), true;\n            });\n            this.playbackPlugins = this.removeDups(playbacks.concat(this.playbackPlugins));\n          }\n\n          if (plugins.container) {\n            var containerPlugins = plugins.container.filter(function (plugin) {\n              return Loader.checkVersionSupport(plugin), true;\n            });\n            this.containerPlugins = this.removeDups(containerPlugins.concat(this.containerPlugins));\n          }\n\n          if (plugins.core) {\n            var corePlugins = plugins.core.filter(function (plugin) {\n              return Loader.checkVersionSupport(plugin), true;\n            });\n            this.corePlugins = this.removeDups(corePlugins.concat(this.corePlugins));\n          }\n        }\n        /**\n         * validate if the external plugins that were passed through `options.plugins` are associated to the correct type\n         * @method validateExternalPluginsType\n         * @private\n         * @param {Object} plugins the config object with all plugins\n         */\n\n      }, {\n        key: \"validateExternalPluginsType\",\n        value: function validateExternalPluginsType(plugins) {\n          var plugintypes = ['playback', 'container', 'core'];\n          plugintypes.forEach(function (type) {\n            (plugins[type] || []).forEach(function (el) {\n              var errorMessage = 'external ' + el.type + ' plugin on ' + type + ' array';\n              if (el.type !== type) throw new ReferenceError(errorMessage);\n            });\n          });\n        }\n      }]);\n\n      return Loader;\n    }()\n  );\n})();\n\nvar baseUrl = currentScriptUrl().replace(/\\/[^/]+$/, '');\n/**\n * @class Player\n * @constructor\n * @extends BaseObject\n * @module components\n * @example\n * ### Using the Player\n *\n * Add the following script on your HTML:\n * ```html\n * <head>\n *   <script type=\"text/javascript\" src=\"http://cdn.clappr.io/latest/clappr.min.js\"></script>\n * </head>\n * ```\n * Now, create the player:\n * ```html\n * <body>\n *   <div id=\"player\"></div>\n *   <script>\n *     var player = new Clappr.Player({source: \"http://your.video/here.mp4\", parentId: \"#player\"});\n *   </script>\n * </body>\n * ```\n */\n\nvar Player = /*#__PURE__*/function (_BaseObject) {\n  _inherits(Player, _BaseObject);\n\n  _createClass(Player, [{\n    key: \"loader\",\n    set: function set(loader) {\n      this._loader = loader;\n    },\n    get: function get() {\n      if (!this._loader) this._loader = new Loader(this.options.plugins || {}, this.options.playerId);\n      return this._loader;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.core.activeContainer.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.core.activeContainer.buffering;\n    }\n    /*\n     * determine if the player is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the player is ready. ie PLAYER_READY event has fired\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this._ready;\n    }\n    /**\n     * An events map that allows the user to add custom callbacks in player's options.\n     * @property eventsMapping\n     * @type {Object}\n     */\n\n  }, {\n    key: \"eventsMapping\",\n    get: function get() {\n      return {\n        onReady: Events.PLAYER_READY,\n        onResize: Events.PLAYER_RESIZE,\n        onPlay: Events.PLAYER_PLAY,\n        onPause: Events.PLAYER_PAUSE,\n        onStop: Events.PLAYER_STOP,\n        onEnded: Events.PLAYER_ENDED,\n        onSeek: Events.PLAYER_SEEK,\n        onError: Events.PLAYER_ERROR,\n        onTimeUpdate: Events.PLAYER_TIMEUPDATE,\n        onVolumeUpdate: Events.PLAYER_VOLUMEUPDATE,\n        onSubtitleAvailable: Events.PLAYER_SUBTITLE_AVAILABLE\n      };\n    }\n    /**\n     * @typedef {Object} PlaybackConfig\n     * @prop {boolean} disableContextMenu\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @prop {boolean} preload\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @prop {boolean} controls\n     * enabled/disables displaying controls\n     * @prop {boolean} crossOrigin\n     * enables cross-origin capability for media-resources\n     * @prop {boolean} playInline\n     * enables in-line video elements\n     * @prop {boolean} audioOnly\n     * enforce audio-only playback (when possible)\n     * @prop {Object} externalTracks\n     * pass externaly loaded track to playback\n     * @prop {Number} [maxBufferLength]\n     * The default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @prop {Number} [maxBackBufferLength]\n     * After how much distance of the playhead data should be pruned from the buffer (influences memory consumption\n     * of adaptive media-engines like Hls.js or Shaka)\n     * @prop {Number} [minBufferLength]\n     * After how much data in the buffer at least we attempt to consume it (influences QoS-related behavior\n     * of adaptive media-engines like Hls.js or Shaka). If this is too low, and the available bandwidth is varying a lot\n     * and too close to the streamed bitrate, we may continuously hit under-runs.\n     * @prop {Number} [initialBandwidthEstimate]\n     * define an initial bandwidth \"guess\" (or previously stored/established value) for underlying adaptive-bitreate engines\n     * of adaptive playback implementations, like Hls.js or Shaka\n     * @prop {Number} [maxAdaptiveBitrate]\n     * Limits the streamed bitrate (for adaptive media-engines in underlying playback implementations)\n     * @prop {Object} [maxAdaptiveVideoDimensions]\n     * Limits the video dimensions in adaptive media-engines. Should be a literal object with `height` and `width`.\n     * @prop {Boolean}[enableAutomaticABR] **default**: `true`\n     * Allows to enable/disable automatic bitrate switching in adaptive media-engines\n     * @prop {String} [preferredTextLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred text language, that may be enabled by the media-engine if available.\n     * @prop {String} [preferredAudioLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred audio language, that may be enabled by the media-engine if available.\n     */\n\n    /**\n     * ## Player's constructor\n     *\n     * You might pass the options object to build the player.\n     * ```javascript\n     * var options = {source: \"http://example.com/video.mp4\", param1: \"val1\"};\n     * var player = new Clappr.Player(options);\n     * ```\n     *\n     * @method constructor\n     * @param {Object} options Data\n     * options to build a player instance\n     * @param {Number} [options.width]\n     * player's width **default**: `640`\n     * @param {Number} [options.height]\n     * player's height **default**: `360`\n     * @param {String} [options.parentId]\n     * the id of the element on the page that the player should be inserted into\n     * @param {Object} [options.parent]\n     * a reference to a dom element that the player should be inserted into\n     * @param {String} [options.source]\n     * The media source URL, or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Object} [options.sources]\n     * An array of media source URL's, or an array of {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Boolean} [options.autoPlay]\n     * automatically play after page load **default**: `false`\n     * @param {Boolean} [options.loop]\n     * automatically replay after it ends **default**: `false`\n     * @param {Boolean} [options.chromeless]\n     * player acts in chromeless mode **default**: `false`\n     * @param {Boolean} [options.allowUserInteraction]\n     * whether or not the player should handle click events when in chromeless mode **default**: `false` on desktops browsers, `true` on mobile.\n     * @param {Boolean} [options.disableKeyboardShortcuts]\n     * disable keyboard shortcuts. **default**: `false`. `true` if `allowUserInteraction` is `false`.\n     * @param {Boolean} [options.mute]\n     * start the video muted **default**: `false`\n     * @param {String} [options.mimeType]\n     * add `mimeType: \"application/vnd.apple.mpegurl\"` if you need to use a url without extension.\n     * @param {Boolean} [options.actualLiveTime]\n     * show duration and seek time relative to actual time.\n     * @param {String} [options.actualLiveServerTime]\n     * specify server time as a string, format: \"2015/11/26 06:01:03\". This option is meant to be used with actualLiveTime.\n     * @param {Boolean} [options.persistConfig]\n     * persist player's settings (volume) through the same domain **default**: `true`\n     * @param {String} [options.preload] @deprecated\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @param {Number} [options.maxBufferLength] @deprecated\n     * the default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @param {String} [options.gaAccount]\n     * enable Google Analytics events dispatch **(play/pause/stop/buffering/etc)** by adding your `gaAccount`\n     * @param {String} [options.gaTrackerName]\n     * besides `gaAccount` you can optionally, pass your favorite trackerName as `gaTrackerName`\n     * @param {Object} [options.mediacontrol]\n     * customize control bar colors, example: `mediacontrol: {seekbar: \"#E113D3\", buttons: \"#66B2FF\"}`\n     * @param {Boolean} [options.hideMediaControl]\n     * control media control auto hide **default**: `true`\n     * @param {Boolean} [options.hideVolumeBar]\n     * when embedded with width less than 320, volume bar will hide. You can force this behavior for all sizes by adding `true` **default**: `false`\n     * @param {String} [options.watermark]\n     * put `watermark: 'http://url/img.png'` on your embed parameters to automatically add watermark on your video.\n     * You can customize corner position by defining position parameter. Positions can be `bottom-left`, `bottom-right`, `top-left` and `top-right`.\n     * @param {String} [options.watermarkLink]\n     * `watermarkLink: 'http://example.net/'` - define URL to open when the watermark is clicked. If not provided watermark will not be clickable.\n     * @param {Boolean} [options.disableVideoTagContextMenu] @deprecated\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @param {Boolean} [options.autoSeekFromUrl]\n     * Automatically seek to the seconds provided in the url (e.g example.com?t=100) **default**: `true`\n     * @param {Boolean} [options.exitFullscreenOnEnd]\n     * Automatically exit full screen when the media finishes. **default**: `true`\n     * @param {String} [options.poster]\n     * define a poster by adding its address `poster: 'http://url/img.png'`. It will appear after video embed, disappear on play and go back when user stops the video.\n     * @param {String} [options.playbackNotSupportedMessage]\n     * define a custom message to be displayed when a playback is not supported.\n     * @param {Object} [options.events]\n     * Specify listeners which will be registered with their corresponding player events.\n     * E.g. onReady -> \"PLAYER_READY\", onTimeUpdate -> \"PLAYER_TIMEUPDATE\"\n     * @param {PlaybackConfig} [options.playback]\n     * Generic `Playback` component related configuration\n     * @param {Boolean} [options.disableErrorScreen]\n     * disables the error screen plugin.\n     * @param {Number} [options.autoPlayTimeout]\n     * autoplay check timeout.\n     */\n\n  }]);\n\n  function Player(options) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Player).call(this, options));\n    var playbackDefaultOptions = {\n      recycleVideo: true\n    };\n    var defaultOptions = {\n      playerId: uniqueId(''),\n      persistConfig: true,\n      width: 640,\n      height: 360,\n      baseUrl: baseUrl,\n      allowUserInteraction: Browser.isMobile,\n      playback: playbackDefaultOptions\n    };\n    _this._options = zepto.extend(defaultOptions, options);\n    _this.options.sources = _this._normalizeSources(options);\n\n    if (!_this.options.chromeless) {\n      // \"allowUserInteraction\" cannot be false if not in chromeless mode.\n      _this.options.allowUserInteraction = true;\n    }\n\n    if (!_this.options.allowUserInteraction) {\n      // if user iteraction is not allowed ensure keyboard shortcuts are disabled\n      _this.options.disableKeyboardShortcuts = true;\n    }\n\n    _this._registerOptionEventListeners(_this.options.events);\n\n    _this._coreFactory = new CoreFactory(_assertThisInitialized(_this));\n    if (_this.options.parentId) _this.setParentId(_this.options.parentId);else if (_this.options.parent) _this.attachTo(_this.options.parent);\n    return _this;\n  }\n  /**\n   * Specify a `parentId` to the player.\n   * @method setParentId\n   * @param {String} parentId the element parent id.\n   * @return {Player} itself\n   */\n\n\n  _createClass(Player, [{\n    key: \"setParentId\",\n    value: function setParentId(parentId) {\n      var el = document.querySelector(parentId);\n      if (el) this.attachTo(el);\n      return this;\n    }\n    /**\n     * You can use this method to attach the player to a given element. You don't need to do this when you specify it during the player instantiation passing the `parentId` param.\n     * @method attachTo\n     * @param {Object} element a given element.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(element) {\n      this.options.parentElement = element;\n      this.core = this._coreFactory.create();\n\n      this._addEventListeners();\n\n      return this;\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      if (!this.core.isReady) this.listenToOnce(this.core, Events.CORE_READY, this._onReady);else this._onReady();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this._containerChanged);\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this._onFullscreenChange);\n      this.listenTo(this.core, Events.CORE_RESIZE, this._onResize);\n      return this;\n    }\n  }, {\n    key: \"_addContainerEventListeners\",\n    value: function _addContainerEventListeners() {\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_PLAY, this._onPlay);\n        this.listenTo(container, Events.CONTAINER_PAUSE, this._onPause);\n        this.listenTo(container, Events.CONTAINER_STOP, this._onStop);\n        this.listenTo(container, Events.CONTAINER_ENDED, this._onEnded);\n        this.listenTo(container, Events.CONTAINER_SEEK, this._onSeek);\n        this.listenTo(container, Events.CONTAINER_ERROR, this._onError);\n        this.listenTo(container, Events.CONTAINER_TIMEUPDATE, this._onTimeUpdate);\n        this.listenTo(container, Events.CONTAINER_VOLUME, this._onVolumeUpdate);\n        this.listenTo(container, Events.CONTAINER_SUBTITLE_AVAILABLE, this._onSubtitleAvailable);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_registerOptionEventListeners\",\n    value: function _registerOptionEventListeners() {\n      var _this2 = this;\n\n      var newEvents = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var hasNewEvents = Object.keys(newEvents).length > 0;\n      hasNewEvents && Object.keys(events).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n        eventType && _this2.off(eventType, events[userEvent]);\n      });\n      Object.keys(newEvents).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n\n        if (eventType) {\n          var eventFunction = newEvents[userEvent];\n          eventFunction = typeof eventFunction === 'function' && eventFunction;\n          eventFunction && _this2.on(eventType, eventFunction);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"_containerChanged\",\n    value: function _containerChanged() {\n      this.stopListening();\n\n      this._addEventListeners();\n    }\n  }, {\n    key: \"_onReady\",\n    value: function _onReady() {\n      this._ready = true;\n\n      this._addContainerEventListeners();\n\n      this.trigger(Events.PLAYER_READY);\n    }\n  }, {\n    key: \"_onFullscreenChange\",\n    value: function _onFullscreenChange(fullscreen) {\n      this.trigger(Events.PLAYER_FULLSCREEN, fullscreen);\n    }\n  }, {\n    key: \"_onVolumeUpdate\",\n    value: function _onVolumeUpdate(volume) {\n      this.trigger(Events.PLAYER_VOLUMEUPDATE, volume);\n    }\n  }, {\n    key: \"_onSubtitleAvailable\",\n    value: function _onSubtitleAvailable() {\n      this.trigger(Events.PLAYER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize(size) {\n      this.trigger(Events.PLAYER_RESIZE, size);\n    }\n  }, {\n    key: \"_onPlay\",\n    value: function _onPlay() {\n      this.trigger(Events.PLAYER_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this.trigger(Events.PLAYER_PAUSE);\n    }\n  }, {\n    key: \"_onStop\",\n    value: function _onStop() {\n      this.trigger(Events.PLAYER_STOP, this.getCurrentTime());\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this.trigger(Events.PLAYER_ENDED);\n    }\n  }, {\n    key: \"_onSeek\",\n    value: function _onSeek(time) {\n      this.trigger(Events.PLAYER_SEEK, time);\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate(timeProgress) {\n      this.trigger(Events.PLAYER_TIMEUPDATE, timeProgress);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(error) {\n      this.trigger(Events.PLAYER_ERROR, error);\n    }\n  }, {\n    key: \"_normalizeSources\",\n    value: function _normalizeSources(options) {\n      var sources = options.sources || (options.source !== undefined ? [options.source] : []);\n      return sources.length === 0 ? [{\n        source: '',\n        mimeType: ''\n      }] : sources;\n    }\n    /**\n     * resizes the current player canvas.\n     * @method resize\n     * @param {Object} size should be a literal object with `height` and `width`.\n     * @return {Player} itself\n     * @example\n     * ```javascript\n     * player.resize({height: 360, width: 640})\n     * ```\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(size) {\n      this.core.resize(size);\n      return this;\n    }\n    /**\n     * loads a new source.\n     * @method load\n     * @param {Array|String} sources source or sources of video.\n     * An array item can be a string or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {String} mimeType a mime type, example: `'application/vnd.apple.mpegurl'`\n     * @param {Boolean} [autoPlay=false] whether playing should be started immediately\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType, autoPlay) {\n      if (autoPlay !== undefined) this.configure({\n        autoPlay: !!autoPlay\n      });\n      this.core.load(sources, mimeType);\n      return this;\n    }\n    /**\n     * destroys the current player and removes it from the DOM.\n     * @method destroy\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n      this.core.destroy();\n      return this;\n    }\n    /**\n     * Gives user consent to playback. Required by mobile device after a click event before Player.load().\n     * @method consent\n     * @param {Function} callback function called when current playback is consented\n     * @example\n     * ```javascript\n     * player.consent(function() { doSomethingNext(); });\n     * ```\n     */\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      this.core.getCurrentPlayback().consent(cb);\n    }\n    /**\n     * plays the current video (`source`).\n     * @method play\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.core.activeContainer.play();\n      return this;\n    }\n    /**\n     * pauses the current video (`source`).\n     * @method pause\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.core.activeContainer.pause();\n      return this;\n    }\n    /**\n     * stops the current video (`source`).\n     * @method stop\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.core.activeContainer.stop();\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(120)` will seek to second 120 (2minutes) of the current video.\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.core.activeContainer.seek(time);\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(50)` will seek to the middle of the current video.\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      this.core.activeContainer.seekPercentage(percentage);\n      return this;\n    }\n    /**\n     * mutes the current video (`source`).\n     * @method mute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.core.activePlayback.mute();\n      return this;\n    }\n    /**\n     * unmutes the current video (`source`).\n     * @method unmute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.core.activePlayback.unmute();\n      return this;\n    }\n    /**\n     * checks if the player is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current source is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.core.activeContainer.isPlaying();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return this.core.activeContainer.isDvrEnabled();\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return this.core.activeContainer.isDvrInUse();\n    }\n    /**\n     * enables to configure a player after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._registerOptionEventListeners(options.events, this.options.events);\n\n      this.core.configure(options);\n      return this;\n    }\n    /**\n     * get a plugin by its name.\n     * @method getPlugin\n     * @param {String} name of the plugin.\n     * @return {Object} the plugin instance\n     * @example\n     * ```javascript\n     * var poster = player.getPlugin('poster');\n     * poster.hidePlayButton();\n     * ```\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      var plugins = this.core.plugins.concat(this.core.activeContainer.plugins);\n      return plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n    /**\n     * the current time in seconds.\n     * @method getCurrentTime\n     * @return {Number} current time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.core.activeContainer.getCurrentTime();\n    }\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.core.activeContainer.getStartTimeOffset();\n    }\n    /**\n     * the duration time in seconds.\n     * @method getDuration\n     * @return {Number} duration time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.core.activeContainer.getDuration();\n    }\n  }]);\n\n  return Player;\n}(BaseObject);\nObject.assign(Player.prototype, ErrorMixin);\n\n/**\n * The base class for a container plugin\n * @class ContainerPlugin\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar ContainerPlugin = /*#__PURE__*/function (_BaseObject) {\n  _inherits(ContainerPlugin, _BaseObject);\n\n  _createClass(ContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function ContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, ContainerPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContainerPlugin).call(this, container.options));\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(ContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return ContainerPlugin;\n}(BaseObject);\nObject.assign(ContainerPlugin.prototype, ErrorMixin);\n\nContainerPlugin.extend = function (properties) {\n  return extend(ContainerPlugin, properties);\n};\n\nContainerPlugin.type = 'container';\n\nvar CorePlugin = /*#__PURE__*/function (_BaseObject) {\n  _inherits(CorePlugin, _BaseObject);\n\n  _createClass(CorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function CorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, CorePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CorePlugin).call(this, core.options));\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(CorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return CorePlugin;\n}(BaseObject);\nObject.assign(CorePlugin.prototype, ErrorMixin);\n\nCorePlugin.extend = function (properties) {\n  return extend(CorePlugin, properties);\n};\n\nCorePlugin.type = 'core';\n\n/**\n * The base class for an ui container plugin\n * @class UIContainerPlugin\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar UIContainerPlugin = /*#__PURE__*/function (_UIObject) {\n  _inherits(UIContainerPlugin, _UIObject);\n\n  _createClass(UIContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function UIContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, UIContainerPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UIContainerPlugin).call(this, container.options));\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(UIContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }]);\n\n  return UIContainerPlugin;\n}(UIObject);\nObject.assign(UIContainerPlugin.prototype, ErrorMixin);\n\nUIContainerPlugin.extend = function (properties) {\n  return extend(UIContainerPlugin, properties);\n};\n\nUIContainerPlugin.type = 'container';\n\nvar global$1 = (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global$1.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global$1.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance$1 = global$1.performance || {};\nvar performanceNow =\n  performance$1.now        ||\n  performance$1.mozNow     ||\n  performance$1.msNow      ||\n  performance$1.oNow       ||\n  performance$1.webkitNow  ||\n  function(){ return (new Date()).getTime() };\n\n/* eslint-disable no-var */\n// Simple JavaScript Templating\n// Paul Miller (http://paulmillr.com)\n// http://underscorejs.org\n// (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n// By default, Underscore uses ERB-style template delimiters, change the\n// following template settings to use alternative delimiters.\nvar settings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n}; // When customizing `templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\n\nvar noMatch = /(.)^/; // Certain characters need to be escaped so that they can be put into a\n// string literal.\n\nvar escapes = {\n  '\\'': '\\'',\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\t': 't',\n  \"\\u2028\": 'u2028',\n  \"\\u2029\": 'u2029'\n};\nvar escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g; // List of HTML entities for escaping.\n\nvar htmlEntities = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#x27;'\n};\nvar entityRe = new RegExp('[&<>\"\\']', 'g');\n\nvar escapeExpr = function escapeExpr(string) {\n  if (string === null) return '';\n  return ('' + string).replace(entityRe, function (match) {\n    return htmlEntities[match];\n  });\n};\n\nvar counter = 0; // JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n\nvar tmpl = function tmpl(text, data) {\n  var render; // Combine delimiters into one regular expression via alternation.\n\n  var matcher = new RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g'); // Compile the template source, escaping string literals appropriately.\n\n  var index = 0;\n  var source = '__p+=\\'';\n  text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escaper, function (match) {\n      return '\\\\' + escapes[match];\n    });\n    if (escape) source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':escapeExpr(__t))+\\n\\'';\n    if (interpolate) source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n    if (evaluate) source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n    index = offset + match.length;\n    return match;\n  });\n  source += '\\';\\n'; // If a variable is not specified, place data values in local scope.\n\n  if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n  source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' + 'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' + source + 'return __p;\\n//# sourceURL=/microtemplates/source[' + counter++ + ']';\n\n  try {\n    /*jshint -W054 */\n    // TODO: find a way to avoid eval\n    render = new Function(settings.variable || 'obj', 'escapeExpr', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  if (data) return render(data, escapeExpr);\n\n  var template = function template(data) {\n    return render.call(this, data, escapeExpr);\n  }; // Provide the compiled function source as a convenience for precompilation.\n\n\n  template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n  return template;\n};\n\ntmpl.settings = settings;\n\nvar tracksHTML = \"<% for (var i = 0; i < tracks.length; i++) { %>\\n  <track data-html5-video-track=\\\"<%= i %>\\\" kind=\\\"<%= tracks[i].kind %>\\\" label=\\\"<%= tracks[i].label %>\\\" srclang=\\\"<%= tracks[i].lang %>\\\" src=\\\"<%= tracks[i].src %>\\\">\\n<% }; %>\\n\";\n\nvar css$2 = \"[data-html5-video] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  display: block; }\\n\";\nstyleInject(css$2);\n\nvar MIMETYPES = {\n  'mp4': ['avc1.42E01E', 'avc1.58A01E', 'avc1.4D401E', 'avc1.64001E', 'mp4v.20.8', 'mp4v.20.240', 'mp4a.40.2'].map(function (codec) {\n    return 'video/mp4; codecs=\"' + codec + ', mp4a.40.2\"';\n  }),\n  'ogg': ['video/ogg; codecs=\"theora, vorbis\"', 'video/ogg; codecs=\"dirac\"', 'video/ogg; codecs=\"theora, speex\"'],\n  '3gpp': ['video/3gpp; codecs=\"mp4v.20.8, samr\"'],\n  'webm': ['video/webm; codecs=\"vp8, vorbis\"'],\n  'mkv': ['video/x-matroska; codecs=\"theora, vorbis\"'],\n  'm3u8': ['application/x-mpegurl']\n};\nMIMETYPES['ogv'] = MIMETYPES['ogg'];\nMIMETYPES['3gp'] = MIMETYPES['3gpp'];\nvar AUDIO_MIMETYPES = {\n  'wav': ['audio/wav'],\n  'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n  'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n  'oga': ['audio/ogg']\n};\nvar KNOWN_AUDIO_MIMETYPES = Object.keys(AUDIO_MIMETYPES).reduce(function (acc, k) {\n  return [].concat(_toConsumableArray(acc), _toConsumableArray(AUDIO_MIMETYPES[k]));\n}, []);\nvar UNKNOWN_ERROR = {\n  code: 'unknown',\n  message: 'unknown'\n}; // TODO: rename this Playback to HTML5Playback (breaking change, only after 0.3.0)\n\nvar HTML5Video = /*#__PURE__*/function (_Playback) {\n  _inherits(HTML5Video, _Playback);\n\n  _createClass(HTML5Video, [{\n    key: \"name\",\n    get: function get() {\n      return 'html5_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return this.isAudioOnly ? 'audio' : 'video';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      var resourceUrl = this.options.src;\n\n      var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, AUDIO_MIMETYPES, this.options.mimeType);\n\n      return this.options.playback && this.options.playback.audioOnly || this.options.audioOnly || KNOWN_AUDIO_MIMETYPES.indexOf(mimeTypes[0]) >= 0;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html5-video': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'canplay': '_onCanPlay',\n        'canplaythrough': '_handleBufferingEvents',\n        'durationchange': '_onDurationChange',\n        'ended': '_onEnded',\n        'error': '_onError',\n        'loadeddata': '_onLoadedData',\n        'loadedmetadata': '_onLoadedMetadata',\n        'pause': '_onPause',\n        'playing': '_onPlaying',\n        'progress': '_onProgress',\n        'seeking': '_onSeeking',\n        'seeked': '_onSeeked',\n        'stalled': '_handleBufferingEvents',\n        'timeupdate': '_onTimeUpdate',\n        'waiting': '_onWaiting'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.el.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * This is related to the PLAYBACK_BUFFERING and PLAYBACK_BUFFERFULL events\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this._isBuffering;\n    }\n  }]);\n\n  function HTML5Video() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HTML5Video);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HTML5Video)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._destroyed = false;\n    _this._loadStarted = false;\n    _this._isBuffering = false;\n    _this._playheadMoving = false;\n    _this._playheadMovingTimer = null;\n    _this._stopped = false;\n    _this._ccTrackId = -1;\n\n    _this._setupSrc(_this.options.src); // backwards compatibility (TODO: remove on 0.3.0)\n\n\n    _this.options.playback || (_this.options.playback = _this.options || {});\n    _this.options.playback.disableContextMenu = _this.options.playback.disableContextMenu || _this.options.disableVideoTagContextMenu;\n    var playbackConfig = _this.options.playback;\n    var preload = playbackConfig.preload || (Browser.isSafari ? 'auto' : _this.options.preload);\n    var posterUrl; // FIXME: poster plugin should always convert poster to object with expected properties ?\n\n    if (_this.options.poster) {\n      if (typeof _this.options.poster === 'string') posterUrl = _this.options.poster;else if (typeof _this.options.poster.url === 'string') posterUrl = _this.options.poster.url;\n    }\n\n    zepto.extend(_this.el, {\n      muted: _this.options.mute,\n      defaultMuted: _this.options.mute,\n      loop: _this.options.loop,\n      poster: posterUrl,\n      preload: preload || 'metadata',\n      crossOrigin: playbackConfig.crossOrigin,\n      'x-webkit-playsinline': playbackConfig.playInline\n    });\n    if (playbackConfig.controls || _this.options.useVideoTagDefaultControls) _this.$el.attr('controls', '');\n    playbackConfig.playInline && _this.$el.attr({\n      playsinline: 'playsinline'\n    });\n    playbackConfig.crossOrigin && _this.$el.attr({\n      crossorigin: playbackConfig.crossOrigin\n    }); // TODO should settings be private?\n\n    _this.settings = {\n      \"default\": ['seekbar']\n    };\n    _this.settings.left = ['playpause', 'position', 'duration'];\n    _this.settings.right = ['fullscreen', 'volume', 'hd-indicator'];\n    playbackConfig.externalTracks && _this._setupExternalTracks(playbackConfig.externalTracks);\n    _this.options.autoPlay && _this.attemptAutoPlay();\n    return _this;\n  }\n\n  _createClass(HTML5Video, [{\n    key: \"configure\",\n    value: function configure(options) {\n      _get(_getPrototypeOf(HTML5Video.prototype), \"configure\", this).call(this, options);\n\n      this.el.loop = !!options.loop;\n    } // See Playback.attemptAutoPlay()\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        error && Log.warn(_this2.name, 'autoplay error.', {\n          result: result,\n          error: error\n        }); // https://github.com/clappr/clappr/issues/1076\n\n        result && nextTick(function () {\n          return !_this2._destroyed && _this2.play();\n        });\n      });\n    } // See Playback.canAutoPlay()\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      if (this.options.disableCanAutoPlay) cb(true, null);\n      var opts = {\n        timeout: this.options.autoPlayTimeout || 500,\n        inline: this.options.playback.playInline || false,\n        muted: this.options.mute || false // Known issue: mediacontrols may asynchronously mute video\n\n      }; // Use current video element if recycling feature enabled with mobile devices\n\n      if (Browser.isMobile && DomRecycler.options.recycleVideo) opts.element = this.el; // Desktop browser autoplay policy may require user action\n      // Mobile browser autoplay require user consent and video recycling feature enabled\n      // It may returns a false positive with source-less player consent\n\n      canAutoPlayMedia(cb, opts);\n    }\n  }, {\n    key: \"_setupExternalTracks\",\n    value: function _setupExternalTracks(tracks) {\n      this._externalTracks = tracks.map(function (track) {\n        return {\n          kind: track.kind || 'subtitles',\n          // Default is 'subtitles'\n          label: track.label,\n          lang: track.lang,\n          src: track.src\n        };\n      });\n    }\n    /**\n     * Sets the source url on the <video> element, and also the 'src' property.\n     * @method setupSrc\n     * @private\n     * @param {String} srcUrl The source URL.\n     */\n\n  }, {\n    key: \"_setupSrc\",\n    value: function _setupSrc(srcUrl) {\n      if (this.el.src === srcUrl) return;\n      this._ccIsSetup = false;\n      this.el.src = srcUrl;\n      this._src = this.el.src;\n    }\n  }, {\n    key: \"_onLoadedMetadata\",\n    value: function _onLoadedMetadata(e) {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_LOADEDMETADATA, {\n        duration: e.target.duration,\n        data: e\n      });\n\n      this._updateSettings();\n\n      var autoSeekFromUrl = typeof this._options.autoSeekFromUrl === 'undefined' || this._options.autoSeekFromUrl;\n      if (this.getPlaybackType() !== Playback.LIVE && autoSeekFromUrl) this._checkInitialSeek();\n    }\n  }, {\n    key: \"_onDurationChange\",\n    value: function _onDurationChange() {\n      this._updateSettings();\n\n      this._onTimeUpdate(); // onProgress uses the duration\n\n\n      this._onProgress();\n    }\n  }, {\n    key: \"_updateSettings\",\n    value: function _updateSettings() {\n      // we can't figure out if hls resource is VoD or not until it is being loaded or duration has changed.\n      // that's why we check it again and update media control accordingly.\n      if (this.getPlaybackType() === Playback.VOD || this.getPlaybackType() === Playback.AOD) this.settings.left = ['playpause', 'position', 'duration'];else this.settings.left = ['playstop'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"isSeekEnabled\",\n    value: function isSeekEnabled() {\n      return isFinite(this.getDuration());\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      var onDemandType = this.tagName === 'audio' ? Playback.AOD : Playback.VOD;\n      return [0, undefined, Infinity].indexOf(this.el.duration) >= 0 ? Playback.LIVE : onDemandType;\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    } // On mobile device, HTML5 video element \"retains\" user action consent if\n    // load() method is called. See Player.consent().\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      var _this3 = this;\n\n      if (this.isPlaying()) {\n        _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", this).call(this, cb);\n      } else {\n        var eventHandler = function eventHandler() {\n          _this3.el.removeEventListener('loadedmetadata', eventHandler, false);\n\n          _this3.el.removeEventListener('error', eventHandler, false);\n\n          _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", _this3).call(_this3, cb);\n        };\n\n        this.el.addEventListener('loadedmetadata', eventHandler, false);\n        this.el.addEventListener('error', eventHandler, false);\n        this.el.load();\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.trigger(Events.PLAYBACK_PLAY_INTENT);\n      this._stopped = false;\n\n      this._setupSrc(this._src);\n\n      this._handleBufferingEvents();\n\n      var promise = this.el.play(); // For more details, see https://developers.google.com/web/updates/2016/03/play-returns-promise\n\n      if (promise && promise[\"catch\"]) promise[\"catch\"](function () {});\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.el.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.pause();\n      this._stopped = true; // src will be added again in play()\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_STOP);\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(value) {\n      if (value === 0) {\n        this.$el.attr({\n          muted: 'true'\n        });\n        this.el.muted = true;\n      } else {\n        this.$el.attr({\n          muted: null\n        });\n        this.el.muted = false;\n        this.el.volume = value / 100;\n      }\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.el.muted = true;\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.el.muted = false;\n    }\n  }, {\n    key: \"isMuted\",\n    value: function isMuted() {\n      return this.el.muted === true || this.el.volume === 0;\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return !this.el.paused && !this.el.ended;\n    }\n  }, {\n    key: \"_startPlayheadMovingChecks\",\n    value: function _startPlayheadMovingChecks() {\n      if (this._playheadMovingTimer !== null) return;\n      this._playheadMovingTimeOnCheck = null;\n\n      this._determineIfPlayheadMoving();\n\n      this._playheadMovingTimer = setInterval(this._determineIfPlayheadMoving.bind(this), 500);\n    }\n  }, {\n    key: \"_stopPlayheadMovingChecks\",\n    value: function _stopPlayheadMovingChecks() {\n      if (this._playheadMovingTimer === null) return;\n      clearInterval(this._playheadMovingTimer);\n      this._playheadMovingTimer = null;\n      this._playheadMoving = false;\n    }\n  }, {\n    key: \"_determineIfPlayheadMoving\",\n    value: function _determineIfPlayheadMoving() {\n      var before = this._playheadMovingTimeOnCheck;\n      var now = this.el.currentTime;\n      this._playheadMoving = before !== now;\n      this._playheadMovingTimeOnCheck = now;\n\n      this._handleBufferingEvents();\n    } // this seems to happen when the user is having to wait\n    // for something to happen AFTER A USER INTERACTION\n    // e.g the player might be buffering, but when `play()` is called\n    // only at this point will this be called.\n    // Or the user may seek somewhere but the new area requires buffering,\n    // so it will fire then as well.\n    // On devices where playing is blocked until requested with a user action,\n    // buffering may start, but never finish until the user initiates a play,\n    // but this only happens when play is actually requested\n\n  }, {\n    key: \"_onWaiting\",\n    value: function _onWaiting() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // called after the first frame has loaded\n    // note this doesn't fire on ios before the user has requested play\n    // ideally the \"loadstart\" event would be used instead, but this fires\n    // before a user has requested play on iOS, and also this is always fired\n    // even if the preload setting is \"none\". In both these cases this causes\n    // infinite buffering until the user does something which isn't great.\n\n  }, {\n    key: \"_onLoadedData\",\n    value: function _onLoadedData() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // note this doesn't fire on ios before user has requested play\n\n  }, {\n    key: \"_onCanPlay\",\n    value: function _onCanPlay() {\n      this._handleBufferingEvents();\n    }\n  }, {\n    key: \"_onPlaying\",\n    value: function _onPlaying() {\n      this._checkForClosedCaptions();\n\n      this._startPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PAUSE);\n    }\n  }, {\n    key: \"_onSeeking\",\n    value: function _onSeeking() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEK);\n    }\n  }, {\n    key: \"_onSeeked\",\n    value: function _onSeeked() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEKED);\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    } // The playback should be classed as buffering if the following are true:\n    // - the ready state is less then HAVE_FUTURE_DATA or the playhead isn't moving and it should be\n    // - the media hasn't \"ended\",\n    // - the media hasn't been stopped\n    // - loading has started\n\n  }, {\n    key: \"_handleBufferingEvents\",\n    value: function _handleBufferingEvents() {\n      var playheadShouldBeMoving = !this.el.ended && !this.el.paused;\n      var buffering = this._loadStarted && !this.el.ended && !this._stopped && (playheadShouldBeMoving && !this._playheadMoving || this.el.readyState < this.el.HAVE_FUTURE_DATA);\n\n      if (this._isBuffering !== buffering) {\n        this._isBuffering = buffering;\n        if (buffering) this.trigger(Events.PLAYBACK_BUFFERING, this.name);else this.trigger(Events.PLAYBACK_BUFFERFULL, this.name);\n      }\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError() {\n      var _ref = this.el.error || UNKNOWN_ERROR,\n          code = _ref.code,\n          message = _ref.message;\n\n      var isUnknownError = code === UNKNOWN_ERROR.code;\n      var formattedError = this.createError({\n        code: code,\n        description: message,\n        raw: this.el.error,\n        level: isUnknownError ? PlayerError.Levels.WARN : PlayerError.Levels.FATAL\n      });\n      if (isUnknownError) Log.warn(this.name, 'HTML5 unknown error: ', formattedError);else this.trigger(Events.PLAYBACK_ERROR, formattedError);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroyed = true;\n      this.handleTextTrackChange && this.el.textTracks.removeEventListener('change', this.handleTextTrackChange);\n\n      _get(_getPrototypeOf(HTML5Video.prototype), \"destroy\", this).call(this);\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._src = null;\n      DomRecycler.garbage(this.el);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.el.currentTime = time;\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var time = this.el.duration * (percentage / 100);\n      this.seek(time);\n    }\n  }, {\n    key: \"_checkInitialSeek\",\n    value: function _checkInitialSeek() {\n      var seekTime = seekStringToSeconds();\n      if (seekTime !== 0) this.seek(seekTime);\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.el.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.el.duration;\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate() {\n      if (this.getPlaybackType() === Playback.LIVE) this.trigger(Events.PLAYBACK_TIMEUPDATE, {\n        current: 1,\n        total: 1\n      }, this.name);else this.trigger(Events.PLAYBACK_TIMEUPDATE, {\n        current: this.el.currentTime,\n        total: this.el.duration\n      }, this.name);\n    }\n  }, {\n    key: \"_onProgress\",\n    value: function _onProgress() {\n      if (!this.el.buffered.length) return;\n      var buffered = [];\n      var bufferedPos = 0;\n\n      for (var i = 0; i < this.el.buffered.length; i++) {\n        buffered = [].concat(_toConsumableArray(buffered), [{\n          start: this.el.buffered.start(i),\n          end: this.el.buffered.end(i)\n        }]);\n        if (this.el.currentTime >= buffered[i].start && this.el.currentTime <= buffered[i].end) bufferedPos = i;\n      }\n\n      var progress = {\n        start: buffered[bufferedPos].start,\n        current: buffered[bufferedPos].end,\n        total: this.el.duration\n      };\n      this.trigger(Events.PLAYBACK_PROGRESS, progress, buffered);\n    }\n  }, {\n    key: \"_typeFor\",\n    value: function _typeFor(src) {\n      var mimeTypes = HTML5Video._mimeTypesForUrl(src, MIMETYPES, this.options.mimeType);\n\n      if (mimeTypes.length === 0) mimeTypes = HTML5Video._mimeTypesForUrl(src, AUDIO_MIMETYPES, this.options.mimeType);\n      var mimeType = mimeTypes[0] || '';\n      return mimeType.split(';')[0];\n    }\n  }, {\n    key: \"_ready\",\n    value: function _ready() {\n      if (this._isReadyState) return;\n      this._isReadyState = true;\n      this.trigger(Events.PLAYBACK_READY, this.name);\n    }\n  }, {\n    key: \"_checkForClosedCaptions\",\n    value: function _checkForClosedCaptions() {\n      // Check if CC available only if current playback is HTML5Video\n      if (this.isHTML5Video && !this._ccIsSetup) {\n        if (this.hasClosedCaptionsTracks) {\n          this.trigger(Events.PLAYBACK_SUBTITLE_AVAILABLE);\n          var trackId = this.closedCaptionsTrackId;\n          this.closedCaptionsTrackId = trackId;\n          this.handleTextTrackChange = this._handleTextTrackChange.bind(this);\n          this.el.textTracks.addEventListener('change', this.handleTextTrackChange);\n        }\n\n        this._ccIsSetup = true;\n      }\n    }\n  }, {\n    key: \"_handleTextTrackChange\",\n    value: function _handleTextTrackChange() {\n      var tracks = this.closedCaptionsTracks;\n      var track = tracks.find(function (track) {\n        return track.track.mode === 'showing';\n      }) || {\n        id: -1\n      };\n\n      if (this._ccTrackId !== track.id) {\n        this._ccTrackId = track.id;\n        this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n          id: track.id\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.options.playback.disableContextMenu) {\n        this.$el.on('contextmenu', function () {\n          return false;\n        });\n      }\n\n      if (this._externalTracks && this._externalTracks.length > 0) {\n        this.$el.html(this.template({\n          tracks: this._externalTracks\n        }));\n      }\n\n      this._ready();\n\n      return this;\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return this._isReadyState;\n    }\n  }, {\n    key: \"isHTML5Video\",\n    get: function get() {\n      return this.name === HTML5Video.prototype.name;\n    }\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      var id = 0;\n\n      var trackId = function trackId() {\n        return id++;\n      };\n\n      var textTracks = this.el.textTracks ? Array.from(this.el.textTracks) : [];\n      return textTracks.filter(function (track) {\n        return track.kind === 'subtitles' || track.kind === 'captions';\n      }).map(function (track) {\n        return {\n          id: trackId(),\n          name: track.label,\n          track: track\n        };\n      });\n    }\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this._ccTrackId;\n    },\n    set: function set(trackId) {\n      if (!isNumber(trackId)) return;\n      var tracks = this.closedCaptionsTracks;\n      var showingTrack; // Note: -1 is for hide all tracks\n\n      if (trackId !== -1) {\n        showingTrack = tracks.find(function (track) {\n          return track.id === trackId;\n        });\n        if (!showingTrack) return; // Track id not found\n\n        if (showingTrack.track.mode === 'showing') return; // Track already showing\n      } // Since it is possible to display multiple tracks,\n      // ensure that all tracks are hidden.\n\n\n      tracks.filter(function (track) {\n        return track.track.mode !== 'hidden';\n      }).forEach(function (track) {\n        return track.track.mode = 'hidden';\n      });\n      showingTrack && (showingTrack.track.mode = 'showing');\n      this._ccTrackId = trackId;\n      this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n        id: trackId\n      });\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(tracksHTML);\n    }\n  }]);\n\n  return HTML5Video;\n}(Playback);\n\nHTML5Video._mimeTypesForUrl = function (resourceUrl, mimeTypesByExtension, mimeType) {\n  var extension = (resourceUrl.split('?')[0].match(/.*\\.(.*)$/) || [])[1];\n  var mimeTypes = mimeType || extension && mimeTypesByExtension[extension.toLowerCase()] || [];\n  return mimeTypes.constructor === Array ? mimeTypes : [mimeTypes];\n};\n\nHTML5Video._canPlay = function (type, mimeTypesByExtension, resourceUrl, mimeType) {\n  var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, mimeTypesByExtension, mimeType);\n\n  var media = document.createElement(type);\n  return !!mimeTypes.filter(function (mediaType) {\n    return !!media.canPlayType(mediaType).replace(/no/, '');\n  })[0];\n};\n\nHTML5Video.canPlay = function (resourceUrl, mimeType) {\n  return HTML5Video._canPlay('audio', AUDIO_MIMETYPES, resourceUrl, mimeType) || HTML5Video._canPlay('video', MIMETYPES, resourceUrl, mimeType);\n};\n\nvar HTML5Audio = /*#__PURE__*/function (_HTML5Video) {\n  _inherits(HTML5Audio, _HTML5Video);\n\n  function HTML5Audio() {\n    _classCallCheck(this, HTML5Audio);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(HTML5Audio).apply(this, arguments));\n  }\n\n  _createClass(HTML5Audio, [{\n    key: \"updateSettings\",\n    value: function updateSettings() {\n      this.settings.left = ['playpause', 'position', 'duration'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.AOD;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html5_audio';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'audio';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HTML5Audio;\n}(HTML5Video);\n\nHTML5Audio.canPlay = function (resourceUrl, mimeType) {\n  var mimetypes = {\n    'wav': ['audio/wav'],\n    'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n    'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n    'oga': ['audio/ogg']\n  };\n  return HTML5Video._canPlay('audio', mimetypes, resourceUrl, mimeType);\n};\n\nvar css$3 = \"[data-html-img] {\\n  max-width: 100%;\\n  max-height: 100%; }\\n\";\nstyleInject(css$3);\n\nvar HTMLImg = /*#__PURE__*/function (_Playback) {\n  _inherits(HTMLImg, _Playback);\n\n  _createClass(HTMLImg, [{\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html_img';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'img';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html-img': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'load': '_onLoad',\n        'abort': '_onError',\n        'error': '_onError'\n      };\n    }\n  }]);\n\n  function HTMLImg(params) {\n    var _this;\n\n    _classCallCheck(this, HTMLImg);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLImg).call(this, params));\n    _this.el.src = params.src;\n    return _this;\n  }\n\n  _createClass(HTMLImg, [{\n    key: \"render\",\n    value: function render() {\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      return this;\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad() {\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(evt) {\n      var m = evt.type === 'error' ? 'load error' : 'loading aborted';\n      this.trigger(Events.PLAYBACK_ERROR, {\n        message: m\n      }, this.name);\n    }\n  }]);\n\n  return HTMLImg;\n}(Playback);\n\nHTMLImg.canPlay = function (resource) {\n  return /\\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\\?.*)$/i.test(resource);\n};\n\nvar noOpHTML = \"<canvas data-no-op-canvas></canvas>\\n<p data-no-op-msg><%=message%></p><p>\\n</p>\";\n\nvar css$4 = \"[data-no-op] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  text-align: center; }\\n\\n[data-no-op] p[data-no-op-msg] {\\n  position: absolute;\\n  text-align: center;\\n  font-size: 25px;\\n  left: 0;\\n  right: 0;\\n  color: white;\\n  padding: 10px;\\n  /* center vertically */\\n  top: 50%;\\n  transform: translateY(-50%);\\n  max-height: 100%;\\n  overflow: auto; }\\n\\n[data-no-op] canvas[data-no-op-canvas] {\\n  background-color: #777;\\n  height: 100%;\\n  width: 100%; }\\n\";\nstyleInject(css$4);\n\nvar NoOp = /*#__PURE__*/function (_Playback) {\n  _inherits(NoOp, _Playback);\n\n  _createClass(NoOp, [{\n    key: \"name\",\n    get: function get() {\n      return 'no_op';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(noOpHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-no-op': ''\n      };\n    }\n  }]);\n\n  function NoOp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NoOp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NoOp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._noiseFrameNum = -1;\n    return _this;\n  }\n\n  _createClass(NoOp, [{\n    key: \"render\",\n    value: function render() {\n      var playbackNotSupported = this.options.playbackNotSupportedMessage || this.i18n.t('playback_not_supported');\n      this.$el.html(this.template({\n        message: playbackNotSupported\n      }));\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      if (this.options.autoPlay || !showForNoOp) this._animate();\n      return this;\n    }\n  }, {\n    key: \"_noise\",\n    value: function _noise() {\n      this._noiseFrameNum = (this._noiseFrameNum + 1) % 5;\n\n      if (this._noiseFrameNum) {\n        // only update noise every 5 frames to save cpu\n        return;\n      }\n\n      var idata = this.context.createImageData(this.context.canvas.width, this.context.canvas.height);\n      var buffer32;\n\n      try {\n        buffer32 = new Uint32Array(idata.data.buffer);\n      } catch (err) {\n        buffer32 = new Uint32Array(this.context.canvas.width * this.context.canvas.height * 4);\n        var data = idata.data;\n\n        for (var i = 0; i < data.length; i++) {\n          buffer32[i] = data[i];\n        }\n      }\n\n      var len = buffer32.length,\n          m = Math.random() * 6 + 4;\n      var run = 0,\n          color = 0;\n\n      for (var _i = 0; _i < len;) {\n        if (run < 0) {\n          run = m * Math.random();\n          var p = Math.pow(Math.random(), 0.4);\n          color = 255 * p << 24;\n        }\n\n        run -= 1;\n        buffer32[_i++] = color;\n      }\n\n      this.context.putImageData(idata, 0, 0);\n    }\n  }, {\n    key: \"_loop\",\n    value: function _loop() {\n      var _this2 = this;\n\n      if (this._stop) return;\n\n      this._noise();\n\n      this._animationHandle = requestAnimationFrame(function () {\n        return _this2._loop();\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._animationHandle) {\n        cancelAnimationFrame(this._animationHandle);\n        this._stop = true;\n      }\n    }\n  }, {\n    key: \"_animate\",\n    value: function _animate() {\n      this.canvas = this.$el.find('canvas[data-no-op-canvas]')[0];\n      this.context = this.canvas.getContext('2d');\n\n      this._loop();\n    }\n  }]);\n\n  return NoOp;\n}(Playback);\n\nNoOp.canPlay = function (source) {\n  // eslint-disable-line no-unused-vars\n  return true;\n};\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar Styler = {\n  getStyleFor: function getStyleFor(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      baseUrl: ''\n    };\n    return zepto('<style class=\"clappr-style\"></style>').html(tmpl(style.toString())(options));\n  }\n};\n\n/**\n * The internationalization (i18n) plugin\n * @class Strings\n * @constructor\n * @extends CorePlugin\n * @module plugins\n */\n\nvar Strings = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(Strings, _CorePlugin);\n\n  _createClass(Strings, [{\n    key: \"name\",\n    get: function get() {\n      return 'strings';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }]);\n\n  function Strings(core) {\n    var _this;\n\n    _classCallCheck(this, Strings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Strings).call(this, core));\n\n    _this._initializeMessages();\n\n    return _this;\n  }\n  /**\n   * Gets a translated string for the given key.\n   * @method t\n   * @param {String} key the key to all messages\n   * @return {String} translated label\n   */\n\n\n  _createClass(Strings, [{\n    key: \"t\",\n    value: function t(key) {\n      var lang = this._language();\n\n      var fallbackLang = this._messages['en'];\n      var i18n = lang && this._messages[lang] || fallbackLang;\n      return i18n[key] || fallbackLang[key] || key;\n    }\n  }, {\n    key: \"_language\",\n    value: function _language() {\n      return this.core.options.language || getBrowserLanguage();\n    }\n  }, {\n    key: \"_initializeMessages\",\n    value: function _initializeMessages() {\n      var defaultMessages = {\n        'en': {\n          'live': 'live',\n          'back_to_live': 'back to live',\n          'disabled': 'Disabled',\n          'playback_not_supported': 'Your browser does not support the playback of this video. Please try using a different browser.',\n          'default_error_title': 'Could not play video.',\n          'default_error_message': 'There was a problem trying to load the video.'\n        },\n        'pt': {\n          'live': 'ao vivo',\n          'back_to_live': 'voltar para o ao vivo',\n          'disabled': 'Desativado',\n          'playback_not_supported': 'Seu navegador não supporta a reprodução deste video. Por favor, tente usar um navegador diferente.',\n          'default_error_title': 'Não foi possível reproduzir o vídeo.',\n          'default_error_message': 'Ocorreu um problema ao tentar carregar o vídeo.'\n        },\n        'es': {\n          'live': 'vivo',\n          'back_to_live': 'volver en vivo',\n          'disabled': 'Discapacitado',\n          'playback_not_supported': 'Su navegador no soporta la reproducción de un video. Por favor, trate de usar un navegador diferente.'\n        },\n        'ru': {\n          'live': 'прямой эфир',\n          'back_to_live': 'к прямому эфиру',\n          'disabled': 'Отключено',\n          'playback_not_supported': 'Ваш браузер не поддерживает воспроизведение этого видео. Пожалуйста, попробуйте другой браузер.'\n        },\n        'fr': {\n          'live': 'en direct',\n          'back_to_live': 'retour au direct',\n          'disabled': 'Désactivé',\n          'playback_not_supported': 'Votre navigateur ne supporte pas la lecture de cette vidéo. Merci de tenter sur un autre navigateur.',\n          'default_error_title': 'Impossible de lire la vidéo.',\n          'default_error_message': 'Un problème est survenu lors du chargement de la vidéo.'\n        },\n        'tr': {\n          'live': 'canlı',\n          'back_to_live': 'canlı yayına dön',\n          'disabled': 'Engelli',\n          'playback_not_supported': 'Tarayıcınız bu videoyu oynatma desteğine sahip değil. Lütfen farklı bir tarayıcı ile deneyin.'\n        },\n        'et': {\n          'live': 'Otseülekanne',\n          'back_to_live': 'Tagasi otseülekande juurde',\n          'disabled': 'Keelatud',\n          'playback_not_supported': 'Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit.'\n        },\n        'ar': {\n          'live': 'مباشر',\n          'back_to_live': 'الرجوع إلى المباشر',\n          'disabled': 'معطّل',\n          'playback_not_supported': 'المتصفح الذي تستخدمه لا يدعم تشغيل هذا الفيديو. الرجاء إستخدام متصفح آخر.',\n          'default_error_title': 'غير قادر الى التشغيل.',\n          'default_error_message': 'حدثت مشكلة أثناء تحميل الفيديو.'\n        }\n      };\n      this._messages = zepto.extend(true, defaultMessages, this.core.options.strings || {});\n      this._messages['pt-BR'] = this._messages['pt'];\n      this._messages['en-US'] = this._messages['en'];\n      this._messages['es-419'] = this._messages['es'];\n      this._messages['fr-FR'] = this._messages['fr'];\n      this._messages['tr-TR'] = this._messages['tr'];\n      this._messages['et-EE'] = this._messages['et'];\n      this._messages['ar-IQ'] = this._messages['ar'];\n    }\n  }]);\n\n  return Strings;\n}(CorePlugin);\n\nvar SourcesPlugin = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(SourcesPlugin, _CorePlugin);\n\n  function SourcesPlugin() {\n    _classCallCheck(this, SourcesPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SourcesPlugin).apply(this, arguments));\n  }\n\n  _createClass(SourcesPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_CONTAINERS_CREATED, this.onContainersCreated);\n    }\n  }, {\n    key: \"onContainersCreated\",\n    value: function onContainersCreated() {\n      var firstValidSource = this.core.containers.filter(function (container) {\n        return container.playback.name !== 'no_op';\n      })[0] || this.core.containers[0];\n\n      if (firstValidSource) {\n        this.core.containers.forEach(function (container) {\n          if (container !== firstValidSource) container.destroy();\n        });\n      }\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'sources';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.11\"\n      };\n    }\n  }]);\n\n  return SourcesPlugin;\n}(CorePlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version = \"0.4.11\"; // Built-in Plugins/Playbacks\n\nLoader.registerPlugin(Strings);\nLoader.registerPlugin(SourcesPlugin);\nLoader.registerPlayback(NoOp);\nLoader.registerPlayback(HTMLImg);\nLoader.registerPlayback(HTML5Audio);\nLoader.registerPlayback(HTML5Video);\nvar main = {\n  Player: Player,\n  Events: Events,\n  Browser: Browser,\n  ContainerPlugin: ContainerPlugin,\n  UIContainerPlugin: UIContainerPlugin,\n  CorePlugin: CorePlugin,\n  UICorePlugin: UICorePlugin,\n  Playback: Playback,\n  Container: Container,\n  Core: Core,\n  PlayerError: PlayerError,\n  Loader: Loader,\n  BaseObject: BaseObject,\n  UIObject: UIObject,\n  Utils: Utils,\n  HTML5Audio: HTML5Audio,\n  HTML5Video: HTML5Video,\n  HTMLImg: HTMLImg,\n  Log: Log,\n  Styler: Styler,\n  version: version,\n  template: tmpl,\n  $: zepto\n};\n\nexport default main;\nexport { zepto as $, BaseObject, Browser, Container, ContainerPlugin, Core, CorePlugin, Events, HTML5Audio, HTML5Video, HTMLImg, Loader, Log, Playback, Player, PlayerError, Styler, UIContainerPlugin, UICorePlugin, UIObject, Utils, tmpl as template, version };\n","import { Events, Playback, ContainerPlugin, template, UICorePlugin, CorePlugin, PlayerError, $, Utils, Browser, UIContainerPlugin } from '@clappr/core';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar ClickToPausePlugin = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(ClickToPausePlugin, _ContainerPlugin);\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'click_to_pause';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function ClickToPausePlugin(container) {\n    _classCallCheck(this, ClickToPausePlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ClickToPausePlugin).call(this, container));\n  }\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_CLICK, this.click);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      if (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled()) {\n        if (this.container.isPlaying()) this.container.pause();else this.container.play();\n      }\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var pointerEnabled = this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled();\n      if (pointerEnabled === this.pointerEnabled) return;\n      var method = pointerEnabled ? 'addClass' : 'removeClass';\n      this.container.$el[method]('pointer-enabled');\n      this.pointerEnabled = pointerEnabled;\n    }\n  }]);\n\n  return ClickToPausePlugin;\n}(ContainerPlugin);\n\nvar ccIcon = \"<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 49 41.8\\\" style=\\\"enable-background:new 0 0 49 41.8;\\\" xml:space=\\\"preserve\\\">\\n<path d=\\\"M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1\\n\\tc1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9\\n\\tC10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z\\\"/>\\n</svg>\";\n\nvar ccHTML = \"<button type=\\\"button\\\" class=\\\"cc-button media-control-button media-control-icon\\\" data-cc-button aria-label=\\\"<%= ariaLabel %>\\\"></button>\\n<ul>\\n  <% if (title) { %>\\n  <li data-title><%= title %></li>\\n  <% }; %>\\n  <li><a href=\\\"#\\\" data-cc-select=\\\"-1\\\"><%= disabledLabel %></a></li>\\n  <% for (var i = 0; i < tracks.length; i++) { %>\\n    <li><a href=\\\"#\\\" data-cc-select=\\\"<%= tracks[i].id %>\\\"><%= tracks[i].label %></a></li>\\n  <% }; %>\\n</ul>\\n\";\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".cc-controls[data-cc-controls] {\\n  float: right;\\n  position: relative;\\n  display: none; }\\n  .cc-controls[data-cc-controls].available {\\n    display: block; }\\n  .cc-controls[data-cc-controls] .cc-button {\\n    padding: 6px !important; }\\n    .cc-controls[data-cc-controls] .cc-button.enabled {\\n      display: block;\\n      opacity: 1.0; }\\n      .cc-controls[data-cc-controls] .cc-button.enabled:hover {\\n        opacity: 1.0;\\n        text-shadow: none; }\\n  .cc-controls[data-cc-controls] > ul {\\n    list-style-type: none;\\n    position: absolute;\\n    bottom: 25px;\\n    border: 1px solid black;\\n    display: none;\\n    background-color: #e6e6e6; }\\n  .cc-controls[data-cc-controls] li {\\n    font-size: 10px; }\\n    .cc-controls[data-cc-controls] li[data-title] {\\n      background-color: #c3c2c2;\\n      padding: 5px; }\\n    .cc-controls[data-cc-controls] li a {\\n      color: #444;\\n      padding: 2px 10px;\\n      display: block;\\n      text-decoration: none; }\\n      .cc-controls[data-cc-controls] li a:hover {\\n        background-color: #555;\\n        color: white; }\\n        .cc-controls[data-cc-controls] li a:hover a {\\n          color: white;\\n          text-decoration: none; }\\n    .cc-controls[data-cc-controls] li.current a {\\n      color: #f00; }\\n\";\nstyleInject(css);\n\nvar ClosedCaptions = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(ClosedCaptions, _UICorePlugin);\n\n  _createClass(ClosedCaptions, [{\n    key: \"name\",\n    get: function get() {\n      return 'closed_captions';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(ccHTML);\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-cc-button]': 'toggleContextMenu',\n        'click [data-cc-select]': 'onTrackSelect'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'cc-controls',\n        'data-cc-controls': ''\n      };\n    }\n  }]);\n\n  function ClosedCaptions(core) {\n    var _this;\n\n    _classCallCheck(this, ClosedCaptions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ClosedCaptions).call(this, core));\n    var config = core.options.closedCaptionsConfig;\n    _this._title = config && config.title ? config.title : null;\n    _this._ariaLabel = config && config.ariaLabel ? config.ariaLabel : 'cc-button';\n    _this._labelCb = config && config.labelCallback && typeof config.labelCallback === 'function' ? config.labelCallback : function (track) {\n      return track.name;\n    };\n    return _this;\n  }\n\n  _createClass(ClosedCaptions, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindCoreEvents();\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindCoreEvents\",\n    value: function bindCoreEvents() {\n      var _this2 = this;\n\n      if (this.core.mediaControl.settings) {\n        this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_HIDE, this.hideContextMenu);\n      } else {\n        setTimeout(function () {\n          return _this2.bindCoreEvents();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      this.container = this.core.activeContainer;\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_AVAILABLE, this.onSubtitleAvailable);\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_CHANGED, this.onSubtitleChanged);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onContainerStop);\n      }\n    }\n  }, {\n    key: \"onContainerStop\",\n    value: function onContainerStop() {\n      this.ccAvailable(false);\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.ccAvailable(false);\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"onSubtitleAvailable\",\n    value: function onSubtitleAvailable() {\n      this.renderCcButton();\n      this.ccAvailable(true);\n    }\n  }, {\n    key: \"onSubtitleChanged\",\n    value: function onSubtitleChanged(track) {\n      this.setCurrentContextMenuElement(track.id);\n    }\n  }, {\n    key: \"onTrackSelect\",\n    value: function onTrackSelect(event) {\n      var trackId = parseInt(event.target.dataset.ccSelect, 10);\n      this.container.closedCaptionsTrackId = trackId;\n      this.hideContextMenu();\n      event.stopPropagation();\n      return false;\n    }\n  }, {\n    key: \"ccAvailable\",\n    value: function ccAvailable(hasCC) {\n      var method = hasCC ? 'addClass' : 'removeClass';\n      this.$el[method]('available');\n    }\n  }, {\n    key: \"toggleContextMenu\",\n    value: function toggleContextMenu() {\n      this.$el.find('ul').toggle();\n    }\n  }, {\n    key: \"hideContextMenu\",\n    value: function hideContextMenu() {\n      this.$el.find('ul').hide();\n    }\n  }, {\n    key: \"contextMenuElement\",\n    value: function contextMenuElement(id) {\n      return this.$el.find('ul a' + (!isNaN(id) ? '[data-cc-select=\"' + id + '\"]' : '')).parent();\n    }\n  }, {\n    key: \"setCurrentContextMenuElement\",\n    value: function setCurrentContextMenuElement(trackId) {\n      if (this._trackId !== trackId) {\n        this.contextMenuElement().removeClass('current');\n        this.contextMenuElement(trackId).addClass('current');\n        var method = trackId > -1 ? 'addClass' : 'removeClass';\n        this.$ccButton[method]('enabled');\n        this._trackId = trackId;\n      }\n    }\n  }, {\n    key: \"renderCcButton\",\n    value: function renderCcButton() {\n      var tracks = this.container ? this.container.closedCaptionsTracks : [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        tracks[i].label = this._labelCb(tracks[i]);\n      }\n\n      this.$el.html(this.template({\n        ariaLabel: this._ariaLabel,\n        disabledLabel: this.core.i18n.t('disabled'),\n        title: this._title,\n        tracks: tracks\n      }));\n      this.$ccButton = this.$el.find('button.cc-button[data-cc-button]');\n      this.$ccButton.append(ccIcon);\n      this.$el.append(this.style);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.renderCcButton();\n      var $fullscreen = this.core.mediaControl.$el.find('button[data-fullscreen]');\n      if ($fullscreen[0]) this.$el.insertAfter($fullscreen);else this.core.mediaControl.$el.find('.media-control-right-panel[data-media-control]').prepend(this.$el);\n      return this;\n    }\n  }]);\n\n  return ClosedCaptions;\n}(UICorePlugin);\n\nvar dvrHTML = \"<div class=\\\"live-info\\\"><%= live %></div>\\n<button type=\\\"button\\\" class=\\\"live-button\\\" aria-label=\\\"<%= backToLive %>\\\"><%= backToLive %></button>\\n\";\n\nvar css$1 = \".dvr-controls[data-dvr-controls] {\\n  display: inline-block;\\n  float: left;\\n  color: #fff;\\n  line-height: 32px;\\n  font-size: 10px;\\n  font-weight: bold;\\n  margin-left: 6px; }\\n  .dvr-controls[data-dvr-controls] .live-info {\\n    cursor: default;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase; }\\n    .dvr-controls[data-dvr-controls] .live-info:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #ff0101; }\\n    .dvr-controls[data-dvr-controls] .live-info.disabled {\\n      opacity: 0.3; }\\n      .dvr-controls[data-dvr-controls] .live-info.disabled:before {\\n        background-color: #fff; }\\n  .dvr-controls[data-dvr-controls] .live-button {\\n    cursor: pointer;\\n    outline: none;\\n    display: none;\\n    border: 0;\\n    color: #fff;\\n    background-color: transparent;\\n    height: 32px;\\n    padding: 0;\\n    opacity: 0.7;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase;\\n    transition: all 0.1s ease; }\\n    .dvr-controls[data-dvr-controls] .live-button:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #fff; }\\n    .dvr-controls[data-dvr-controls] .live-button:hover {\\n      opacity: 1;\\n      text-shadow: rgba(255, 255, 255, 0.75) 0 0 5px; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-info {\\n  display: none; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-button {\\n  display: block; }\\n\\n.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #005aff; }\\n\\n.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #ff0101; }\\n\";\nstyleInject(css$1);\n\nvar DVRControls = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(DVRControls, _UICorePlugin);\n\n  _createClass(DVRControls, [{\n    key: \"template\",\n    get: function get() {\n      return template(dvrHTML);\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'dvr_controls';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click .live-button': 'click'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'dvr-controls',\n        'data-dvr-controls': ''\n      };\n    }\n  }]);\n\n  function DVRControls(core) {\n    var _this;\n\n    _classCallCheck(this, DVRControls);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DVRControls).call(this, core));\n\n    _this.settingsUpdate();\n\n    return _this;\n  }\n\n  _createClass(DVRControls, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindCoreEvents();\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindCoreEvents\",\n    value: function bindCoreEvents() {\n      var _this2 = this;\n\n      if (this.core.mediaControl.settings) {\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.containerChanged);\n        this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.settingsUpdate);\n        this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.render);\n      } else {\n        setTimeout(function () {\n          return _this2.bindCoreEvents();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      if (this.core.activeContainer) {\n        this.listenToOnce(this.core.activeContainer, Events.CONTAINER_TIMEUPDATE, this.render);\n        this.listenTo(this.core.activeContainer, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.dvrChanged);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"dvrChanged\",\n    value: function dvrChanged(dvrEnabled) {\n      if (this.core.getPlaybackType() !== Playback.LIVE) return;\n      this.settingsUpdate();\n      this.core.mediaControl.$el.addClass('live');\n\n      if (dvrEnabled) {\n        this.core.mediaControl.$el.addClass('dvr');\n        this.core.mediaControl.$el.find('.media-control-indicator[data-position], .media-control-indicator[data-duration]').hide();\n      } else {\n        this.core.mediaControl.$el.removeClass('dvr');\n      }\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      var mediaControl = this.core.mediaControl;\n      var container = mediaControl.container;\n      if (!container.isPlaying()) container.play();\n      if (mediaControl.$el.hasClass('dvr')) container.seek(container.getDuration());\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var _this3 = this;\n\n      this.stopListening();\n      this.core.mediaControl.$el.removeClass('live');\n\n      if (this.shouldRender()) {\n        this.render();\n        this.$el.click(function () {\n          return _this3.click();\n        });\n      }\n\n      this.bindEvents();\n    }\n  }, {\n    key: \"shouldRender\",\n    value: function shouldRender() {\n      var useDvrControls = this.core.options.useDvrControls === undefined || !!this.core.options.useDvrControls;\n      return useDvrControls && this.core.getPlaybackType() === Playback.LIVE;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template({\n        live: this.core.i18n.t('live'),\n        backToLive: this.core.i18n.t('back_to_live')\n      }));\n\n      if (this.shouldRender()) {\n        this.core.mediaControl.$el.addClass('live');\n        this.core.mediaControl.$('.media-control-left-panel[data-media-control]').append(this.$el);\n      }\n\n      return this;\n    }\n  }]);\n\n  return DVRControls;\n}(UICorePlugin);\n\nvar EndVideo = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(EndVideo, _CorePlugin);\n\n  function EndVideo() {\n    _classCallCheck(this, EndVideo);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EndVideo).apply(this, arguments));\n  }\n\n  _createClass(EndVideo, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_ENDED, this.ended);\n        this.listenTo(container, Events.CONTAINER_STOP, this.ended);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      var exitOnEnd = typeof this.core.options.exitFullscreenOnEnd === 'undefined' || this.core.options.exitFullscreenOnEnd;\n      if (exitOnEnd && this.core.isFullscreen()) this.core.toggleFullscreen();\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'end_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  return EndVideo;\n}(CorePlugin);\n\nvar reloadIcon = \"<svg fill=\\\"#FFFFFF\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\\\"/>\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/>\\n</svg>\";\n\nvar templateHtml = \"<div class=\\\"player-error-screen__content\\\" data-error-screen>\\n  <% if (icon) { %>\\n  <div class=\\\"player-error-screen__icon\\\" data-error-screen><%= icon %></div>\\n  <% } %>\\n  <div class=\\\"player-error-screen__title\\\" data-error-screen><%= title %></div>\\n  <div class=\\\"player-error-screen__message\\\" data-error-screen><%= message %></div>\\n  <div class=\\\"player-error-screen__code\\\" data-error-screen>Error code: <%= code %></div>\\n  <div class=\\\"player-error-screen__reload\\\" data-error-screen><%= reloadIcon %></div>\\n</div>\\n\";\n\nvar css$2 = \"div.player-error-screen {\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  color: #CCCACA;\\n  position: absolute;\\n  top: 0;\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  z-index: 2000;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center; }\\n  div.player-error-screen__content[data-error-screen] {\\n    font-size: 14px;\\n    color: #CCCACA;\\n    margin-top: 45px; }\\n  div.player-error-screen__title[data-error-screen] {\\n    font-weight: bold;\\n    line-height: 30px;\\n    font-size: 18px; }\\n  div.player-error-screen__message[data-error-screen] {\\n    width: 90%;\\n    margin: 0 auto; }\\n  div.player-error-screen__code[data-error-screen] {\\n    font-size: 13px;\\n    margin-top: 15px; }\\n  div.player-error-screen__reload {\\n    cursor: pointer;\\n    width: 30px;\\n    margin: 15px auto 0; }\\n\";\nstyleInject(css$2);\n\nvar ErrorScreen = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(ErrorScreen, _UICorePlugin);\n\n  _createClass(ErrorScreen, [{\n    key: \"name\",\n    get: function get() {\n      return 'error_screen';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(templateHtml);\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core.getCurrentContainer();\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-error-screen',\n        'data-error-screen': ''\n      };\n    }\n  }]);\n\n  function ErrorScreen(core) {\n    var _this;\n\n    _classCallCheck(this, ErrorScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorScreen).call(this, core));\n    if (_this.options.disableErrorScreen) return _possibleConstructorReturn(_this, _this.disable());\n    return _this;\n  }\n\n  _createClass(ErrorScreen, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.ERROR, this.onError);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onContainerChanged);\n    }\n  }, {\n    key: \"bindReload\",\n    value: function bindReload() {\n      this.reloadButton = this.$el.find('.player-error-screen__reload');\n      this.reloadButton && this.reloadButton.on('click', this.reload.bind(this));\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this2 = this;\n\n      this.listenToOnce(this.core, Events.CORE_READY, function () {\n        return _this2.container.play();\n      });\n      this.core.load(this.options.sources, this.options.mimeType);\n      this.unbindReload();\n    }\n  }, {\n    key: \"unbindReload\",\n    value: function unbindReload() {\n      this.reloadButton && this.reloadButton.off('click');\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.err = null;\n      this.unbindReload();\n      this.hide();\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (err.level === PlayerError.Levels.FATAL) {\n        this.err = err;\n        this.container.disableMediaControl();\n        this.container.stop();\n        this.show();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.render();\n      this.$el.show();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.err) return;\n      this.$el.html(this.template({\n        title: this.err.UI.title,\n        message: this.err.UI.message,\n        code: this.err.code,\n        icon: this.err.UI.icon || '',\n        reloadIcon: reloadIcon\n      }));\n      this.core.$el.append(this.el);\n      this.bindReload();\n      return this;\n    }\n  }]);\n\n  return ErrorScreen;\n}(UICorePlugin);\n\nvar playIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M1.425.35L14.575 8l-13.15 7.65V.35z\\\"/>\\n</svg>\";\n\nvar pauseIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z\\\"/>\\n</svg>\";\n\nvar oldIcon = $('link[rel=\"shortcut icon\"]');\n\nvar Favicon = /*#__PURE__*/function (_CorePlugin) {\n  _inherits(Favicon, _CorePlugin);\n\n  _createClass(Favicon, [{\n    key: \"name\",\n    get: function get() {\n      return 'favicon';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"oldIcon\",\n    get: function get() {\n      return oldIcon;\n    }\n  }]);\n\n  function Favicon(core) {\n    var _this;\n\n    _classCallCheck(this, Favicon);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favicon).call(this, core));\n    _this._container = null;\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(Favicon, [{\n    key: \"configure\",\n    value: function configure() {\n      if (this.core.options.changeFavicon) {\n        if (!this.enabled) {\n          this.stopListening(this.core, Events.CORE_OPTIONS_CHANGE);\n          this.enable();\n        }\n      } else if (this.enabled) {\n        this.disable();\n        this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      this.core.activeContainer && this.containerChanged();\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this._container && this.stopListening(this._container);\n      this._container = this.core.activeContainer;\n      this.listenTo(this._container, Events.CONTAINER_PLAY, this.setPlayIcon);\n      this.listenTo(this._container, Events.CONTAINER_PAUSE, this.setPauseIcon);\n      this.listenTo(this._container, Events.CONTAINER_STOP, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ENDED, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ERROR, this.resetIcon);\n      this.resetIcon();\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      _get(_getPrototypeOf(Favicon.prototype), \"disable\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Favicon.prototype), \"destroy\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"createIcon\",\n    value: function createIcon(svg) {\n      var canvas = $('<canvas/>');\n      canvas[0].width = 16;\n      canvas[0].height = 16;\n      var ctx = canvas[0].getContext('2d');\n      ctx.fillStyle = '#000';\n      var d = $(svg).find('path').attr('d');\n      var path = new Path2D(d);\n      ctx.fill(path);\n      var icon = $('<link rel=\"shortcut icon\" type=\"image/png\"/>');\n      icon.attr('href', canvas[0].toDataURL('image/png'));\n      return icon;\n    }\n  }, {\n    key: \"setPlayIcon\",\n    value: function setPlayIcon() {\n      if (!this.playIcon) this.playIcon = this.createIcon(playIcon);\n      this.changeIcon(this.playIcon);\n    }\n  }, {\n    key: \"setPauseIcon\",\n    value: function setPauseIcon() {\n      if (!this.pauseIcon) this.pauseIcon = this.createIcon(pauseIcon);\n      this.changeIcon(this.pauseIcon);\n    }\n  }, {\n    key: \"resetIcon\",\n    value: function resetIcon() {\n      $('link[rel=\"shortcut icon\"]').remove();\n      $('head').append(this.oldIcon);\n    }\n  }, {\n    key: \"changeIcon\",\n    value: function changeIcon(icon) {\n      if (icon) {\n        $('link[rel=\"shortcut icon\"]').remove();\n        $('head').append(icon);\n      }\n    }\n  }]);\n\n  return Favicon;\n}(CorePlugin);\n\nvar GoogleAnalytics = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(GoogleAnalytics, _ContainerPlugin);\n\n  _createClass(GoogleAnalytics, [{\n    key: \"name\",\n    get: function get() {\n      return 'google_analytics';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function GoogleAnalytics(container) {\n    var _this;\n\n    _classCallCheck(this, GoogleAnalytics);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GoogleAnalytics).call(this, container));\n\n    if (_this.container.options.gaAccount) {\n      _this.account = _this.container.options.gaAccount;\n      _this.trackerName = _this.container.options.gaTrackerName ? _this.container.options.gaTrackerName + '.' : 'Clappr.';\n      _this.domainName = _this.container.options.gaDomainName;\n      _this.currentHDState = undefined;\n\n      _this.embedScript();\n    }\n\n    return _this;\n  }\n\n  _createClass(GoogleAnalytics, [{\n    key: \"embedScript\",\n    value: function embedScript() {\n      var _this2 = this;\n\n      if (!window._gat) {\n        var script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('async', 'async');\n        script.setAttribute('src', '//www.google-analytics.com/ga.js');\n\n        script.onload = function () {\n          return _this2.addEventListeners();\n        };\n\n        document.body.appendChild(script);\n      } else {\n        this.addEventListeners();\n      }\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      var _this3 = this;\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_READY, this.onReady);\n        this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n        this.listenTo(this.container, Events.CONTAINER_PAUSE, this.onPause);\n        this.listenTo(this.container, Events.CONTAINER_ENDED, this.onEnded);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n        this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKSTATE, this.onPlaybackChanged);\n        this.listenTo(this.container, Events.CONTAINER_VOLUME, function (event) {\n          return _this3.onVolumeChanged(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_SEEK, function (event) {\n          return _this3.onSeek(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_FULL_SCREEN, this.onFullscreen);\n        this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.onHD);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.onDVR);\n      }\n\n      _gaq.push([this.trackerName + '_setAccount', this.account]);\n\n      if (this.domainName) _gaq.push([this.trackerName + '_setDomainName', this.domainName]);\n    }\n  }, {\n    key: \"onReady\",\n    value: function onReady() {\n      this.push(['Video', 'Playback', this.container.playback.name]);\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.push(['Video', 'Play', this.container.playback.src]);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.push(['Video', 'Stop', this.container.playback.src]);\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.push(['Video', 'Ended', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.push(['Video', 'Buffering', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.push(['Video', 'Bufferfull', this.container.playback.src]);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.push(['Video', 'Error', this.container.playback.src]);\n    }\n  }, {\n    key: \"onHD\",\n    value: function onHD(isHD) {\n      var status = isHD ? 'ON' : 'OFF';\n\n      if (status !== this.currentHDState) {\n        this.currentHDState = status;\n        this.push(['Video', 'HD - ' + status, this.container.playback.src]);\n      }\n    }\n  }, {\n    key: \"onPlaybackChanged\",\n    value: function onPlaybackChanged(playbackState) {\n      if (playbackState.type !== null) this.push(['Video', 'Playback Type - ' + playbackState.type, this.container.playback.src]);\n    }\n  }, {\n    key: \"onDVR\",\n    value: function onDVR(dvrInUse) {\n      var status = dvrInUse ? 'ON' : 'OFF';\n      this.push(['Interaction', 'DVR - ' + status, this.container.playback.src]);\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.push(['Video', 'Pause', this.container.playback.src]);\n    }\n  }, {\n    key: \"onSeek\",\n    value: function onSeek() {\n      this.push(['Video', 'Seek', this.container.playback.src]);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.push(['Interaction', 'Volume', this.container.playback.src]);\n    }\n  }, {\n    key: \"onFullscreen\",\n    value: function onFullscreen() {\n      this.push(['Interaction', 'Fullscreen', this.container.playback.src]);\n    }\n  }, {\n    key: \"push\",\n    value: function push(array) {\n      var res = [this.trackerName + '_trackEvent'].concat(array);\n\n      _gaq.push(res);\n    }\n  }]);\n\n  return GoogleAnalytics;\n}(ContainerPlugin);\n\nvar global$1 = (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global$1.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global$1.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global$1.performance || {};\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() };\n\n/* eslint-disable */\n// Kibo is released under the MIT License. Copyright (c) 2013 marquete.\n// see https://github.com/marquete/kibo\nvar Kibo = function Kibo(element) {\n  this.element = element || window.document;\n  this.initialize();\n};\n\nKibo.KEY_NAMES_BY_CODE = {\n  8: 'backspace',\n  9: 'tab',\n  13: 'enter',\n  16: 'shift',\n  17: 'ctrl',\n  18: 'alt',\n  20: 'caps_lock',\n  27: 'esc',\n  32: 'space',\n  37: 'left',\n  38: 'up',\n  39: 'right',\n  40: 'down',\n  48: '0',\n  49: '1',\n  50: '2',\n  51: '3',\n  52: '4',\n  53: '5',\n  54: '6',\n  55: '7',\n  56: '8',\n  57: '9',\n  65: 'a',\n  66: 'b',\n  67: 'c',\n  68: 'd',\n  69: 'e',\n  70: 'f',\n  71: 'g',\n  72: 'h',\n  73: 'i',\n  74: 'j',\n  75: 'k',\n  76: 'l',\n  77: 'm',\n  78: 'n',\n  79: 'o',\n  80: 'p',\n  81: 'q',\n  82: 'r',\n  83: 's',\n  84: 't',\n  85: 'u',\n  86: 'v',\n  87: 'w',\n  88: 'x',\n  89: 'y',\n  90: 'z',\n  112: 'f1',\n  113: 'f2',\n  114: 'f3',\n  115: 'f4',\n  116: 'f5',\n  117: 'f6',\n  118: 'f7',\n  119: 'f8',\n  120: 'f9',\n  121: 'f10',\n  122: 'f11',\n  123: 'f12'\n};\nKibo.KEY_CODES_BY_NAME = {};\n\n(function () {\n  for (var key in Kibo.KEY_NAMES_BY_CODE) {\n    if (Object.prototype.hasOwnProperty.call(Kibo.KEY_NAMES_BY_CODE, key)) {\n      Kibo.KEY_CODES_BY_NAME[Kibo.KEY_NAMES_BY_CODE[key]] = +key;\n    }\n  }\n})();\n\nKibo.MODIFIERS = ['shift', 'ctrl', 'alt'];\n\nKibo.registerEvent = function () {\n  if (document.addEventListener) {\n    return function (element, eventName, func) {\n      element.addEventListener(eventName, func, false);\n    };\n  } else if (document.attachEvent) {\n    return function (element, eventName, func) {\n      element.attachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.unregisterEvent = function () {\n  if (document.removeEventListener) {\n    return function (element, eventName, func) {\n      element.removeEventListener(eventName, func, false);\n    };\n  } else if (document.detachEvent) {\n    return function (element, eventName, func) {\n      element.detachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.stringContains = function (string, substring) {\n  return string.indexOf(substring) !== -1;\n};\n\nKibo.neatString = function (string) {\n  return string.replace(/^\\s+|\\s+$/g, '').replace(/\\s+/g, ' ');\n};\n\nKibo.capitalize = function (string) {\n  return string.toLowerCase().replace(/^./, function (match) {\n    return match.toUpperCase();\n  });\n};\n\nKibo.isString = function (what) {\n  return Kibo.stringContains(Object.prototype.toString.call(what), 'String');\n};\n\nKibo.arrayIncludes = function () {\n  if (Array.prototype.indexOf) {\n    return function (haystack, needle) {\n      return haystack.indexOf(needle) !== -1;\n    };\n  } else {\n    return function (haystack, needle) {\n      for (var i = 0; i < haystack.length; i++) {\n        if (haystack[i] === needle) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n}();\n\nKibo.extractModifiers = function (keyCombination) {\n  var modifiers, i;\n  modifiers = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (Kibo.stringContains(keyCombination, Kibo.MODIFIERS[i])) {\n      modifiers.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  return modifiers;\n};\n\nKibo.extractKey = function (keyCombination) {\n  var keys, i;\n  keys = Kibo.neatString(keyCombination).split(' ');\n\n  for (i = 0; i < keys.length; i++) {\n    if (!Kibo.arrayIncludes(Kibo.MODIFIERS, keys[i])) {\n      return keys[i];\n    }\n  }\n};\n\nKibo.modifiersAndKey = function (keyCombination) {\n  var result, key;\n\n  if (Kibo.stringContains(keyCombination, 'any')) {\n    return Kibo.neatString(keyCombination).split(' ').slice(0, 2).join(' ');\n  }\n\n  result = Kibo.extractModifiers(keyCombination);\n  key = Kibo.extractKey(keyCombination);\n\n  if (key && !Kibo.arrayIncludes(Kibo.MODIFIERS, key)) {\n    result.push(key);\n  }\n\n  return result.join(' ');\n};\n\nKibo.keyName = function (keyCode) {\n  return Kibo.KEY_NAMES_BY_CODE[keyCode + ''];\n};\n\nKibo.keyCode = function (keyName) {\n  return +Kibo.KEY_CODES_BY_NAME[keyName];\n};\n\nKibo.prototype.initialize = function () {\n  var i,\n      that = this;\n  this.lastKeyCode = -1;\n  this.lastModifiers = {};\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    this.lastModifiers[Kibo.MODIFIERS[i]] = false;\n  }\n\n  this.keysDown = {\n    any: []\n  };\n  this.keysUp = {\n    any: []\n  };\n  this.downHandler = this.handler('down');\n  this.upHandler = this.handler('up');\n  Kibo.registerEvent(this.element, 'keydown', this.downHandler);\n  Kibo.registerEvent(this.element, 'keyup', this.upHandler);\n  Kibo.registerEvent(window, 'unload', function unloader() {\n    Kibo.unregisterEvent(that.element, 'keydown', that.downHandler);\n    Kibo.unregisterEvent(that.element, 'keyup', that.upHandler);\n    Kibo.unregisterEvent(window, 'unload', unloader);\n  });\n};\n\nKibo.prototype.handler = function (upOrDown) {\n  var that = this;\n  return function (e) {\n    var i, registeredKeys, lastModifiersAndKey;\n    e = e || window.event;\n    that.lastKeyCode = e.keyCode;\n\n    for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n      that.lastModifiers[Kibo.MODIFIERS[i]] = e[Kibo.MODIFIERS[i] + 'Key'];\n    }\n\n    if (Kibo.arrayIncludes(Kibo.MODIFIERS, Kibo.keyName(that.lastKeyCode))) {\n      that.lastModifiers[Kibo.keyName(that.lastKeyCode)] = true;\n    }\n\n    registeredKeys = that['keys' + Kibo.capitalize(upOrDown)];\n\n    for (i = 0; i < registeredKeys.any.length; i++) {\n      if (registeredKeys.any[i](e) === false && e.preventDefault) {\n        e.preventDefault();\n      }\n    }\n\n    lastModifiersAndKey = that.lastModifiersAndKey();\n\n    if (registeredKeys[lastModifiersAndKey]) {\n      for (i = 0; i < registeredKeys[lastModifiersAndKey].length; i++) {\n        if (registeredKeys[lastModifiersAndKey][i](e) === false && e.preventDefault) {\n          e.preventDefault();\n        }\n      }\n    }\n  };\n};\n\nKibo.prototype.registerKeys = function (upOrDown, newKeys, func) {\n  var i,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (registeredKeys[keys]) {\n      registeredKeys[keys].push(func);\n    } else {\n      registeredKeys[keys] = [func];\n    }\n  }\n\n  return this;\n}; // jshint maxdepth:5\n\n\nKibo.prototype.unregisterKeys = function (upOrDown, newKeys, func) {\n  var i,\n      j,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (func === null) {\n      delete registeredKeys[keys];\n    } else {\n      if (registeredKeys[keys]) {\n        for (j = 0; j < registeredKeys[keys].length; j++) {\n          if (String(registeredKeys[keys][j]) === String(func)) {\n            registeredKeys[keys].splice(j, 1);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n};\n\nKibo.prototype.off = function (keys) {\n  return this.unregisterKeys('down', keys, null);\n};\n\nKibo.prototype.delegate = function (upOrDown, keys, func) {\n  return func !== null || func !== undefined ? this.registerKeys(upOrDown, keys, func) : this.unregisterKeys(upOrDown, keys, func);\n};\n\nKibo.prototype.down = function (keys, func) {\n  return this.delegate('down', keys, func);\n};\n\nKibo.prototype.up = function (keys, func) {\n  return this.delegate('up', keys, func);\n};\n\nKibo.prototype.lastKey = function (modifier) {\n  if (!modifier) {\n    return Kibo.keyName(this.lastKeyCode);\n  }\n\n  return this.lastModifiers[modifier];\n};\n\nKibo.prototype.lastModifiersAndKey = function () {\n  var result, i;\n  result = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (this.lastKey(Kibo.MODIFIERS[i])) {\n      result.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  if (!Kibo.arrayIncludes(result, this.lastKey())) {\n    result.push(this.lastKey());\n  }\n\n  return result.join(' ');\n};\n\nvar index = {\n  Kibo: Kibo\n};\n\nvar css$3 = \".media-control-notransition {\\n  transition: none !important; }\\n\\n.media-control[data-media-control] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9999;\\n  pointer-events: none; }\\n  .media-control[data-media-control].dragging {\\n    pointer-events: auto;\\n    cursor: -webkit-grabbing !important;\\n    cursor: grabbing !important;\\n    cursor: url(\\\"closed-hand.cur\\\"), move; }\\n    .media-control[data-media-control].dragging * {\\n      cursor: -webkit-grabbing !important;\\n      cursor: grabbing !important;\\n      cursor: url(\\\"closed-hand.cur\\\"), move; }\\n  .media-control[data-media-control] .media-control-background[data-background] {\\n    position: absolute;\\n    height: 40%;\\n    width: 100%;\\n    bottom: 0;\\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));\\n    transition: opacity 0.6s ease-out; }\\n  .media-control[data-media-control] .media-control-icon {\\n    line-height: 0;\\n    letter-spacing: 0;\\n    speak: none;\\n    color: #fff;\\n    opacity: 0.5;\\n    vertical-align: middle;\\n    text-align: left;\\n    transition: all 0.1s ease; }\\n  .media-control[data-media-control] .media-control-icon:hover {\\n    color: white;\\n    opacity: 0.75;\\n    text-shadow: rgba(255, 255, 255, 0.8) 0 0 5px; }\\n  .media-control[data-media-control].media-control-hide .media-control-background[data-background] {\\n    opacity: 0; }\\n  .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] {\\n    bottom: -50px; }\\n    .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n      opacity: 0; }\\n  .media-control[data-media-control] .media-control-layer[data-controls] {\\n    position: absolute;\\n    bottom: 7px;\\n    width: 100%;\\n    height: 32px;\\n    font-size: 0;\\n    vertical-align: middle;\\n    pointer-events: auto;\\n    transition: bottom 0.4s ease-out; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      left: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control] {\\n      height: 100%;\\n      text-align: center;\\n      line-height: 32px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      right: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button {\\n      background-color: transparent;\\n      border: 0;\\n      margin: 0 6px;\\n      padding: 0;\\n      cursor: pointer;\\n      display: inline-block;\\n      width: 32px;\\n      height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg {\\n        width: 100%;\\n        height: 22px; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path {\\n          fill: white; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus {\\n        outline: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen] {\\n        float: right;\\n        background-color: transparent;\\n        border: 0;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator] {\\n        background-color: transparent;\\n        border: 0;\\n        cursor: default;\\n        display: none;\\n        float: right;\\n        height: 100%; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled {\\n          display: block;\\n          opacity: 1.0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover {\\n            opacity: 1.0;\\n            text-shadow: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause] {\\n        float: left; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop] {\\n        float: left; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position], .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      display: inline-block;\\n      font-size: 10px;\\n      color: white;\\n      cursor: default;\\n      line-height: 32px;\\n      position: relative; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position] {\\n      margin: 0 6px 0 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      color: rgba(255, 255, 255, 0.5);\\n      margin-right: 6px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before {\\n        content: \\\"|\\\";\\n        margin-right: 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] {\\n      position: absolute;\\n      top: -20px;\\n      left: 0;\\n      display: inline-block;\\n      vertical-align: middle;\\n      width: 100%;\\n      height: 25px;\\n      cursor: pointer; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] {\\n        width: 100%;\\n        height: 1px;\\n        position: relative;\\n        top: 12px;\\n        background-color: #666666; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #c2c2c2;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #005aff;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0;\\n          position: absolute;\\n          top: -3px;\\n          width: 5px;\\n          height: 7px;\\n          background-color: rgba(255, 255, 255, 0.5);\\n          transition: opacity 0.1s ease; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n        opacity: 1; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled {\\n        cursor: default; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n        position: absolute;\\n        transform: translateX(-50%);\\n        top: 2px;\\n        left: 0;\\n        width: 20px;\\n        height: 20px;\\n        opacity: 1;\\n        transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar] {\\n          position: absolute;\\n          left: 6px;\\n          top: 6px;\\n          width: 8px;\\n          height: 8px;\\n          border-radius: 10px;\\n          box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n          background-color: white; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] {\\n      float: right;\\n      display: inline-block;\\n      height: 32px;\\n      cursor: pointer;\\n      margin: 0 6px;\\n      box-sizing: border-box; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] {\\n        float: left;\\n        bottom: 0; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] {\\n          background-color: transparent;\\n          border: 0;\\n          box-sizing: content-box;\\n          width: 32px;\\n          height: 32px;\\n          opacity: 0.5; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover {\\n            opacity: 0.75; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg {\\n            height: 24px;\\n            position: relative;\\n            top: 3px; }\\n            .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path {\\n              fill: white; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg {\\n            margin-left: 2px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] {\\n        float: left;\\n        position: relative;\\n        overflow: hidden;\\n        top: 6px;\\n        width: 42px;\\n        height: 18px;\\n        padding: 3px 0;\\n        transition: width .2s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] {\\n          height: 1px;\\n          position: relative;\\n          top: 7px;\\n          margin: 0 3px;\\n          background-color: #666666; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #c2c2c2;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #005aff;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume] {\\n            opacity: 0;\\n            position: absolute;\\n            top: -3px;\\n            width: 5px;\\n            height: 7px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n            transition: opacity 0.1s ease; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] {\\n          position: absolute;\\n          transform: translateX(-50%);\\n          top: 0px;\\n          left: 0;\\n          width: 20px;\\n          height: 20px;\\n          opacity: 1;\\n          transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume] {\\n            position: absolute;\\n            left: 6px;\\n            top: 6px;\\n            width: 8px;\\n            height: 8px;\\n            border-radius: 10px;\\n            box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n            background-color: white; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume] {\\n          float: left;\\n          width: 4px;\\n          padding-left: 2px;\\n          height: 12px;\\n          opacity: 0.5;\\n          box-shadow: inset 2px 0 0 white;\\n          transition: transform .2s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill {\\n            box-shadow: inset 2px 0 0 #fff;\\n            opacity: 1; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:nth-of-type(1) {\\n            padding-left: 0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover {\\n            transform: scaleY(1.5); }\\n  .media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide {\\n    width: 0;\\n    height: 12px;\\n    top: 9px;\\n    padding: 0; }\\n\";\nstyleInject(css$3);\n\nvar mediaControlHTML = \"<div class=\\\"media-control-background\\\" data-background></div>\\n<div class=\\\"media-control-layer\\\" data-controls>\\n  <%  var renderBar = function(name) { %>\\n      <div class=\\\"bar-container\\\" data-<%= name %>>\\n        <div class=\\\"bar-background\\\" data-<%= name %>>\\n          <div class=\\\"bar-fill-1\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-fill-2\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-hover\\\" data-<%= name %>></div>\\n        </div>\\n        <div class=\\\"bar-scrubber\\\" data-<%= name %>>\\n          <div class=\\\"bar-scrubber-icon\\\" data-<%= name %>></div>\\n        </div>\\n      </div>\\n  <%  }; %>\\n  <%  var renderSegmentedBar = function(name, segments) {\\n      segments = segments || 10; %>\\n    <div class=\\\"bar-container\\\" data-<%= name %>>\\n    <% for (var i = 0; i < segments; i++) { %>\\n      <div class=\\\"segmented-bar-element\\\" data-<%= name %>></div>\\n    <% } %>\\n    </div>\\n  <% }; %>\\n  <% var renderDrawer = function(name, renderContent) { %>\\n      <div class=\\\"drawer-container\\\" data-<%= name %>>\\n        <div class=\\\"drawer-icon-container\\\" data-<%= name %>>\\n          <div class=\\\"drawer-icon media-control-icon\\\" data-<%= name %>></div>\\n          <span class=\\\"drawer-text\\\" data-<%= name %>></span>\\n        </div>\\n        <% renderContent(name); %>\\n      </div>\\n  <% }; %>\\n  <% var renderIndicator = function(name) { %>\\n      <div class=\\\"media-control-indicator\\\" data-<%= name %>></div>\\n  <% }; %>\\n  <% var renderButton = function(name) { %>\\n    <button type=\\\"button\\\" class=\\\"media-control-button media-control-icon\\\" data-<%= name %> aria-label=\\\"<%= name %>\\\"></button>\\n  <% }; %>\\n  <%  var templates = {\\n        bar: renderBar,\\n        segmentedBar: renderSegmentedBar,\\n      };\\n      var render = function(settingsList) {\\n        settingsList.forEach(function(setting) {\\n          if(setting === \\\"seekbar\\\") {\\n            renderBar(setting);\\n          } else if (setting === \\\"volume\\\") {\\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\\n          } else if (setting === \\\"duration\\\" || setting === \\\"position\\\") {\\n            renderIndicator(setting);\\n          } else {\\n            renderButton(setting);\\n          }\\n        });\\n      }; %>\\n  <% if (settings.default && settings.default.length) { %>\\n  <div class=\\\"media-control-center-panel\\\" data-media-control>\\n    <% render(settings.default); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.left && settings.left.length) { %>\\n  <div class=\\\"media-control-left-panel\\\" data-media-control>\\n    <% render(settings.left); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.right && settings.right.length) { %>\\n  <div class=\\\"media-control-right-panel\\\" data-media-control>\\n    <% render(settings.right); %>\\n  </div>\\n  <% } %>\\n</div>\\n\";\n\nvar stopIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 1.24h12.6v13.52h-12.6z\\\"/>\\n</svg>\";\n\nvar volumeIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z\\\"/>\\n</svg>\";\n\nvar volumeMuteIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z\\\"/>\\n</svg>\";\n\nvar fullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z\\\"/>\\n</svg>\";\n\nvar exitFullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z\\\"/>\\n</svg>\";\n\nvar hdIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z\\\"/>\\n</svg>\";\n\nvar Config = Utils.Config,\n    Fullscreen = Utils.Fullscreen,\n    formatTime = Utils.formatTime,\n    extend = Utils.extend,\n    removeArrayItem = Utils.removeArrayItem;\n\nvar MediaControl = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(MediaControl, _UICorePlugin);\n\n  _createClass(MediaControl, [{\n    key: \"name\",\n    get: function get() {\n      return 'media_control';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      var playbackIsNOOP = this.container && this.container.getPlaybackType() === Playback.NO_OP;\n      return this.userDisabled || playbackIsNOOP;\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core && this.core.activeContainer;\n    }\n  }, {\n    key: \"playback\",\n    get: function get() {\n      return this.core && this.core.activePlayback;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'media-control',\n        'data-media-control': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-play]': 'play',\n        'click [data-pause]': 'pause',\n        'click [data-playpause]': 'togglePlayPause',\n        'click [data-stop]': 'stop',\n        'click [data-playstop]': 'togglePlayStop',\n        'click [data-fullscreen]': 'toggleFullscreen',\n        'click .bar-container[data-seekbar]': 'seek',\n        'click .bar-container[data-volume]': 'onVolumeClick',\n        'click .drawer-icon[data-volume]': 'toggleMute',\n        'mouseenter .drawer-container[data-volume]': 'showVolumeBar',\n        'mouseleave .drawer-container[data-volume]': 'hideVolumeBar',\n        'mousedown .bar-container[data-volume]': 'startVolumeDrag',\n        'mousemove .bar-container[data-volume]': 'mousemoveOnVolumeBar',\n        'mousedown .bar-scrubber[data-seekbar]': 'startSeekDrag',\n        'mousemove .bar-container[data-seekbar]': 'mousemoveOnSeekBar',\n        'mouseleave .bar-container[data-seekbar]': 'mouseleaveOnSeekBar',\n        'mouseenter .media-control-layer[data-controls]': 'setUserKeepVisible',\n        'mouseleave .media-control-layer[data-controls]': 'resetUserKeepVisible'\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(mediaControlHTML);\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.container && this.container.isReady ? this.container.volume : this.intendedVolume;\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.volume === 0;\n    }\n  }]);\n\n  function MediaControl(core) {\n    var _this;\n\n    _classCallCheck(this, MediaControl);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MediaControl).call(this, core));\n    _this.persistConfig = _this.options.persistConfig;\n    _this.currentPositionValue = null;\n    _this.currentDurationValue = null;\n    _this.keepVisible = false;\n    _this.fullScreenOnVideoTagSupported = null; // unknown\n\n    _this.setInitialVolume();\n\n    _this.settings = {\n      left: ['play', 'stop', 'pause'],\n      right: ['volume'],\n      \"default\": ['position', 'seekbar', 'duration']\n    };\n    _this.kibo = new Kibo(_this.options.focusElement);\n\n    _this.bindKeyEvents();\n\n    if (_this.container) {\n      if (!$.isEmptyObject(_this.container.settings)) _this.settings = $.extend({}, _this.container.settings);\n    } else {\n      _this.settings = {};\n    }\n\n    _this.userDisabled = false;\n    if (_this.container && _this.container.mediaControlDisabled || _this.options.chromeless) _this.disable();\n\n    _this.stopDragHandler = function (event) {\n      return _this.stopDrag(event);\n    };\n\n    _this.updateDragHandler = function (event) {\n      return _this.updateDrag(event);\n    };\n\n    $(document).bind('mouseup', _this.stopDragHandler);\n    $(document).bind('mousemove', _this.updateDragHandler);\n    return _this;\n  }\n\n  _createClass(MediaControl, [{\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      var _this2 = this;\n\n      return {\n        setVolume: this.setVolume,\n        getVolume: function getVolume() {\n          return _this2.volume;\n        }\n      };\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this3 = this;\n\n      this.stopListening();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onActiveContainerChanged);\n      this.listenTo(this.core, Events.CORE_MOUSE_MOVE, this.show);\n      this.listenTo(this.core, Events.CORE_MOUSE_LEAVE, function () {\n        return _this3.hide(_this3.options.hideMediaControlDelay);\n      });\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this.show);\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_RESIZE, this.playerResize);\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      if (!this.container) return;\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_PAUSE, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_DBLCLICK, this.toggleFullscreen);\n      this.listenTo(this.container, Events.CONTAINER_TIMEUPDATE, this.onTimeUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PROGRESS, this.updateProgressBar);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_DISABLE, this.disable);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_ENABLE, this.enable);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.ended);\n      this.listenTo(this.container, Events.CONTAINER_VOLUME, this.onVolumeChanged);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.setInitialVolume);\n\n      if (this.container.playback.el.nodeName.toLowerCase() === 'video') {\n        // wait until the metadata has loaded and then check if fullscreen on video tag is supported\n        this.listenToOnce(this.container, Events.CONTAINER_LOADEDMETADATA, this.onLoadedMetadataOnVideoTag);\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.userDisabled = true;\n      this.hide();\n      this.unbindKeyEvents();\n      this.$el.hide();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (this.options.chromeless) return;\n      this.userDisabled = false;\n      this.bindKeyEvents();\n      this.show();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.container && this.container.play();\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.container && this.container.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.container && this.container.stop();\n    }\n  }, {\n    key: \"setInitialVolume\",\n    value: function setInitialVolume() {\n      var initialVolume = this.persistConfig ? Config.restore('volume') : 100;\n      var options = this.container && this.container.options || this.options;\n      this.setVolume(options.mute ? 0 : initialVolume, true);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.updateVolumeUI();\n    }\n  }, {\n    key: \"onLoadedMetadataOnVideoTag\",\n    value: function onLoadedMetadataOnVideoTag() {\n      var video = this.playback && this.playback.el; // video.webkitSupportsFullscreen is deprecated but iOS appears to only use this\n      // see https://github.com/clappr/clappr/issues/1127\n\n      if (!Fullscreen.fullscreenEnabled() && video.webkitSupportsFullscreen) {\n        this.fullScreenOnVideoTagSupported = true;\n        this.settingsUpdate();\n      }\n    }\n  }, {\n    key: \"updateVolumeUI\",\n    value: function updateVolumeUI() {\n      // this will be called after a render\n      if (!this.rendered) return; // update volume bar scrubber/fill on bar mode\n\n      this.$volumeBarContainer.find('.bar-fill-2').css({});\n      var containerWidth = this.$volumeBarContainer.width();\n      var barWidth = this.$volumeBarBackground.width();\n      var offset = (containerWidth - barWidth) / 2.0;\n      var pos = barWidth * this.volume / 100.0 + offset;\n      this.$volumeBarFill.css({\n        width: \"\".concat(this.volume, \"%\")\n      });\n      this.$volumeBarScrubber.css({\n        left: pos\n      }); // update volume bar segments on segmented bar mode\n\n      this.$volumeBarContainer.find('.segmented-bar-element').removeClass('fill');\n      var item = Math.ceil(this.volume / 10.0);\n      this.$volumeBarContainer.find('.segmented-bar-element').slice(0, item).addClass('fill');\n      this.$volumeIcon.html('');\n      this.$volumeIcon.removeClass('muted');\n\n      if (!this.muted) {\n        this.$volumeIcon.append(volumeIcon);\n      } else {\n        this.$volumeIcon.append(volumeMuteIcon);\n        this.$volumeIcon.addClass('muted');\n      }\n\n      this.applyButtonStyle(this.$volumeIcon);\n    }\n  }, {\n    key: \"changeTogglePlay\",\n    value: function changeTogglePlay() {\n      this.$playPauseToggle.html('');\n      this.$playStopToggle.html('');\n\n      if (this.container && this.container.isPlaying()) {\n        this.$playPauseToggle.append(pauseIcon);\n        this.$playStopToggle.append(stopIcon);\n        this.trigger(Events.MEDIACONTROL_PLAYING);\n      } else {\n        this.$playPauseToggle.append(playIcon);\n        this.$playStopToggle.append(playIcon);\n        this.trigger(Events.MEDIACONTROL_NOTPLAYING);\n        Browser.isMobile && this.show();\n      }\n\n      this.applyButtonStyle(this.$playPauseToggle);\n      this.applyButtonStyle(this.$playStopToggle);\n    }\n  }, {\n    key: \"mousemoveOnSeekBar\",\n    value: function mousemoveOnSeekBar(event) {\n      if (this.settings.seekEnabled) {\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left - this.$seekBarHover.width() / 2;\n        this.$seekBarHover.css({\n          left: offsetX\n        });\n      }\n\n      this.trigger(Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"mouseleaveOnSeekBar\",\n    value: function mouseleaveOnSeekBar(event) {\n      this.trigger(Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"onVolumeClick\",\n    value: function onVolumeClick(event) {\n      this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"mousemoveOnVolumeBar\",\n    value: function mousemoveOnVolumeBar(event) {\n      this.draggingVolumeBar && this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"playerResize\",\n    value: function playerResize(size) {\n      this.$fullscreenToggle.html('');\n      var icon = this.core.isFullscreen() ? exitFullscreenIcon : fullscreenIcon;\n      this.$fullscreenToggle.append(icon);\n      this.applyButtonStyle(this.$fullscreenToggle);\n      this.$el.find('.media-control').length !== 0 && this.$el.removeClass('w320');\n      if (size.width <= 320 || this.options.hideVolumeBar) this.$el.addClass('w320');\n    }\n  }, {\n    key: \"togglePlayPause\",\n    value: function togglePlayPause() {\n      this.container.isPlaying() ? this.container.pause() : this.container.play();\n      return false;\n    }\n  }, {\n    key: \"togglePlayStop\",\n    value: function togglePlayStop() {\n      this.container.isPlaying() ? this.container.stop() : this.container.play();\n    }\n  }, {\n    key: \"startSeekDrag\",\n    value: function startSeekDrag(event) {\n      if (!this.settings.seekEnabled) return;\n      this.draggingSeekBar = true;\n      this.$el.addClass('dragging');\n      this.$seekBarLoaded.addClass('media-control-notransition');\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"startVolumeDrag\",\n    value: function startVolumeDrag(event) {\n      this.draggingVolumeBar = true;\n      this.$el.addClass('dragging');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"stopDrag\",\n    value: function stopDrag(event) {\n      this.draggingSeekBar && this.seek(event);\n      this.$el.removeClass('dragging');\n      this.$seekBarLoaded.removeClass('media-control-notransition');\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition dragging');\n      this.draggingSeekBar = false;\n      this.draggingVolumeBar = false;\n    }\n  }, {\n    key: \"updateDrag\",\n    value: function updateDrag(event) {\n      if (this.draggingSeekBar) {\n        event.preventDefault();\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n        var pos = offsetX / this.$seekBarContainer.width() * 100;\n        pos = Math.min(100, Math.max(pos, 0));\n        this.setSeekPercentage(pos);\n      } else if (this.draggingVolumeBar) {\n        event.preventDefault();\n        this.setVolume(this.getVolumeFromUIEvent(event));\n      }\n    }\n  }, {\n    key: \"getVolumeFromUIEvent\",\n    value: function getVolumeFromUIEvent(event) {\n      var offsetY = event.pageX - this.$volumeBarContainer.offset().left;\n      var volumeFromUI = offsetY / this.$volumeBarContainer.width() * 100;\n      return volumeFromUI;\n    }\n  }, {\n    key: \"toggleMute\",\n    value: function toggleMute() {\n      this.setVolume(this.muted ? 100 : 0);\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      var _this4 = this;\n\n      var isInitialVolume = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      value = Math.min(100, Math.max(value, 0)); // this will hold the intended volume\n      // it may not actually get set to this straight away\n      // if the container is not ready etc\n\n      this.intendedVolume = value;\n      this.persistConfig && !isInitialVolume && Config.persist('volume', value);\n\n      var setWhenContainerReady = function setWhenContainerReady() {\n        if (_this4.container && _this4.container.isReady) {\n          _this4.container.setVolume(value);\n        } else {\n          _this4.listenToOnce(_this4.container, Events.CONTAINER_READY, function () {\n            _this4.container.setVolume(value);\n          });\n        }\n      };\n\n      if (!this.container) this.listenToOnce(this, Events.MEDIACONTROL_CONTAINERCHANGED, function () {\n        return setWhenContainerReady();\n      });else setWhenContainerReady();\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      this.trigger(Events.MEDIACONTROL_FULLSCREEN, this.name);\n      this.container.fullscreen();\n      this.core.toggleFullscreen();\n      this.resetUserKeepVisible();\n    }\n  }, {\n    key: \"onActiveContainerChanged\",\n    value: function onActiveContainerChanged() {\n      this.fullScreenOnVideoTagSupported = null;\n      this.bindEvents(); // set the new container to match the volume of the last one\n\n      this.setInitialVolume();\n      this.changeTogglePlay();\n      this.bindContainerEvents();\n      this.settingsUpdate();\n      this.container && this.container.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.container.isDvrInUse());\n      this.container && this.container.mediaControlDisabled && this.disable();\n      this.trigger(Events.MEDIACONTROL_CONTAINERCHANGED);\n    }\n  }, {\n    key: \"showVolumeBar\",\n    value: function showVolumeBar() {\n      this.hideVolumeId && clearTimeout(this.hideVolumeId);\n      this.$volumeBarContainer.removeClass('volume-bar-hide');\n    }\n  }, {\n    key: \"hideVolumeBar\",\n    value: function hideVolumeBar() {\n      var _this5 = this;\n\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 400;\n      if (!this.$volumeBarContainer) return;\n\n      if (this.draggingVolumeBar) {\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.hideVolumeBar();\n        }, timeout);\n      } else {\n        this.hideVolumeId && clearTimeout(this.hideVolumeId);\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.$volumeBarContainer.addClass('volume-bar-hide');\n        }, timeout);\n      }\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      this.changeTogglePlay();\n    }\n  }, {\n    key: \"updateProgressBar\",\n    value: function updateProgressBar(progress) {\n      var loadedStart = progress.start / progress.total * 100;\n      var loadedEnd = progress.current / progress.total * 100;\n      this.$seekBarLoaded.css({\n        left: \"\".concat(loadedStart, \"%\"),\n        width: \"\".concat(loadedEnd - loadedStart, \"%\")\n      });\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(timeProgress) {\n      if (this.draggingSeekBar) return; // TODO why should current time ever be negative?\n\n      var position = timeProgress.current < 0 ? timeProgress.total : timeProgress.current;\n      this.currentPositionValue = position;\n      this.currentDurationValue = timeProgress.total;\n      this.renderSeekBar();\n    }\n  }, {\n    key: \"renderSeekBar\",\n    value: function renderSeekBar() {\n      // this will be triggered as soon as these become available\n      if (this.currentPositionValue === null || this.currentDurationValue === null) return; // default to 100%\n\n      this.currentSeekBarPercentage = 100;\n      if (this.container && (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrInUse())) this.currentSeekBarPercentage = this.currentPositionValue / this.currentDurationValue * 100;\n      this.setSeekPercentage(this.currentSeekBarPercentage);\n      var newPosition = formatTime(this.currentPositionValue);\n      var newDuration = formatTime(this.currentDurationValue);\n\n      if (newPosition !== this.displayedPosition) {\n        this.$position.text(newPosition);\n        this.displayedPosition = newPosition;\n      }\n\n      if (newDuration !== this.displayedDuration) {\n        this.$duration.text(newDuration);\n        this.displayedDuration = newDuration;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      if (!this.settings.seekEnabled) return;\n      var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n      var pos = offsetX / this.$seekBarContainer.width() * 100;\n      pos = Math.min(100, Math.max(pos, 0));\n      this.container && this.container.seekPercentage(pos);\n      this.setSeekPercentage(pos);\n      return false;\n    }\n  }, {\n    key: \"setKeepVisible\",\n    value: function setKeepVisible() {\n      this.keepVisible = true;\n    }\n  }, {\n    key: \"resetKeepVisible\",\n    value: function resetKeepVisible() {\n      this.keepVisible = false;\n    }\n  }, {\n    key: \"setUserKeepVisible\",\n    value: function setUserKeepVisible() {\n      this.userKeepVisible = true;\n    }\n  }, {\n    key: \"resetUserKeepVisible\",\n    value: function resetUserKeepVisible() {\n      this.userKeepVisible = false;\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return !this.$el.hasClass('media-control-hide');\n    }\n  }, {\n    key: \"show\",\n    value: function show(event) {\n      var _this6 = this;\n\n      if (this.disabled) return;\n      var timeout = 2000;\n      var mousePointerMoved = event && event.clientX !== this.lastMouseX && event.clientY !== this.lastMouseY;\n\n      if (!event || mousePointerMoved || navigator.userAgent.match(/firefox/i)) {\n        clearTimeout(this.hideId);\n        this.$el.show();\n        this.trigger(Events.MEDIACONTROL_SHOW, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_SHOW, this.name);\n        this.$el.removeClass('media-control-hide');\n        this.hideId = setTimeout(function () {\n          return _this6.hide();\n        }, timeout);\n\n        if (event) {\n          this.lastMouseX = event.clientX;\n          this.lastMouseY = event.clientY;\n        }\n      }\n\n      var showing = true;\n      this.updateCursorStyle(showing);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this7 = this;\n\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!this.isVisible()) return;\n      var timeout = delay || 2000;\n      clearTimeout(this.hideId);\n      if (!this.disabled && this.options.hideMediaControl === false) return;\n      var hasKeepVisibleRequested = this.userKeepVisible || this.keepVisible;\n      var hasDraggingAction = this.draggingSeekBar || this.draggingVolumeBar;\n\n      if (!this.disabled && (delay || hasKeepVisibleRequested || hasDraggingAction)) {\n        this.hideId = setTimeout(function () {\n          return _this7.hide();\n        }, timeout);\n      } else {\n        this.trigger(Events.MEDIACONTROL_HIDE, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_HIDE, this.name);\n        this.$el.addClass('media-control-hide');\n        this.hideVolumeBar(0);\n        var showing = false;\n        this.updateCursorStyle(showing);\n      }\n    }\n  }, {\n    key: \"updateCursorStyle\",\n    value: function updateCursorStyle(showing) {\n      if (showing) this.core.$el.removeClass('nocursor');else if (this.core.isFullscreen()) this.core.$el.addClass('nocursor');\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var newSettings = this.getSettings();\n\n      if (newSettings && !this.fullScreenOnVideoTagSupported && !Fullscreen.fullscreenEnabled()) {\n        // remove fullscreen from settings if it is present\n        newSettings[\"default\"] && removeArrayItem(newSettings[\"default\"], 'fullscreen');\n        newSettings.left && removeArrayItem(newSettings.left, 'fullscreen');\n        newSettings.right && removeArrayItem(newSettings.right, 'fullscreen');\n      }\n\n      var settingsChanged = JSON.stringify(this.settings) !== JSON.stringify(newSettings);\n\n      if (settingsChanged) {\n        this.settings = newSettings;\n        this.render();\n      }\n    }\n  }, {\n    key: \"getSettings\",\n    value: function getSettings() {\n      return $.extend(true, {}, this.container && this.container.settings);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.isHD = isHD;\n      var method = isHD ? 'addClass' : 'removeClass';\n      this.$hdIndicator[method]('enabled');\n    }\n  }, {\n    key: \"createCachedElements\",\n    value: function createCachedElements() {\n      var $layer = this.$el.find('.media-control-layer');\n      this.$duration = $layer.find('.media-control-indicator[data-duration]');\n      this.$fullscreenToggle = $layer.find('button.media-control-button[data-fullscreen]');\n      this.$playPauseToggle = $layer.find('button.media-control-button[data-playpause]');\n      this.$playStopToggle = $layer.find('button.media-control-button[data-playstop]');\n      this.$position = $layer.find('.media-control-indicator[data-position]');\n      this.$seekBarContainer = $layer.find('.bar-container[data-seekbar]');\n      this.$seekBarHover = $layer.find('.bar-hover[data-seekbar]');\n      this.$seekBarLoaded = $layer.find('.bar-fill-1[data-seekbar]');\n      this.$seekBarPosition = $layer.find('.bar-fill-2[data-seekbar]');\n      this.$seekBarScrubber = $layer.find('.bar-scrubber[data-seekbar]');\n      this.$volumeBarContainer = $layer.find('.bar-container[data-volume]');\n      this.$volumeContainer = $layer.find('.drawer-container[data-volume]');\n      this.$volumeIcon = $layer.find('.drawer-icon[data-volume]');\n      this.$volumeBarBackground = this.$el.find('.bar-background[data-volume]');\n      this.$volumeBarFill = this.$el.find('.bar-fill-1[data-volume]');\n      this.$volumeBarScrubber = this.$el.find('.bar-scrubber[data-volume]');\n      this.$hdIndicator = this.$el.find('button.media-control-button[data-hd-indicator]');\n      this.resetIndicators();\n      this.initializeIcons();\n    }\n  }, {\n    key: \"resetIndicators\",\n    value: function resetIndicators() {\n      this.displayedPosition = this.$position.text();\n      this.displayedDuration = this.$duration.text();\n    }\n  }, {\n    key: \"initializeIcons\",\n    value: function initializeIcons() {\n      var $layer = this.$el.find('.media-control-layer');\n      $layer.find('button.media-control-button[data-play]').append(playIcon);\n      $layer.find('button.media-control-button[data-pause]').append(pauseIcon);\n      $layer.find('button.media-control-button[data-stop]').append(stopIcon);\n      this.$playPauseToggle.append(playIcon);\n      this.$playStopToggle.append(playIcon);\n      this.$volumeIcon.append(volumeIcon);\n      this.$fullscreenToggle.append(fullscreenIcon);\n      this.$hdIndicator.append(hdIcon);\n    }\n  }, {\n    key: \"setSeekPercentage\",\n    value: function setSeekPercentage(value) {\n      value = Math.max(Math.min(value, 100.0), 0); // not changed since last update\n\n      if (this.displayedSeekBarPercentage === value) return;\n      this.displayedSeekBarPercentage = value;\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition');\n      this.$seekBarPosition.css({\n        width: \"\".concat(value, \"%\")\n      });\n      this.$seekBarScrubber.css({\n        left: \"\".concat(value, \"%\")\n      });\n    }\n  }, {\n    key: \"seekRelative\",\n    value: function seekRelative(delta) {\n      if (!this.settings.seekEnabled) return;\n      var currentTime = this.container.getCurrentTime();\n      var duration = this.container.getDuration();\n      var position = Math.min(Math.max(currentTime + delta, 0), duration);\n      position = Math.min(position * 100 / duration, 100);\n      this.container.seekPercentage(position);\n    }\n  }, {\n    key: \"bindKeyAndShow\",\n    value: function bindKeyAndShow(key, callback) {\n      var _this8 = this;\n\n      this.kibo.down(key, function () {\n        _this8.show();\n\n        return callback();\n      });\n    }\n  }, {\n    key: \"bindKeyEvents\",\n    value: function bindKeyEvents() {\n      var _this9 = this;\n\n      if (Browser.isMobile || this.options.disableKeyboardShortcuts) return;\n      this.unbindKeyEvents();\n      this.kibo = new Kibo(this.options.focusElement || this.options.parentElement);\n      this.bindKeyAndShow('space', function () {\n        return _this9.togglePlayPause();\n      });\n      this.bindKeyAndShow('left', function () {\n        return _this9.seekRelative(-5);\n      });\n      this.bindKeyAndShow('right', function () {\n        return _this9.seekRelative(5);\n      });\n      this.bindKeyAndShow('shift left', function () {\n        return _this9.seekRelative(-10);\n      });\n      this.bindKeyAndShow('shift right', function () {\n        return _this9.seekRelative(10);\n      });\n      this.bindKeyAndShow('shift ctrl left', function () {\n        return _this9.seekRelative(-15);\n      });\n      this.bindKeyAndShow('shift ctrl right', function () {\n        return _this9.seekRelative(15);\n      });\n      var keys = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];\n      keys.forEach(function (i) {\n        _this9.bindKeyAndShow(i, function () {\n          _this9.settings.seekEnabled && _this9.container && _this9.container.seekPercentage(i * 10);\n        });\n      });\n    }\n  }, {\n    key: \"unbindKeyEvents\",\n    value: function unbindKeyEvents() {\n      if (this.kibo) {\n        this.kibo.off('space');\n        this.kibo.off('left');\n        this.kibo.off('right');\n        this.kibo.off('shift left');\n        this.kibo.off('shift right');\n        this.kibo.off('shift ctrl left');\n        this.kibo.off('shift ctrl right');\n        this.kibo.off(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']);\n      }\n    }\n  }, {\n    key: \"parseColors\",\n    value: function parseColors() {\n      if (this.options.mediacontrol) {\n        this.buttonsColor = this.options.mediacontrol.buttons;\n        var seekbarColor = this.options.mediacontrol.seekbar;\n        this.$el.find('.bar-fill-2[data-seekbar]').css('background-color', seekbarColor);\n        this.$el.find('.media-control-icon svg path').css('fill', this.buttonsColor);\n        this.$el.find('.segmented-bar-element[data-volume]').css('boxShadow', 'inset 2px 0 0 ' + this.buttonsColor);\n      }\n    }\n  }, {\n    key: \"applyButtonStyle\",\n    value: function applyButtonStyle(element) {\n      this.buttonsColor && element && $(element).find('svg path').css('fill', this.buttonsColor);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      $(document).unbind('mouseup', this.stopDragHandler);\n      $(document).unbind('mousemove', this.updateDragHandler);\n      this.unbindKeyEvents();\n      this.stopListening();\n\n      _get(_getPrototypeOf(MediaControl.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * enables to configure the media control after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      // Check if chromeless mode or if configure is called with new source(s)\n      if (this.options.chromeless || options.source || options.sources) this.disable();else this.enable();\n      this.trigger(Events.MEDIACONTROL_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      var timeout = this.options.hideMediaControlDelay || 2000;\n      this.settings && this.$el.html(this.template({\n        settings: this.settings\n      }));\n      this.createCachedElements();\n      this.$playPauseToggle.addClass('paused');\n      this.$playStopToggle.addClass('stopped');\n      this.changeTogglePlay();\n\n      if (this.container) {\n        this.hideId = setTimeout(function () {\n          return _this10.hide();\n        }, timeout);\n        this.disabled && this.hide();\n      } // Video volume cannot be changed with Safari on mobile devices\n      // Display mute/unmute icon only if Safari version >= 10\n\n\n      if (Browser.isSafari && Browser.isMobile) {\n        if (Browser.version < 10) this.$volumeContainer.css('display', 'none');else this.$volumeBarContainer.css('display', 'none');\n      }\n\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      var previousSeekPercentage = 0;\n      if (this.displayedSeekBarPercentage) previousSeekPercentage = this.displayedSeekBarPercentage;\n      this.displayedSeekBarPercentage = null;\n      this.setSeekPercentage(previousSeekPercentage);\n      nextTick(function () {\n        !_this10.settings.seekEnabled && _this10.$seekBarContainer.addClass('seek-disabled');\n        !Browser.isMobile && !_this10.options.disableKeyboardShortcuts && _this10.bindKeyEvents();\n\n        _this10.playerResize({\n          width: _this10.options.width,\n          height: _this10.options.height\n        });\n\n        _this10.hideVolumeBar(0);\n      });\n      this.parseColors();\n      this.highDefinitionUpdate(this.isHD);\n      this.core.$el.append(this.el);\n      this.rendered = true;\n      this.updateVolumeUI();\n      this.trigger(Events.MEDIACONTROL_RENDERED);\n      return this;\n    }\n  }]);\n\n  return MediaControl;\n}(UICorePlugin);\n\nMediaControl.extend = function (properties) {\n  return extend(MediaControl, properties);\n};\n\nvar posterHTML = \"<div class=\\\"play-wrapper\\\" data-poster></div>\\n\";\n\nvar css$4 = \".player-poster[data-poster] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 998;\\n  top: 0;\\n  left: 0;\\n  background-color: transparent;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: 50% 50%; }\\n  .player-poster[data-poster].clickable {\\n    cursor: pointer; }\\n  .player-poster[data-poster]:hover .play-wrapper[data-poster] {\\n    opacity: 1; }\\n  .player-poster[data-poster] .play-wrapper[data-poster] {\\n    width: 100%;\\n    height: 25%;\\n    margin: 0 auto;\\n    opacity: 0.75;\\n    transition: opacity 0.1s ease; }\\n    .player-poster[data-poster] .play-wrapper[data-poster] svg {\\n      height: 100%; }\\n      .player-poster[data-poster] .play-wrapper[data-poster] svg path {\\n        fill: #fff; }\\n\";\nstyleInject(css$4);\n\nvar PosterPlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(PosterPlugin, _UIContainerPlugin);\n\n  _createClass(PosterPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'poster';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(posterHTML);\n    }\n  }, {\n    key: \"shouldRender\",\n    get: function get() {\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      return this.container.playback.name !== 'html_img' && (this.container.playback.getPlaybackType() !== Playback.NO_OP || showForNoOp);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-poster',\n        'data-poster': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked'\n      };\n    }\n  }, {\n    key: \"showOnVideoEnd\",\n    get: function get() {\n      return !this.options.poster || this.options.poster.showOnVideoEnd || this.options.poster.showOnVideoEnd === undefined;\n    }\n  }]);\n\n  function PosterPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, PosterPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PosterPlugin).call(this, container));\n    _this.hasStartedPlaying = false;\n    _this.playRequested = false;\n\n    _this.render();\n\n    nextTick(function () {\n      return _this.update();\n    });\n    return _this;\n  }\n\n  _createClass(PosterPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.update);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.update);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.render);\n      this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n      this.showOnVideoEnd && this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(error) {\n      this.hasFatalError = error.level === PlayerError.Levels.FATAL;\n\n      if (this.hasFatalError) {\n        this.hasStartedPlaying = false;\n        this.playRequested = false;\n        this.showPlayButton();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.hasStartedPlaying = true;\n      this.update();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hasStartedPlaying = false;\n      this.playRequested = false;\n      this.update();\n    }\n  }, {\n    key: \"updatePlayButton\",\n    value: function updatePlayButton(show) {\n      if (show && (!this.options.chromeless || this.options.allowUserInteraction)) this.showPlayButton();else this.hidePlayButton();\n    }\n  }, {\n    key: \"showPlayButton\",\n    value: function showPlayButton() {\n      if (this.hasFatalError && !this.options.disableErrorScreen) return;\n      this.$playButton.show();\n      this.$el.addClass('clickable');\n    }\n  }, {\n    key: \"hidePlayButton\",\n    value: function hidePlayButton() {\n      this.$playButton.hide();\n      this.$el.removeClass('clickable');\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      // Let \"click_to_pause\" plugin handle click event if media has started playing\n      if (!this.hasStartedPlaying) {\n        if (!this.options.chromeless || this.options.allowUserInteraction) {\n          this.playRequested = true;\n          this.update();\n          this.container.play();\n        }\n\n        return false;\n      }\n    }\n  }, {\n    key: \"shouldHideOnPlay\",\n    value: function shouldHideOnPlay() {\n      // Audio broadcasts should keep the poster up; video should hide poster while playing.\n      return !this.container.playback.isAudioOnly;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.shouldRender) return;\n      var showPlayButton = !this.playRequested && !this.hasStartedPlaying && !this.container.buffering;\n      this.updatePlayButton(showPlayButton);\n      this.updatePoster();\n    }\n  }, {\n    key: \"updatePoster\",\n    value: function updatePoster() {\n      if (!this.hasStartedPlaying) this.showPoster();else this.hidePoster();\n    }\n  }, {\n    key: \"showPoster\",\n    value: function showPoster() {\n      this.container.disableMediaControl();\n      this.$el.show();\n    }\n  }, {\n    key: \"hidePoster\",\n    value: function hidePoster() {\n      this.container.enableMediaControl();\n      if (this.shouldHideOnPlay()) this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.shouldRender) return;\n      this.$el.html(this.template());\n      var isRegularPoster = this.options.poster && this.options.poster.custom === undefined;\n\n      if (isRegularPoster) {\n        var posterUrl = this.options.poster.url || this.options.poster;\n        this.$el.css({\n          'background-image': 'url(' + posterUrl + ')'\n        });\n      } else if (this.options.poster) {\n        this.$el.css({\n          'background': this.options.poster.custom\n        });\n      }\n\n      this.container.$el.append(this.el);\n      this.$playWrapper = this.$el.find('.play-wrapper');\n      this.$playWrapper.append(playIcon);\n      this.$playButton = this.$playWrapper.find('svg');\n      this.$playButton.addClass('poster-icon');\n      this.$playButton.attr('data-poster', '');\n      var buttonsColor = this.options.mediacontrol && this.options.mediacontrol.buttons;\n      if (buttonsColor) this.$el.find('svg path').css('fill', buttonsColor);\n\n      if (this.options.mediacontrol && this.options.mediacontrol.buttons) {\n        buttonsColor = this.options.mediacontrol.buttons;\n        this.$playButton.css('color', buttonsColor);\n      }\n\n      this.update();\n      return this;\n    }\n  }]);\n\n  return PosterPlugin;\n}(UIContainerPlugin);\n\nvar seekTimeHTML = \"<span data-seek-time></span>\\n<span data-duration></span>\\n\";\n\nvar css$5 = \".seek-time[data-seek-time] {\\n  position: absolute;\\n  white-space: nowrap;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 0;\\n  left: -100%;\\n  bottom: 55px;\\n  background-color: rgba(2, 2, 2, 0.5);\\n  z-index: 9999;\\n  transition: opacity 0.1s ease; }\\n  .seek-time[data-seek-time].hidden[data-seek-time] {\\n    opacity: 0; }\\n  .seek-time[data-seek-time] [data-seek-time] {\\n    display: inline-block;\\n    color: white;\\n    font-size: 10px;\\n    padding-left: 7px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n  .seek-time[data-seek-time] [data-duration] {\\n    display: inline-block;\\n    color: rgba(255, 255, 255, 0.5);\\n    font-size: 10px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n    .seek-time[data-seek-time] [data-duration]:before {\\n      content: \\\"|\\\";\\n      margin-right: 7px; }\\n\";\nstyleInject(css$5);\n\nvar formatTime$1 = Utils.formatTime;\n\nvar SeekTime = /*#__PURE__*/function (_UICorePlugin) {\n  _inherits(SeekTime, _UICorePlugin);\n\n  _createClass(SeekTime, [{\n    key: \"name\",\n    get: function get() {\n      return 'seek_time';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(seekTimeHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'seek-time',\n        'data-seek-time': ''\n      };\n    }\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this.core.mediaControl;\n    }\n  }, {\n    key: \"mediaControlContainer\",\n    get: function get() {\n      return this.mediaControl.container;\n    }\n  }, {\n    key: \"isLiveStreamWithDvr\",\n    get: function get() {\n      return this.mediaControlContainer && this.mediaControlContainer.getPlaybackType() === Playback.LIVE && this.mediaControlContainer.isDvrEnabled();\n    }\n  }, {\n    key: \"durationShown\",\n    get: function get() {\n      return this.isLiveStreamWithDvr && !this.actualLiveTime;\n    }\n  }, {\n    key: \"useActualLiveTime\",\n    get: function get() {\n      return this.actualLiveTime && this.isLiveStreamWithDvr;\n    }\n  }]);\n\n  function SeekTime(core) {\n    var _this;\n\n    _classCallCheck(this, SeekTime);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SeekTime).call(this, core));\n    _this.hoveringOverSeekBar = false;\n    _this.hoverPosition = null;\n    _this.duration = null;\n    _this.firstFragDateTime = null;\n    _this.actualLiveTime = !!_this.mediaControl.options.actualLiveTime;\n\n    if (_this.actualLiveTime) {\n      if (_this.mediaControl.options.actualLiveServerTime) _this.actualLiveServerTimeDiff = new Date().getTime() - new Date(_this.mediaControl.options.actualLiveServerTime).getTime();else _this.actualLiveServerTimeDiff = 0;\n    }\n\n    return _this;\n  }\n\n  _createClass(SeekTime, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, this.showTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, this.hideTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.onContainerChanged);\n\n      if (this.mediaControlContainer) {\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.update);\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_TIMEUPDATE, this.updateDuration);\n      }\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(timeProgress) {\n      this.duration = timeProgress.total;\n      this.firstFragDateTime = timeProgress.firstFragDateTime;\n      this.update();\n    }\n  }, {\n    key: \"showTime\",\n    value: function showTime(event) {\n      this.hoveringOverSeekBar = true;\n      this.calculateHoverPosition(event);\n      this.update();\n    }\n  }, {\n    key: \"hideTime\",\n    value: function hideTime() {\n      this.hoveringOverSeekBar = false;\n      this.update();\n    }\n  }, {\n    key: \"calculateHoverPosition\",\n    value: function calculateHoverPosition(event) {\n      var offset = event.pageX - this.mediaControl.$seekBarContainer.offset().left; // proportion into the seek bar that the mouse is hovered over 0-1\n\n      this.hoverPosition = Math.min(1, Math.max(offset / this.mediaControl.$seekBarContainer.width(), 0));\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime() {\n      var seekTime, secondsSinceMidnight, d, e;\n\n      if (this.useActualLiveTime) {\n        if (this.firstFragDateTime) {\n          e = new Date(this.firstFragDateTime);\n          d = new Date(this.firstFragDateTime);\n          d.setHours(0, 0, 0, 0);\n          secondsSinceMidnight = (e.getTime() - d.getTime()) / 1000 + this.duration;\n        } else {\n          d = new Date(new Date().getTime() - this.actualLiveServerTimeDiff);\n          e = new Date(d);\n          secondsSinceMidnight = (e - d.setHours(0, 0, 0, 0)) / 1000;\n        }\n\n        seekTime = secondsSinceMidnight - this.duration + this.hoverPosition * this.duration;\n        if (seekTime < 0) seekTime += 86400;\n      } else {\n        seekTime = this.hoverPosition * this.duration;\n      }\n\n      return {\n        seekTime: seekTime,\n        secondsSinceMidnight: secondsSinceMidnight\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.rendered) {\n        // update() is always called after a render\n        return;\n      }\n\n      if (!this.shouldBeVisible()) {\n        this.$el.hide();\n        this.$el.css('left', '-100%');\n      } else {\n        var seekTime = this.getSeekTime();\n        var currentSeekTime = formatTime$1(seekTime.seekTime, this.useActualLiveTime); // only update dom if necessary, ie time actually changed\n\n        if (currentSeekTime !== this.displayedSeekTime) {\n          this.$seekTimeEl.text(currentSeekTime);\n          this.displayedSeekTime = currentSeekTime;\n        }\n\n        if (this.durationShown) {\n          this.$durationEl.show();\n          var currentDuration = formatTime$1(this.actualLiveTime ? seekTime.secondsSinceMidnight : this.duration, this.actualLiveTime);\n\n          if (currentDuration !== this.displayedDuration) {\n            this.$durationEl.text(currentDuration);\n            this.displayedDuration = currentDuration;\n          }\n        } else {\n          this.$durationEl.hide();\n        } // the element must be unhidden before its width is requested, otherwise it's width will be reported as 0\n\n\n        this.$el.show();\n        var containerWidth = this.mediaControl.$seekBarContainer.width();\n        var elWidth = this.$el.width();\n        var elLeftPos = this.hoverPosition * containerWidth;\n        elLeftPos -= elWidth / 2;\n        elLeftPos = Math.max(0, Math.min(elLeftPos, containerWidth - elWidth));\n        this.$el.css('left', elLeftPos);\n      }\n    }\n  }, {\n    key: \"shouldBeVisible\",\n    value: function shouldBeVisible() {\n      return this.mediaControlContainer && this.mediaControlContainer.settings.seekEnabled && this.hoveringOverSeekBar && this.hoverPosition !== null && this.duration !== null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.rendered = true;\n      this.displayedDuration = null;\n      this.displayedSeekTime = null;\n      this.$el.html(this.template());\n      this.$el.hide();\n      this.mediaControl.$el.append(this.el);\n      this.$seekTimeEl = this.$el.find('[data-seek-time]');\n      this.$durationEl = this.$el.find('[data-duration]');\n      this.$durationEl.hide();\n      this.update();\n    }\n  }]);\n\n  return SeekTime;\n}(UICorePlugin);\n\nvar spinnerHTML = \"<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\\n\";\n\nvar css$6 = \".spinner-three-bounce[data-spinner] {\\n  position: absolute;\\n  margin: 0 auto;\\n  width: 70px;\\n  text-align: center;\\n  z-index: 999;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  /* center vertically */\\n  top: 50%;\\n  transform: translateY(-50%); }\\n  .spinner-three-bounce[data-spinner] > div {\\n    width: 18px;\\n    height: 18px;\\n    background-color: #FFFFFF;\\n    border-radius: 100%;\\n    display: inline-block;\\n    -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\\n            animation: bouncedelay 1.4s infinite ease-in-out;\\n    /* Prevent first frame from flickering when animation starts */\\n    -webkit-animation-fill-mode: both;\\n            animation-fill-mode: both; }\\n  .spinner-three-bounce[data-spinner] [data-bounce1] {\\n    -webkit-animation-delay: -0.32s;\\n            animation-delay: -0.32s; }\\n  .spinner-three-bounce[data-spinner] [data-bounce2] {\\n    -webkit-animation-delay: -0.16s;\\n            animation-delay: -0.16s; }\\n\\n@-webkit-keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    transform: scale(0); }\\n  40% {\\n    transform: scale(1); } }\\n\\n@keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    transform: scale(0); }\\n  40% {\\n    transform: scale(1); } }\\n\";\nstyleInject(css$6);\n\nvar SpinnerThreeBouncePlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(SpinnerThreeBouncePlugin, _UIContainerPlugin);\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'spinner';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-spinner': '',\n        'class': 'spinner-three-bounce'\n      };\n    }\n  }]);\n\n  function SpinnerThreeBouncePlugin(container) {\n    var _this;\n\n    _classCallCheck(this, SpinnerThreeBouncePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SpinnerThreeBouncePlugin).call(this, container));\n    _this.template = template(spinnerHTML);\n    _this.showTimeout = null;\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERING, _this.onBuffering);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERFULL, _this.onBufferFull);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STOP, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ENDED, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ERROR, _this.onStop);\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.show();\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.hide();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hide();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n      if (this.showTimeout === null) this.showTimeout = setTimeout(function () {\n        return _this2.$el.show();\n      }, 300);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.showTimeout !== null) {\n        clearTimeout(this.showTimeout);\n        this.showTimeout = null;\n      }\n\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template());\n      this.container.$el.append(this.$el);\n      this.$el.hide();\n      if (this.container.buffering) this.onBuffering();\n      return this;\n    }\n  }]);\n\n  return SpinnerThreeBouncePlugin;\n}(UIContainerPlugin);\n\nvar StatsPlugin = /*#__PURE__*/function (_ContainerPlugin) {\n  _inherits(StatsPlugin, _ContainerPlugin);\n\n  _createClass(StatsPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'stats';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }]);\n\n  function StatsPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, StatsPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StatsPlugin).call(this, container));\n\n    _this.setInitialAttrs();\n\n    _this.reportInterval = _this.options.reportInterval || 5000;\n    _this.state = 'IDLE';\n    return _this;\n  }\n\n  _createClass(StatsPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container.playback, Events.PLAYBACK_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_DESTROYED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n      this.listenTo(this.container, Events.CONTAINER_STATS_ADD, this.onStatsAdd);\n      this.listenTo(this.container, Events.CONTAINER_BITRATE, this.onStatsAdd);\n      this.listenTo(this.container.playback, Events.PLAYBACK_STATS_ADD, this.onStatsAdd);\n    }\n  }, {\n    key: \"setInitialAttrs\",\n    value: function setInitialAttrs() {\n      this.firstPlay = true;\n      this.startupTime = 0;\n      this.rebufferingTime = 0;\n      this.watchingTime = 0;\n      this.rebuffers = 0;\n      this.externalMetrics = {};\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.state = 'PLAYING';\n      this.watchingTimeInit = Date.now();\n      if (!this.intervalId) this.intervalId = setInterval(this.report.bind(this), this.reportInterval);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      clearInterval(this.intervalId);\n      this.report();\n      this.intervalId = undefined;\n      this.state = 'STOPPED';\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      if (this.firstPlay) this.startupTimeInit = Date.now();else this.rebufferingTimeInit = Date.now();\n      this.state = 'BUFFERING';\n      this.rebuffers++;\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      if (this.firstPlay && this.startupTimeInit) {\n        this.firstPlay = false;\n        this.startupTime = Date.now() - this.startupTimeInit;\n        this.watchingTimeInit = Date.now();\n      } else if (this.rebufferingTimeInit) {\n        this.rebufferingTime += this.getRebufferingTime();\n      }\n\n      this.rebufferingTimeInit = undefined;\n      this.state = 'PLAYING';\n    }\n  }, {\n    key: \"getRebufferingTime\",\n    value: function getRebufferingTime() {\n      return Date.now() - this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"getWatchingTime\",\n    value: function getWatchingTime() {\n      var totalTime = Date.now() - this.watchingTimeInit;\n      return totalTime - this.rebufferingTime;\n    }\n  }, {\n    key: \"isRebuffering\",\n    value: function isRebuffering() {\n      return !!this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"onStatsAdd\",\n    value: function onStatsAdd(metric) {\n      $.extend(this.externalMetrics, metric);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var metrics = {\n        startupTime: this.startupTime,\n        rebuffers: this.rebuffers,\n        rebufferingTime: this.isRebuffering() ? this.rebufferingTime + this.getRebufferingTime() : this.rebufferingTime,\n        watchingTime: this.isRebuffering() ? this.getWatchingTime() - this.getRebufferingTime() : this.getWatchingTime()\n      };\n      $.extend(metrics, this.externalMetrics);\n      return metrics;\n    }\n  }, {\n    key: \"report\",\n    value: function report() {\n      this.container.statsReport(this.getStats());\n    }\n  }]);\n\n  return StatsPlugin;\n}(ContainerPlugin);\n\nvar watermarkHTML = \"<div class=\\\"clappr-watermark\\\" data-watermark data-watermark-<%=position %>>\\n<% if(typeof imageLink !== 'undefined') { %>\\n<a target=\\\"_blank\\\" href=\\\"<%= imageLink %>\\\">\\n<% } %>\\n<img src=\\\"<%= imageUrl %>\\\">\\n<% if(typeof imageLink !== 'undefined') { %>\\n</a>\\n<% } %>\\n</div>\\n\";\n\nvar css$7 = \".clappr-watermark[data-watermark] {\\n  position: absolute;\\n  min-width: 70px;\\n  max-width: 200px;\\n  width: 12%;\\n  text-align: center;\\n  z-index: 10; }\\n\\n.clappr-watermark[data-watermark] a {\\n  outline: none;\\n  cursor: pointer; }\\n\\n.clappr-watermark[data-watermark] img {\\n  max-width: 100%; }\\n\\n.clappr-watermark[data-watermark-bottom-left] {\\n  bottom: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-bottom-right] {\\n  bottom: 10px;\\n  right: 42px; }\\n\\n.clappr-watermark[data-watermark-top-left] {\\n  top: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-top-right] {\\n  top: 10px;\\n  right: 37px; }\\n\";\nstyleInject(css$7);\n\nvar WaterMarkPlugin = /*#__PURE__*/function (_UIContainerPlugin) {\n  _inherits(WaterMarkPlugin, _UIContainerPlugin);\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'watermark';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.9\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(watermarkHTML);\n    }\n  }]);\n\n  function WaterMarkPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, WaterMarkPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WaterMarkPlugin).call(this, container));\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.configure);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      this.position = this.options.position || 'bottom-right';\n\n      if (this.options.watermark) {\n        this.imageUrl = this.options.watermark;\n        this.imageLink = this.options.watermarkLink;\n        this.render();\n      } else {\n        this.$el.remove();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (!this.hidden) this.$el.show();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.hide();\n      var templateOptions = {\n        position: this.position,\n        imageUrl: this.imageUrl,\n        imageLink: this.imageLink\n      };\n      this.$el.html(this.template(templateOptions));\n      this.container.$el.append(this.$el);\n      return this;\n    }\n  }]);\n\n  return WaterMarkPlugin;\n}(UIContainerPlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version = \"0.4.7\";\nvar Plugins = {\n  ClickToPause: ClickToPausePlugin,\n  ClosedCaptions: ClosedCaptions,\n  DVRControls: DVRControls,\n  EndVideo: EndVideo,\n  ErrorScreen: ErrorScreen,\n  Favicon: Favicon,\n  GoogleAnalytics: GoogleAnalytics,\n  MediaControl: MediaControl,\n  Poster: PosterPlugin,\n  SeekTime: SeekTime,\n  SpinnerThreeBounce: SpinnerThreeBouncePlugin,\n  Stats: StatsPlugin,\n  WaterMark: WaterMarkPlugin\n};\n\nexport { ClickToPausePlugin as ClickToPause, ClosedCaptions, DVRControls, EndVideo, ErrorScreen, Favicon, GoogleAnalytics, MediaControl, Plugins, PosterPlugin as Poster, SeekTime, SpinnerThreeBouncePlugin as SpinnerThreeBounce, StatsPlugin as Stats, index as Vendor, WaterMarkPlugin as WaterMark, version };\n","// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\nimport ClapprCore, { Loader } from '@clappr/core'\nimport { Plugins, Vendor } from '@clappr/plugins'\n\nconst version = VERSION\n\nfor (let plugin of Object.values(Plugins))\n  Loader.registerPlugin(plugin)\n\n// TODO: remove on 0.5.x (backward-compatibility only)\nconst {\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n} = Plugins\n\nexport default {\n  ...ClapprCore,\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n  Vendor,\n  Plugins,\n  version,\n}\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_get","property","receiver","Reflect","get","base","object","hasOwnProperty","_superPropBase","desc","getOwnPropertyDescriptor","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","find","predicate","this","len","thisArg","arguments","k","kValue","entries","ownProps","keys","resArray","values","assign","varArgs","to","index","nextSource","nextKey","findIndex","$","Media","mp4","Zepto","classList","camelize","uniq","emptyArray","concat","filter","slice","document","window","elementDisplay","classCache","cssNumber","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","table","createElement","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","class2type","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","type","String","isFunction","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","likeArray","dasherize","str","replace","toLowerCase","classRE","name","RegExp","maybeAddPx","children","element","map","childNodes","node","Z","dom","selector","extend","source","deep","undefined$1","filtered","nodes","funcArg","context","arg","idx","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","deserializeValue","test","parseJSON","e","traverseNode","fun","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","parent","parentNode","temp","appendChild","qsa","indexOf","removeChild","chr","toUpperCase","array","item","fragment","html","properties","container","$1","innerHTML","each","attr","isZ","init","trim","ready","args","shift","forEach","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","documentElement","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","noop","elements","callback","fn","apply","grep","JSON","parse","split","reduce","sort","splice","toArray","el","readyState","body","addEventListener","size","remove","every","not","add","is","excludes","has","eq","first","last","$this","some","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","show","nodeName","display","style","getComputedStyle","getPropertyValue","replaceWith","newContent","before","wrap","structure","func","clone","wrapAll","cloneNode","append","wrapInner","unwrap","hide","css","toggle","setting","prev","originHtml","text","newText","textContent","join","result","getAttribute","removeAttr","attribute","prop","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","removeClass","toggleClass","when","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","position","parseFloat","detach","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","jsonpID","Date","rscript","scriptTypeRE","xmlTypeRE","blankRE","originAnchor","triggerGlobal","settings","eventName","global","event","Event","trigger","isDefaultPrevented","triggerAndReturn","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","status","complete","active","ajaxStop","appendQuery","url","query","parseArguments","dataType","href","location","ajaxJSONP","options","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","script","originalCallback","abort","errorType","triggerHandler","promise","on","clearTimeout","off","head","timeout","setTimeout","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","cache","dataFilter","urlAnchor","hashIndex","Deferred","ajaxStart","protocol","host","param","traditional","serializeData","hasPlaceholder","now","jsonp","mime","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","mimeToDataType","getResponseHeader","responseType","response","responseText","ajaxDataFilter","eval","responseXML","statusText","async","open","username","password","xhrFields","send","post","getJSON","load","parts","escape","encodeURIComponent","params","serialize","scope","hash","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","fire","stopOnFalse","disable","start","unique","disabled","lock","locked","fireWith","tuples","state","always","fail","then","fns","defer","tuple","returned","resolve","reject","progress","notify","stateString","sub","progressValues","progressContexts","resolveContexts","resolveValues","remain","updateFn","ctx","notifyWith","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","zid","findHandlers","ns","matcher","handler","sel","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unshift","bind","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","sourceMethod","timeStamp","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","dispatchEvent","createEvent","bubbles","initEvent","nativeGetComputedStyle","pseudoElement","oldQsa","oldMatches","visible","filters","hidden","checked","filterRe","childRe","classTag","process","exec","taggedParent","console","n","viewportObject","ua","BROWSER_DATA","group","identifier","versionIdentifier","OS_DATA","version","versionSeparator","Browser","setBrowserVersion","browserObject","splitVersion","fullVersion","majorVersion","parseInt","minorVersion","setOsVersion","separator","osObject","finalSeparator","substr","browserInfo","extra","navigator","appName","appVersion","getBrowserInfo","userAgent","propDescriptor","Surrogate","_parent","_getPrototypeOf2","_this","_len","_key","initialize","isEdge","isChrome","isSafari","isFirefox","isLegacyIE","ActiveXObject","isIE","isIE11","isChromecast","isMobile","isiOS","isAndroid","isWindowsPhone","isWin8App","isWiiU","isPS4","hasLocalstorage","localStorage","setItem","removeItem","hasFlash","mimeTypes","enabledPlugin","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","browser","browserRegExpResult","versionRegExpResult","getBrowserData","os","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","osRegExpResult","getOsData","viewport","device","orientation","setViewportOrientation","Fullscreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","querySelector","webkitEnterFullScreen","cancelFullscreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","Config","volume","_defaultConfig","domain","_createKeyspace","_defaultValueFor","QueryString","paramsString","pl","search","decode","s","decodeURIComponent","substring","_urlParams","_hashParams","seekStringToSeconds","paramName","seconds","seekString","hashParams","factor","h","suffix","time","idsCounter","uniqueId","prefix","isNumber","currentScriptUrl","scripts","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","getBrowserLanguage","language","canAutoPlayMedia","cb","inline","muted","play","timeoutId","setResult","Error","videoStack","DomRecycler","recycleVideo","tagName","attributes","DoubleEventHandler","delay","lastTime","prevented","currentTime","getTime","diffTime","Utils","formatTime","paddedHours","minutes","hours","days","out","performance","removeArrayItem","listContainsIgnoreCase","items","itemEach","BOLD","WARN","ERROR","COLORS","DESCRIPTIONS","Log","level","offLevel","BLACKLIST","log","previousLevel","newLevel","message","color","klassDescription","LEVEL_DEBUG","LEVEL_INFO","LEVEL_WARN","LEVEL_ERROR","getInstance","_instance","setLevel","debug","info","warn","eventSplitter","eventsApi","action","rest","names","l","triggerEvents","ev","a1","a2","a3","run","exception","Events","_events","_once","retain","j","_callback","allEvents","all","listeningTo","_listeningTo","_listenId","Custom","listenMethods","listenTo","listenToOnce","method","PLAYER_READY","PLAYER_RESIZE","PLAYER_FULLSCREEN","PLAYER_PLAY","PLAYER_PAUSE","PLAYER_STOP","PLAYER_ENDED","PLAYER_SEEK","PLAYER_ERROR","PLAYER_TIMEUPDATE","PLAYER_VOLUMEUPDATE","PLAYER_SUBTITLE_AVAILABLE","PLAYBACK_PROGRESS","PLAYBACK_TIMEUPDATE","PLAYBACK_READY","PLAYBACK_BUFFERING","PLAYBACK_BUFFERFULL","PLAYBACK_SETTINGSUPDATE","PLAYBACK_LOADEDMETADATA","PLAYBACK_HIGHDEFINITIONUPDATE","PLAYBACK_BITRATE","PLAYBACK_LEVELS_AVAILABLE","PLAYBACK_LEVEL_SWITCH_START","PLAYBACK_LEVEL_SWITCH_END","PLAYBACK_PLAYBACKSTATE","PLAYBACK_DVR","PLAYBACK_MEDIACONTROL_DISABLE","PLAYBACK_MEDIACONTROL_ENABLE","PLAYBACK_ENDED","PLAYBACK_PLAY_INTENT","PLAYBACK_PLAY","PLAYBACK_PAUSE","PLAYBACK_SEEK","PLAYBACK_SEEKED","PLAYBACK_STOP","PLAYBACK_ERROR","PLAYBACK_STATS_ADD","PLAYBACK_FRAGMENT_LOADED","PLAYBACK_LEVEL_SWITCH","PLAYBACK_SUBTITLE_AVAILABLE","PLAYBACK_SUBTITLE_CHANGED","CORE_CONTAINERS_CREATED","CORE_ACTIVE_CONTAINER_CHANGED","CORE_OPTIONS_CHANGE","CORE_READY","CORE_FULLSCREEN","CORE_RESIZE","CORE_SCREEN_ORIENTATION_CHANGED","CORE_MOUSE_MOVE","CORE_MOUSE_LEAVE","CONTAINER_PLAYBACKSTATE","CONTAINER_PLAYBACKDVRSTATECHANGED","CONTAINER_BITRATE","CONTAINER_STATS_REPORT","CONTAINER_DESTROYED","CONTAINER_READY","CONTAINER_RESIZE","CONTAINER_ERROR","CONTAINER_LOADEDMETADATA","CONTAINER_SUBTITLE_AVAILABLE","CONTAINER_SUBTITLE_CHANGED","CONTAINER_TIMEUPDATE","CONTAINER_PROGRESS","CONTAINER_PLAY","CONTAINER_STOP","CONTAINER_PAUSE","CONTAINER_ENDED","CONTAINER_CLICK","CONTAINER_DBLCLICK","CONTAINER_CONTEXTMENU","CONTAINER_MOUSE_ENTER","CONTAINER_MOUSE_LEAVE","CONTAINER_SEEK","CONTAINER_SEEKED","CONTAINER_VOLUME","CONTAINER_FULLSCREEN","CONTAINER_STATE_BUFFERING","CONTAINER_STATE_BUFFERFULL","CONTAINER_SETTINGSUPDATE","CONTAINER_HIGHDEFINITIONUPDATE","CONTAINER_MEDIACONTROL_SHOW","CONTAINER_MEDIACONTROL_HIDE","CONTAINER_MEDIACONTROL_DISABLE","CONTAINER_MEDIACONTROL_ENABLE","CONTAINER_STATS_ADD","CONTAINER_OPTIONS_CHANGE","MEDIACONTROL_RENDERED","MEDIACONTROL_FULLSCREEN","MEDIACONTROL_SHOW","MEDIACONTROL_HIDE","MEDIACONTROL_MOUSEMOVE_SEEKBAR","MEDIACONTROL_MOUSELEAVE_SEEKBAR","MEDIACONTROL_PLAYING","MEDIACONTROL_NOTPLAYING","MEDIACONTROL_CONTAINERCHANGED","MEDIACONTROL_OPTIONS_CHANGE","BaseObject","_Events","_options","delegateEventSplitter","UIObject","_BaseObject","cid","_ensureElement","delegateEvents","$el","stopListening","undelegateEvents","Function","setElement","attrs","PlayerError","core","FATAL","INFO","ErrorMixin","createError","useCodePrefix","origin","i18n","prefixedCode","code","defaultError","description","Levels","raw","errorData","UI","defaultUI","title","t","playerError","UICorePlugin","_UIObject","enabled","bindEvents","render","styleInject","ref","insertAt","styleSheet","createTextNode","Container","_i18n","playback","isReady","mediaControlDisabled","plugins","dblTapHandler","clickTimer","clickDelay","data-container","dblclick","touchend","contextmenu","ended","buffering","hasClosedCaptionsTracks","closedCaptionsTracks","closedCaptionsTrackId","trackId","onProgress","timeUpdated","onBuffering","bufferfull","settingsUpdate","loadedMetadata","highDefinitionUpdate","updateBitrate","playbackStateChanged","playbackDvrStateChanged","disableMediaControl","enableMediaControl","onSeeked","onEnded","playing","paused","stopped","subtitleAvailable","subtitleChanged","track","dvrInUse","newBitrate","metrics","getPlaybackType","dvrEnabled","disableResizeObserver","plugin","destroy","duration","animate","isPlaying","getStartTimeOffset","getDuration","_error","metadata","timeProgress","current","stop","pause","_this2","chromeless","allowUserInteraction","cancelClicked","_this3","handle","seek","percentage","getPlugin","isHD","isHighDefinitionInUse","_this4","resizeObserverInterval","setInterval","checkResize","clearInterval","newSize","clientWidth","clientHeight","_ref","currentSize","updateStyle","configure","enableResizeObserver","Playback","_consented","NO_OP","canAutoPlay","canPlay","VOD","AOD","LIVE","ContainerFactory","loader","sources","createContainer","playbackPlugins","resolvedSource","playbackPlugin","findPlaybackPlugin","addContainerPlugins","containerPlugins","Plugin","addPlugin","Core","configureDomRecycler","firstResize","_boundFullscreenHandler","handleFullscreenChange","handleWindowResize","webkitfullscreenchange","data-player","_mediaControl","dummyMediaControl","_dummyMediaControl","_activeContainer","activeContainer","containerFactory","prepareContainers","createContainers","setupContainers","resolveOnContainersReady","isFullscreen","setFullscreen","setPlayerSize","previousSize","resize","triggerResize","oldHeight","oldWidth","computedSize","updateSize","innerWidth","innerHeight","_screenOrientation","c","removeContainer","setupContainer","renderContainers","appendToParent","_this5","activePlayback","playbackEl","fullscreenEl","_this6","appendTo","parentElement","registry","CoreFactory","player","addCorePlugins","corePlugins","setupExternalInterface","externalFunctions","getExternalInterface","VERSION_REGEX","Version","major","minor","patch","_matches","other","diff","min","max","compare","filterPluginsByType","_ref3","_ref4","Loader","playbacks","externalPlugins","playerId","_Loader$registeredPlu","registeredPlugins","validateExternalPluginsType","addExternalPlugins","entry","_entry$prototype","supportedVersion","maxVersion","inc","minVersion","satisfies","pluginEntry","checkVersionSupport","pluginRegistry","previousEntry","playbackEntry","previousEntryIdx","memo","pluginsMap","reduceRight","groupPluginsByType","removeDups","errorMessage","baseUrl","Player","defaultOptions","persistConfig","_normalizeSources","disableKeyboardShortcuts","_registerOptionEventListeners","_coreFactory","parentId","setParentId","attachTo","_loader","_ready","onReady","onResize","onPlay","onPause","onStop","onSeek","onError","onTimeUpdate","onVolumeUpdate","onSubtitleAvailable","_addEventListeners","_onReady","_containerChanged","_onFullscreenChange","_onResize","_onPlay","_onPause","_onStop","_onEnded","_onSeek","_onError","_onTimeUpdate","_onVolumeUpdate","_onSubtitleAvailable","newEvents","hasNewEvents","userEvent","eventType","eventsMapping","eventFunction","_addContainerEventListeners","fullscreen","getCurrentTime","autoPlay","getCurrentPlayback","consent","seekPercentage","mute","unmute","isDvrEnabled","isDvrInUse","ContainerPlugin","CorePlugin","UIContainerPlugin","global$1","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","performance$1","mozNow","msNow","oNow","webkitNow","evaluate","interpolate","noMatch","escapes","'","\\","\r","\n","\t"," "," ","escaper","htmlEntities","&","<",">","\"","entityRe","escapeExpr","string","counter","tmpl","variable","template","MIMETYPES","codec","ogg","3gpp","webm","mkv","m3u8","AUDIO_MIMETYPES","wav","mp3","aac","oga","KNOWN_AUDIO_MIMETYPES","acc","UNKNOWN_ERROR","HTML5Video","_Playback","_destroyed","_loadStarted","_isBuffering","_playheadMoving","_playheadMovingTimer","_stopped","_ccTrackId","_setupSrc","disableContextMenu","disableVideoTagContextMenu","posterUrl","playbackConfig","preload","poster","defaultMuted","loop","crossOrigin","x-webkit-playsinline","playInline","controls","useVideoTagDefaultControls","playsinline","crossorigin","default","right","externalTracks","_setupExternalTracks","attemptAutoPlay","isAudioOnly","resourceUrl","_mimeTypesForUrl","audioOnly","data-html5-video","canplay","canplaythrough","durationchange","loadeddata","loadedmetadata","seeking","seeked","stalled","timeupdate","waiting","nextTick","disableCanAutoPlay","opts","autoPlayTimeout","tracks","_externalTracks","kind","label","lang","srcUrl","_ccIsSetup","_src","_handleBufferingEvents","_updateSettings","autoSeekFromUrl","_checkInitialSeek","_onProgress","seekEnabled","isSeekEnabled","onDemandType","Infinity","eventHandler","_stopPlayheadMovingChecks","_playheadMovingTimeOnCheck","_determineIfPlayheadMoving","_checkForClosedCaptions","_startPlayheadMovingChecks","playheadShouldBeMoving","HAVE_FUTURE_DATA","isUnknownError","formattedError","handleTextTrackChange","textTracks","garbage","seekTime","total","buffered","bufferedPos","end","_isReadyState","isHTML5Video","_handleTextTrackChange","mode","showingTrack","mimeTypesByExtension","extension","_canPlay","media","mediaType","canPlayType","HTML5Audio","_HTML5Video","HTMLImg","data-html-img","resource","NoOp","_noiseFrameNum","data-no-op","playbackNotSupported","playbackNotSupportedMessage","showForNoOp","_animate","buffer32","idata","createImageData","canvas","Uint32Array","buffer","random","pow","putImageData","_stop","_noise","_animationHandle","_loop","getContext","Styler","getStyleFor","Strings","_CorePlugin","_initializeMessages","_language","fallbackLang","_messages","en","back_to_live","playback_not_supported","default_error_title","default_error_message","pt","es","ru","fr","et","ar","strings","SourcesPlugin","onContainersCreated","firstValidSource","registerPlugin","registerPlayback","main","ClickToPausePlugin","_ContainerPlugin","pointerEnabled","ClosedCaptions","_UICorePlugin","config","closedCaptionsConfig","_title","_ariaLabel","ariaLabel","_labelCb","labelCallback","click [data-cc-button]","click [data-cc-select]","data-cc-controls","bindCoreEvents","bindContainerEvents","mediaControl","containerChanged","hideContextMenu","onSubtitleChanged","onContainerStop","ccAvailable","renderCcButton","setCurrentContextMenuElement","dataset","ccSelect","hasCC","_trackId","contextMenuElement","$ccButton","disabledLabel","$fullscreen","insertAfter","prepend","DVRControls","click .live-button","data-dvr-controls","dvrChanged","shouldRender","useDvrControls","backToLive","EndVideo","exitFullscreenOnEnd","toggleFullscreen","ErrorScreen","disableErrorScreen","getCurrentContainer","data-error-screen","onContainerChanged","reloadButton","reload","unbindReload","icon","reloadIcon","bindReload","playIcon","pauseIcon","oldIcon","Favicon","_container","changeFavicon","enable","setPlayIcon","setPauseIcon","resetIcon","fillStyle","d","path","Path2D","fill","toDataURL","createIcon","changeIcon","GoogleAnalytics","gaAccount","account","trackerName","gaTrackerName","domainName","gaDomainName","currentHDState","embedScript","_gat","addEventListeners","onload","onBufferFull","onPlaybackChanged","onVolumeChanged","CONTAINER_FULL_SCREEN","onFullscreen","onHD","onDVR","_gaq","playbackState","res","Kibo","KEY_NAMES_BY_CODE","8","9","13","16","17","18","20","27","32","37","38","39","40","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","KEY_CODES_BY_NAME","MODIFIERS","registerEvent","attachEvent","unregisterEvent","detachEvent","stringContains","neatString","capitalize","what","arrayIncludes","haystack","needle","extractModifiers","keyCombination","modifiers","extractKey","modifiersAndKey","keyName","keyCode","that","lastKeyCode","lastModifiers","keysDown","any","keysUp","downHandler","upHandler","unloader","upOrDown","registeredKeys","lastModifiersAndKey","registerKeys","newKeys","unregisterKeys","down","up","lastKey","modifier","stopIcon","volumeIcon","fullscreenIcon","MediaControl","currentPositionValue","currentDurationValue","keepVisible","fullScreenOnVideoTagSupported","setInitialVolume","kibo","focusElement","bindKeyEvents","userDisabled","stopDragHandler","stopDrag","updateDragHandler","updateDrag","playbackIsNOOP","data-media-control","click [data-play]","click [data-pause]","click [data-playpause]","click [data-stop]","click [data-playstop]","click [data-fullscreen]","click .bar-container[data-seekbar]","click .bar-container[data-volume]","click .drawer-icon[data-volume]","mouseenter .drawer-container[data-volume]","mouseleave .drawer-container[data-volume]","mousedown .bar-container[data-volume]","mousemove .bar-container[data-volume]","mousedown .bar-scrubber[data-seekbar]","mousemove .bar-container[data-seekbar]","mouseleave .bar-container[data-seekbar]","mouseenter .media-control-layer[data-controls]","mouseleave .media-control-layer[data-controls]","intendedVolume","setVolume","getVolume","onActiveContainerChanged","hideMediaControlDelay","playerResize","changeTogglePlay","updateProgressBar","onLoadedMetadataOnVideoTag","unbindKeyEvents","initialVolume","restore","updateVolumeUI","video","webkitSupportsFullscreen","rendered","$volumeBarContainer","containerWidth","barWidth","$volumeBarBackground","pos","$volumeBarFill","$volumeBarScrubber","ceil","$volumeIcon","applyButtonStyle","$playPauseToggle","$playStopToggle","offsetX","pageX","$seekBarContainer","$seekBarHover","getVolumeFromUIEvent","draggingVolumeBar","$fullscreenToggle","hideVolumeBar","draggingSeekBar","$seekBarLoaded","$seekBarPosition","$seekBarScrubber","setSeekPercentage","isInitialVolume","persist","setWhenContainerReady","resetUserKeepVisible","hideVolumeId","loadedStart","loadedEnd","renderSeekBar","currentSeekBarPercentage","newPosition","newDuration","displayedPosition","$position","displayedDuration","$duration","userKeepVisible","mousePointerMoved","clientX","lastMouseX","clientY","lastMouseY","hideId","updateCursorStyle","_this7","isVisible","hideMediaControl","hasKeepVisibleRequested","hasDraggingAction","showing","newSettings","getSettings","stringify","$hdIndicator","$layer","$volumeContainer","resetIndicators","initializeIcons","displayedSeekBarPercentage","delta","_this8","_this9","bindKeyAndShow","togglePlayPause","seekRelative","mediacontrol","buttonsColor","buttons","seekbarColor","seekbar","_this10","createCachedElements","previousSeekPercentage","parseColors","PosterPlugin","_UIContainerPlugin","hasStartedPlaying","playRequested","update","data-poster","showOnVideoEnd","hasFatalError","showPlayButton","hidePlayButton","$playButton","updatePlayButton","updatePoster","hidePoster","showPoster","shouldHideOnPlay","custom","background-image","background","$playWrapper","formatTime$1","SeekTime","hoveringOverSeekBar","hoverPosition","firstFragDateTime","actualLiveTime","actualLiveServerTime","actualLiveServerTimeDiff","data-seek-time","mediaControlContainer","isLiveStreamWithDvr","showTime","hideTime","updateDuration","calculateHoverPosition","secondsSinceMidnight","useActualLiveTime","setHours","shouldBeVisible","getSeekTime","currentSeekTime","displayedSeekTime","$seekTimeEl","durationShown","$durationEl","currentDuration","elWidth","elLeftPos","SpinnerThreeBouncePlugin","showTimeout","data-spinner","StatsPlugin","setInitialAttrs","reportInterval","onStatsAdd","firstPlay","startupTime","rebufferingTime","watchingTime","rebuffers","externalMetrics","watchingTimeInit","intervalId","report","startupTimeInit","rebufferingTimeInit","getRebufferingTime","metric","isRebuffering","getWatchingTime","statsReport","getStats","Plugins","ClickToPause","Poster","SpinnerThreeBounce","Stats","WaterMark","WaterMarkPlugin","watermark","imageUrl","imageLink","watermarkLink","templateOptions","ClapprCore","Vendor"],"mappings":"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"}